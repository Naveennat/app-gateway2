{
    "$schema": "https://raw.githubusercontent.com/rdkcentral/rdkservices/main/Tools/json_generator/schemas/interface.schema.json",
    "jsonrpc": "2.0",
    "info": {
        "title": "Privacy API",
        "class": "Privacy",
        "description": "The `Privacy` plugin allows managing privassy settigs from ESS backoff."
    },
    "common": {
        "$ref": "../common/common.json"
    },
    "definitions": {
        "allowed":{
            "summary": "Bolean to allow or disallow the setting",
            "type": "boolean",
            "example": "true"
        }
    },
    "methods": {
        "GetConsentString": {
            "summary": "Get the consent string for the given ad usecase",
            "params": {
                "type": "object",
                "properties": {
                    "adUsecase": {
                        "type": "string",
                        "example": "adUsecase"
                    }
                },
                "required": [
                    "adUsecase"
                ]
            },
            "returns": {
                "type": "object",
                "properties": {
                    "gppValue": {
                        "type": "string",
                        "example": "gppValue"
                    },
                    "gppSid": {
                        "type": "string",
                        "example": "gppSid"
                    },
                    "decoded": {
                        "type": "object",
                        "properties": {
                            "value": {
                                "type": "string",
                                "example": "value"
                            }
                        }
                    }
                }
            }
        },
        "GetContinueWatching": {
            "summary": "Get the continue watching setting",
            "returns": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "GetPersonalization": {
            "summary": "Get the personalization setting",
            "returns": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "GetProductAnalytics": {
            "summary": "Get the product analytics setting",
            "returns": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "GetWatchHistory": {
            "summary": "Get the watch history setting",
            "returns": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "SetContinueWatching": {
            "summary": "Set the continue watching setting",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "SetPersonalization": {
            "summary": "Set the personalization setting",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "SetProductAnalytics": {
            "summary": "Set the product analytics setting",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "SetWatchHistory": {
            "summary": "Set the watch history setting",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "$ref": "#/definitions/allowed"
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "GetAllPrivacySettings": {
            "summary": "Get all privacy settings",
            "returns": {
                "type": "object",
                "properties": {
                    "settings": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string",
                                    "example": "name"
                                },
                                "allowed": {
                                    "$ref": "#/definitions/allowed"
                                }
                            }
                        }
                    }
                }
            }
        },
        "GetExclusionPolicies": {
            "summary": "Get all exclusion policies",
            "returns": {
                "type": "object",
                "properties": {
                    "policies": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "policy"
                        }
                    }
                }
            }
        },
        "GetDataForExclusionPolicy": {
            "summary": "Get data for the given exclusion policy",
            "params": {
                "type": "object",
                "properties": {
                    "policy": {
                        "type": "string",
                        "example": "policy"
                    }
                },
                "required": [
                    "policy"
                ]
            },
            "returns": {
                "type": "object",
                "properties": {
                    "dataEvents": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "dataEvent"
                        }
                    },
                    "entityReference": {
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "entityReference"
                        }
                    },
                    "derivativePropagation": {
                        "type": "boolean",
                        "example": true
                    }
                }
            }
        }
    },
    "events": {
        "onConsentStringChanged": {
            "summary": "Event to notify that the consent string has changed"
        },
        "onContinueWatchingChanged": {
            "summary": "Event to notify that the continue watching setting has changed",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "type":"boolean",
                        "example": true
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "onPersonalizationChanged": {
            "summary": "Event to notify that the personalization setting has changed",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "type":"boolean",
                        "example": true
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "onProductAnalyticsChanged": {
            "summary": "Event to notify that the product analytics setting has changed",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "type":"boolean",
                        "example": true
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        },
        "onWatchHistoryChanged": {
            "summary": "Event to notify that the watch history setting has changed",
            "params": {
                "type": "object",
                "properties": {
                    "allowed": {
                        "type":"boolean",
                        "example": true
                    }
                },
                "required": [
                    "allowed"
                ]
            }
        }
    }
}
