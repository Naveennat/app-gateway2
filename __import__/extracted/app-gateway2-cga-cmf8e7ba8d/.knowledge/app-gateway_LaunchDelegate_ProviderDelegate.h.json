{"is_source_file": true, "format": "C++ header file", "description": "This file declares classes, enums, and templates related to a ProviderDelegate module responsible for managing provider contexts, registration, invocation, responses, errors, notifications, and cleanup within a gateway framework. It includes JSON validation, callback mechanisms, and thread-safe registry management.", "external_files": ["<interfaces/IAppGateway.h>", "<mutex>", "<map>"], "external_methods": [], "published": ["ProviderDelegate", "ProviderContext", "ProviderMethodType", "JAdditionalProviderContext"], "classes": [{"name": "JAdditionalProviderContext", "description": "JSON container class with providerType and capability fields, used for additional context validation."}, {"name": "RegistryMap", "description": "Thread-safe map wrapper class for storing ProviderContext objects keyed by a generic type."}, {"name": "ProviderDelegate", "description": "Main class managing provider registration, invocation, response handling, error processing, notifications, and cleanup, with callback support."}], "methods": [{"name": "void SetRespondCallback(const RespondCallback & callback)", "description": "Sets the callback function for provider responses.", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"name": "void SetEmitCallback(const EmitCallback & callback)", "description": "Sets the callback function for emitting events.", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"name": "RegisterProvider", "description": "Registers a new provider with given context, capability, and provision flag."}, {"name": "InvokeProvider", "description": "Invokes a provider with specified context, capability, and parameters."}, {"name": "HandleProviderResponse", "description": "Processes a provider's response payload."}, {"name": "HandleProviderError", "description": "Processes an error payload from a provider."}, {"name": "HandleProviderNotification", "description": "Handles notification payloads related to a provider."}, {"name": "bool Cleanup(const uint32_t & connectionId,const string & origin)", "description": "Cleans up provider contexts associated with a specific connection ID and origin.", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"name": "HandleAppGatewayRequest", "description": "Processes incoming app gateway requests based on method and payload."}, {"name": "void Add(const KeyType & key,const ProviderContext & value)", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Get(const KeyType & key,ProviderContext & value)", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class", "description": "unavailable"}, {"name": "JAdditionalProviderContext()", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class", "description": "unavailable"}, {"name": "RegistryMap()", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class", "description": "unavailable"}, {"name": "void Remove(const KeyType & key)", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Validate(string & error) const", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class", "description": "unavailable"}, {"name": "~RegistryMap()", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class", "description": "unavailable"}], "calls": ["ExtractAdditionalContext", "GetType", "BrokerProvider", "ExtractCorrelationIdAndKey"], "search-terms": ["ProviderDelegate", "ProviderContext", "RegistryMap", "ProviderMethodType", "json validation", "callback", "thread-safe registry", "app gateway request", "launch delegate", "WPEFramework"], "state": 2, "file_id": 229, "knowledge_revision": 754, "git_revision": "727800fc84f5393f5ac231785d3764465fe20036", "ctags": [{"_type": "tag", "name": "Add", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            void Add(const KeyType& key, const ProviderContext& value) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const KeyType & key,const ProviderContext & value)", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"_type": "tag", "name": "Cleanup", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            bool Cleanup(const uint32_t& connectionId, const string& origin) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t & connectionId,const string & origin)", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"_type": "tag", "name": "Context", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^    using Context = Exchange::GatewayContext;$/", "language": "C++", "typeref": "typename:Exchange::GatewayContext", "kind": "typedef", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ERROR", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        ERROR$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::ProviderMethodType", "scopeKind": "enum"}, {"_type": "tag", "name": "EmitCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        using EmitCallback = std::function<void(const string& event, const std::string& payload,/", "language": "C++", "kind": "typedef", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "Get", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            bool Get(const KeyType& key, ProviderContext& value) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const KeyType & key,ProviderContext & value)", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"_type": "tag", "name": "INVOKE", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        INVOKE,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::ProviderMethodType", "scopeKind": "enum"}, {"_type": "tag", "name": "JAdditionalProviderContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        JAdditionalProviderContext() : Core::JSON::Container()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class"}, {"_type": "tag", "name": "JAdditionalProviderContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^    class JAdditionalProviderContext: public Core::JSON::Container {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "NONE", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        NONE = 0,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::ProviderMethodType", "scopeKind": "enum"}, {"_type": "tag", "name": "NOTIFY", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        NOTIFY,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::ProviderMethodType", "scopeKind": "enum"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "ProviderContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^    struct ProviderContext$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ProviderDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^    class ProviderDelegate {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ProviderMethodType", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^     enum ProviderMethodType: uint8_t$/", "language": "C++", "typeref": "typename:uint8_t", "kind": "enum", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ProviderMethodTypeMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^    static const std::unordered_map<std::string, ProviderMethodType> ProviderMethodTypeMap = {$/", "language": "C++", "typeref": "typename:const std::unordered_map<std::string,ProviderMethodType>", "kind": "variable", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "REGISTER", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        REGISTER,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::ProviderMethodType", "scopeKind": "enum"}, {"_type": "tag", "name": "RESULT", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        RESULT,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::ProviderMethodType", "scopeKind": "enum"}, {"_type": "tag", "name": "RegistryMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            RegistryMap(){}$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"_type": "tag", "name": "RegistryMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        class RegistryMap {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Remove", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            void Remove(const KeyType& key) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const KeyType & key)", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"_type": "tag", "name": "RespondCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        using RespondCallback = std::function<void(const ProviderContext& context, const std::st/", "language": "C++", "kind": "typedef", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "SetEmitCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        void SetEmitCallback(const EmitCallback& callback) { _emitCallback = callback; }$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const EmitCallback & callback)", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "SetRespondCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        void SetRespondCallback(const RespondCallback& callback) { _respondCallback = callback; /", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const RespondCallback & callback)", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "Validate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        bool Validate(string& error) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(string & error) const", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_emitCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        EmitCallback _emitCallback;$/", "language": "C++", "typeref": "typename:EmitCallback", "kind": "member", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "_respondCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        RespondCallback _respondCallback;$/", "language": "C++", "typeref": "typename:RespondCallback", "kind": "member", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "appId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        string appId;        \\/\\/ @brief Application identifier (Firebolt appId).$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct"}, {"_type": "tag", "name": "capability", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        Core::JSON::String capability; \\/\\/ Application catalog info$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        uint32_t connectionId; \\/\\/ @brief connectionId for the execution\\/session context.$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct"}, {"_type": "tag", "name": "mContextMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            std::unordered_map<KeyType, ProviderContext> mContextMap;$/", "language": "C++", "typeref": "typename:std::unordered_map<KeyType,ProviderContext>", "kind": "member", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"_type": "tag", "name": "mContextMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            std::mutex mContextMutex;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}, {"_type": "tag", "name": "mProviderRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        RegistryMap<std::string> mProviderRegistry;$/", "language": "C++", "typeref": "typename:RegistryMap<std::string>", "kind": "member", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "mTransactionRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        RegistryMap<std::string> mTransactionRegistry;$/", "language": "C++", "typeref": "typename:RegistryMap<std::string>", "kind": "member", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "origin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        string origin;      \\/\\/ @brief Origin of the request (e.g., org.rdk.AppGateway or org.r/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct"}, {"_type": "tag", "name": "providerType", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        Core::JSON::String providerType; \\/\\/ Provider type$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class"}, {"_type": "tag", "name": "requestId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^        uint32_t requestId;       \\/\\/ @brief Unique identifier for the request.$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct"}, {"_type": "tag", "name": "~RegistryMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/LaunchDelegate/ProviderDelegate.h", "pattern": "/^            ~RegistryMap() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class"}], "hash": "ddf5a41ddff708c080544a2c08ae9f5a", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/LaunchDelegate/ProviderDelegate.h", "fields": [{"name": "const std::unordered_map<std::string,ProviderMethodType> ProviderMethodTypeMap", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}, {"name": "EmitCallback _emitCallback", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "RespondCallback _respondCallback", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "string appId", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "Core::JSON::String capability", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t connectionId", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::unordered_map<KeyType,ProviderContext> mContextMap", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mContextMutex", "scope": "WPEFramework::Plugin::RegistryMap", "scopeKind": "class", "description": "unavailable"}, {"name": "RegistryMap<std::string> mProviderRegistry", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "RegistryMap<std::string> mTransactionRegistry", "scope": "WPEFramework::Plugin::ProviderDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "string origin", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "Core::JSON::String providerType", "scope": "WPEFramework::Plugin::JAdditionalProviderContext", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t requestId", "scope": "WPEFramework::Plugin::ProviderContext", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"754": "727800fc84f5393f5ac231785d3764465fe20036"}]}