{"is_source_file": true, "format": "C++", "description": "This file implements the HdcpProfile plugin for WPEFramework, providing functionalities to query HDCP status, support, and handle HDMI events such as hotplug and HDCP status changes. It includes initialization, event handling, and JSON-RPC interface methods.", "external_files": ["HdcpProfile.h", "videoOutputPort.hpp", "videoOutputPortConfig.hpp", "dsMgr.h", "pwrMgr.h", "manager.hpp", "host.hpp", "UtilsJsonRpc.h", "UtilsIarm.h", "UtilsSynchroIarm.hpp"], "external_methods": ["device::Manager::Initialize()", "device::Host::getInstance().getDefaultVideoPortName()", "device::VideoOutputPortConfig::getInstance().getPort()", "logHdcpStatus()", "sendNotify()", "LOGINFO", "LOGWARN"], "published": ["getHDCPStatus", "getSettopHDCPSupport"], "classes": [{"name": "HdcpProfile", "description": "Main plugin class managing HDCP status, events, and JSON-RPC methods for HdcpProfile functionality."}], "methods": [{"name": "const string Initialize(PluginHost::IShell *)", "description": "Initializes the plugin, sets instance pointer, APIs and IARM setup, and device manager initialization.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void Deinitialize(PluginHost::IShell *)", "description": "Cleans up plugin resources and resets instance pointer.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void InitializeIARM()", "description": "Initializes IARM communication and registers event handlers for HDMI hotplug and HDCP status.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void DeinitializeIARM()", "description": "Removes registered IARM event handlers.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void RegisterAll()", "description": "Registers JSON-RPC APIs for getHDCPStatus and getSettopHDCPSupport.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void UnregisterAll()", "description": "Unregisters JSON-RPC APIs.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "uint32_t getHDCPStatusWrapper(const JsonObject & parameters,JsonObject & response)", "description": "Wrapper for getting current HDCP status, responds with JSON object.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "uint32_t getSettopHDCPSupportWrapper(const JsonObject & parameters,JsonObject & response)", "description": "Wrapper for getting supported HDCP version and support status.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "JsonObject getHDCPStatus()", "description": "Retrieves current HDCP connection and protocol status, returning as JSON object.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void onHdmiOutputHotPlug(int connectStatus)", "description": "Handles HDMI hotplug events, sends notifications and logs status.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void logHdcpStatus(const char * trigger,const JsonObject & status)", "description": "Logs detailed HDCP status information.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void onHdmiOutputHDCPStatusEvent(int hdcpStatus)", "description": "Handles HDCP status change events, sending notifications.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "void dsHdmiEventHandler(const char * owner,IARM_EventId_t eventId,void * data,size_t len)", "description": "Static callback handling HDMI events, dispatches to appropriate handler methods.", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"name": "HdcpProfile()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "~HdcpProfile()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class", "description": "unavailable"}], "calls": ["IARM_CHECK(Utils::Synchro::RegisterLockedIarmEventHandler)", "IARM_CHECK(Utils::Synchro::RemoveLockedEventHandler)", "device::Manager::Initialize()", "device::Host::getInstance().getDefaultVideoPortName()", "device::VideoOutputPortConfig::getInstance().getPort()", "sendNotify()", "LOGINFO", "LOGWARN"], "search-terms": ["HdcpProfile", "getHDCPStatus", "HDCP", "HDMI Hotplug", "IARM", "VideoOutputPort", "HDCP_VERSION", "display connection", "HDCP status event", "HdcpProtocolVersion"], "state": 2, "file_id": 263, "knowledge_revision": 881, "git_revision": "ef86df2c8df3fef6f567643b583ee28870c1ba4c", "ctags": [{"_type": "tag", "name": "API_VERSION_NUMBER_MAJOR", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define API_VERSION_NUMBER_MAJOR /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "API_VERSION_NUMBER_MINOR", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define API_VERSION_NUMBER_MINOR /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "API_VERSION_NUMBER_PATCH", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define API_VERSION_NUMBER_PATCH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::Deinitialize(PluginHost::IShell* \\/* service *\\/)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell *)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "DeinitializeIARM", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::DeinitializeIARM()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "HDCP_PROFILE_EVT_ON_DISPLAY_CONNECTION_CHANGED", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define HDCP_PROFILE_EVT_ON_DISPLAY_CONNECTION_CHANGED /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "HDCP_PROFILE_METHOD_GET_HDCPPROFILE", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define HDCP_PROFILE_METHOD_GET_HDCPPROFILE /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "HDCP_PROFILE_METHOD_GET_HDCP_STATUS", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define HDCP_PROFILE_METHOD_GET_HDCP_STATUS /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "HDCP_PROFILE_METHOD_GET_SETTOP_HDCP_SUPPORT", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define HDCP_PROFILE_METHOD_GET_SETTOP_HDCP_SUPPORT /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "HDCP_PROFILE_METHOD_SET_HDCPPROFILE", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define HDCP_PROFILE_METHOD_SET_HDCPPROFILE /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "HDMI_HOT_PLUG_EVENT_CONNECTED", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define HDMI_HOT_PLUG_EVENT_CONNECTED /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "HDMI_HOT_PLUG_EVENT_DISCONNECTED", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^#define HDMI_HOT_PLUG_EVENT_DISCONNECTED /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "HdcpProfile", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        HdcpProfile::HdcpProfile()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        const string HdcpProfile::Initialize(PluginHost::IShell * \\/* service *\\/)$/", "language": "C++", "typeref": "typename:const string", "kind": "function", "signature": "(PluginHost::IShell *)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeIARM", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::InitializeIARM()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RegisterAll", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::RegisterAll()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "UnregisterAll", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::UnregisterAll()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon904f25250111", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^    namespace {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        HdcpProfile* HdcpProfile::_instance = nullptr;$/", "language": "C++", "typeref": "typename:HdcpProfile *", "kind": "member", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "dsHdmiEventHandler", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::dsHdmiEventHandler(const char *owner, IARM_EventId_t eventId, void *da/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const char * owner,IARM_EventId_t eventId,void * data,size_t len)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "getHDCPStatus", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        JsonObject HdcpProfile::getHDCPStatus()$/", "language": "C++", "typeref": "typename:JsonObject", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "getHDCPStatusWrapper", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        uint32_t HdcpProfile::getHDCPStatusWrapper(const JsonObject& parameters, JsonObject& res/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const JsonObject & parameters,JsonObject & response)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "getSettopHDCPSupportWrapper", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        uint32_t HdcpProfile::getSettopHDCPSupportWrapper(const JsonObject& parameters, JsonObje/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const JsonObject & parameters,JsonObject & response)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "logHdcpStatus", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::logHdcpStatus (const char *trigger, const JsonObject& status)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const char * trigger,const JsonObject & status)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        static Plugin::Metadata<Plugin::HdcpProfile> metadata($/", "file": true, "language": "C++", "typeref": "typename:Plugin::Metadata<Plugin::HdcpProfile>", "kind": "variable", "scope": "WPEFramework::__anon904f25250111", "scopeKind": "namespace"}, {"_type": "tag", "name": "onHdmiOutputHDCPStatusEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::onHdmiOutputHDCPStatusEvent(int hdcpStatus)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(int hdcpStatus)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "onHdmiOutputHotPlug", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        void HdcpProfile::onHdmiOutputHotPlug(int connectStatus)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(int connectStatus)", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}, {"_type": "tag", "name": "~HdcpProfile", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/HdcpProfile/HdcpProfile.cpp", "pattern": "/^        HdcpProfile::~HdcpProfile()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class"}], "hash": "d705e2cfb687214965bf2f5a40c8f5f1", "format-version": 4, "code-base-name": "app-gateway2", "filename": "Supporting_Files/HdcpProfile/HdcpProfile.cpp", "fields": [{"name": "HdcpProfile * _instance", "scope": "WPEFramework::Plugin::HdcpProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "Plugin::Metadata<Plugin::HdcpProfile> metadata", "scope": "WPEFramework::__anon904f25250111", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"881": "ef86df2c8df3fef6f567643b583ee28870c1ba4c"}]}