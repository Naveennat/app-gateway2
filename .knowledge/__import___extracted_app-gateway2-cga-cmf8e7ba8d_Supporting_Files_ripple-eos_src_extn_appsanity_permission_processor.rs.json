{"is_source_file": true, "format": "Rust", "description": "This Rust source file implements a permission processor within an extension framework, handling permission requests, interacting with a permission service, and responding through an extension client. It defines the DistributorPermissionProcessor class, manages permission request processing asynchronously, and integrates with the extension communication infrastructure.", "external_files": ["crate::model::permissions::permissions", "thunder_ripple_sdk::ripple_sdk::api::distributor::distributor_permissions", "thunder_ripple_sdk::ripple_sdk::api::firebolt::fb_capabilities", "thunder_ripple_sdk::ripple_sdk::async_trait", "thunder_ripple_sdk::ripple_sdk::extn::client::extn_client", "thunder_ripple_sdk::ripple_sdk::extn::extn_client_message::ExtnMessage", "thunder_ripple_sdk::ripple_sdk::extn::extn_client_message::ExtnResponse", "log", "tokio::sync::mpsc"], "external_methods": ["PermissionService::handle_permission", "ExtnClient::respond", "DefaultExtnStreamer::new", "ExtnStreamProcessor::receiver", "ExtnStreamProcessor::sender", "ExtnRequestProcessor::get_client", "ExtnRequestProcessor::process_request"], "published": ["DistributorPermissionProcessor"], "classes": [{"name": "PermissionState", "description": "Holds the state information including an extension client and a permission service handle."}, {"name": "DistributorPermissionProcessor", "description": "Main processor class handling permission request processing, message streaming, and response logic."}], "methods": [{"name": "new( client: ExtnClient, tps: Box<ThorPermissionService>, ) -> DistributorPermissionProcessor", "description": "Constructor for DistributorPermissionProcessor, initializes the client, permission service, and streamer.", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"name": "process_request( mut state: <DistributorPermissionProcessor as ExtnStreamProcessor>::STATE, msg: ExtnMessage, extracted_message: <DistributorPermissionProcessor as ExtnStreamProcessor>::VALUE, ) -> bool", "description": "Asynchronously processes permission requests, interacts with the permission service, and sends responses.", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"name": "get_client(&self) -> ExtnClient", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_state(&self) -> Self::STATE", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation", "description": "unavailable"}, {"name": "process_request(state: Self::STATE, msg: ExtnMessage, val: Self::VALUE) -> bool", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation", "description": "unavailable"}, {"name": "receiver(&mut self) -> mpsc::Receiver<ExtnMessage>", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation", "description": "unavailable"}, {"name": "sender(&self) -> mpsc::Sender<ExtnMessage>", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation", "description": "unavailable"}], "calls": ["PermissionService::handle_permission", "ExtnClient::respond", "DefaultExtnStreamer::new"], "search-terms": ["DistributorPermissionProcessor", "extn_permission", "extension permission processing", "trust permission service", "permission request handling", "ExtnStreamProcessor", "ExtnRequestProcessor"], "state": 2, "file_id": 1829, "knowledge_revision": 4425, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "DistributorPermissionProcessor", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^impl DistributorPermissionProcessor {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DistributorPermissionProcessor", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^impl ExtnRequestProcessor for DistributorPermissionProcessor {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DistributorPermissionProcessor", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^impl ExtnStreamProcessor for DistributorPermissionProcessor {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DistributorPermissionProcessor", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^pub struct DistributorPermissionProcessor {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "PermissionState", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^pub struct PermissionState {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "STATE", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    type STATE = PermissionState;$/", "language": "Rust", "kind": "typedef", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "VALUE", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    type VALUE = PermissionRequest;$/", "language": "Rust", "kind": "typedef", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    client: ExtnClient,$/", "language": "Rust", "kind": "field", "scope": "PermissionState", "scopeKind": "struct"}, {"_type": "tag", "name": "get_client", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    fn get_client(&self) -> ExtnClient {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> ExtnClient", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_state", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    fn get_state(&self) -> Self::STATE {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Self::STATE", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "new", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    pub fn new($/", "language": "Rust", "kind": "method", "signature": "( client: ExtnClient, tps: Box<ThorPermissionService>, ) -> DistributorPermissionProcessor", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "process_request", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    async fn process_request($/", "language": "Rust", "kind": "method", "signature": "( mut state: <DistributorPermissionProcessor as ExtnStreamProcessor>::STATE, msg: ExtnMessage, extracted_message: <DistributorPermissionProcessor as ExtnStreamProcessor>::VALUE, ) -> bool", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "process_request", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    async fn process_request(state: Self::STATE, msg: ExtnMessage, val: Self::VALUE) -> bool {$/", "language": "Rust", "kind": "method", "signature": "(state: Self::STATE, msg: ExtnMessage, val: Self::VALUE) -> bool", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "receiver", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    fn receiver(&mut self) -> mpsc::Receiver<ExtnMessage> {$/", "language": "Rust", "kind": "method", "signature": "(&mut self) -> mpsc::Receiver<ExtnMessage>", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "sender", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    fn sender(&self) -> mpsc::Sender<ExtnMessage> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> mpsc::Sender<ExtnMessage>", "scope": "DistributorPermissionProcessor", "scopeKind": "implementation"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    state: PermissionState,$/", "language": "Rust", "kind": "field", "scope": "DistributorPermissionProcessor", "scopeKind": "struct"}, {"_type": "tag", "name": "streamer", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    streamer: DefaultExtnStreamer,$/", "language": "Rust", "kind": "field", "scope": "DistributorPermissionProcessor", "scopeKind": "struct"}, {"_type": "tag", "name": "tps", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "pattern": "/^    tps: Box<ThorPermissionService>,$/", "language": "Rust", "kind": "field", "scope": "PermissionState", "scopeKind": "struct"}], "hash": "4e74bf1d4c288bfe5a16af92012bb9c3", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/extn/appsanity_permission_processor.rs", "fields": [{"name": "client: ExtnClient,", "scope": "PermissionState", "scopeKind": "struct", "description": "unavailable"}, {"name": "state: PermissionState,", "scope": "DistributorPermissionProcessor", "scopeKind": "struct", "description": "unavailable"}, {"name": "streamer: DefaultExtnStreamer,", "scope": "DistributorPermissionProcessor", "scopeKind": "struct", "description": "unavailable"}, {"name": "tps: Box<ThorPermissionService>,", "scope": "PermissionState", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"4425": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}