{"is_source_file": true, "format": "C++", "description": "This file implements components for UPnP/mDNS discovery, including handling SSDP M-SEARCH requests, managing discovery responses, and network communication for a device or service within the WPEFramework plugin infrastructure.", "external_files": ["Probe.h"], "external_methods": ["Core::ToString", "Core::NumberType<uint32_t>", "Core::NumberType<uint64_t>", "Core::Time::Now", "Core::URL::Text", "Core::NodeId::HostAddress", "Core::ProxyPoolType", "Core::ProxyType", "Web::Request::Deserializer", "Web::Request", "Web::Response", "Web::TextBody", "PluginHost::IFactories::Instance", "validateBlob", "signBlob"], "published": ["Probe", "Probe::Listener"], "classes": [{"name": "Discovery", "description": "A helper class for representing and managing discovery response texts, including various constructors for different response types."}, {"name": "Probe::Listener", "description": "Handles network communication for SSDP discovery, including receiving M-SEARCH requests and sending responses."}, {"name": "Probe::WebTransform", "description": "Contains the static method Transform for processing Web requests related to SSDP."}, {"name": "Probe::Broadcaster", "description": "Manages broadcasting responses to discovery requests, validating responses, and reporting discovered devices."}], "methods": [{"name": "Probe::WebTransform::Transform", "description": "Processes incoming Web requests to identify and deserialize M-SEARCH messages."}, {"name": "Probe::Listener::Listener", "description": "Constructor that initializes network listening on specified node and registers the service and model."}, {"name": "Probe::Listener::~Listener", "description": "Destructor that gracefully stops listening and closes the network link."}, {"name": "Probe::Listener::LinkBody", "description": "Attaches a body to incoming requests, specifically for SSDP responses."}, {"name": "Probe::Listener::Received", "description": "Handles incoming M-SEARCH requests, validates and stores them, then responds if appropriate."}, {"name": "Probe::Listener::Send", "description": "Handles outgoing responses after receiving valid discovery requests."}, {"name": "Probe::Listener::StateChange", "description": "Placeholder for handling network state changes."}, {"name": "Probe::Listener::ValidRequest", "description": "Validates request signatures if security features are enabled."}, {"name": "Probe::Listener::CreateResponse", "description": "Creates and populates a Web::Response with discovery data, including latency and optional model information."}, {"name": "Probe::Broadcaster::ReceiveData", "description": "Processes incoming discovery responses, validates them, and reports discovered devices."}, {"name": "Probe::Broadcaster::ValidResponse", "description": "Validates the authenticity of incoming response signatures if security is enabled."}, {"name": "Probe::Report", "description": "Records a new discovered device with its URL, latency, model, and security status."}, {"name": "Core::ProxyType<Web::Response> CreateResponse(const uint64_t incomingTime,const uint64_t requestTime)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}, {"name": "const char * Data() const", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "Discovery(const Core::ProxyType<Web::Request> & request,const Core::NodeId & nodeId)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "Discovery(const Core::ProxyType<Web::Response> & response,const Core::NodeId & nodeId)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "Discovery(const Core::URL & remote,const uint32_t latencyinUs)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "Discovery(const string & message)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "Discovery(const string & message,const Core::NodeId & nodeId)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "Discovery(const uint32_t latencyinUs)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t Length() const", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "void LinkBody(Core::ProxyType<Web::Request> & element)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}, {"name": "Listener(const Core::NodeId & node,const PluginHost::IShell * service,const string & model)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t ReceiveData(uint8_t * dataFrame,const uint16_t receivedSize)", "scope": "WPEFramework::Plugin::Probe::Broadcaster", "scopeKind": "class", "description": "unavailable"}, {"name": "void Received(Core::ProxyType<Web::Request> & request)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}, {"name": "void Report(const Core::URL & remote,const uint32_t latencyinUs,const string & model,const bool secure)", "scope": "WPEFramework::Plugin::Probe", "scopeKind": "class", "description": "unavailable"}, {"name": "void Send(const Core::ProxyType<Web::Response> & response)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}, {"name": "void StateChange()", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t Transform(Web::Request::Deserializer & deserializer,uint8_t * dataFrame,const uint16_t maxSendSize)", "scope": "WPEFramework::Plugin::Probe::WebTransform", "scopeKind": "class", "description": "unavailable"}, {"name": "bool ValidRequest(const Web::Request & request) const", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}, {"name": "bool ValidResponse(const Web::Response & response) const", "scope": "WPEFramework::Plugin::Probe::Broadcaster", "scopeKind": "class", "description": "unavailable"}, {"name": "~Discovery()", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "~Listener()", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::Time::Now", "Core::NumberType<uint64_t>::Value", "Core::NumberType<uint64_t>::Text", "Core::URL::Text", "Core::NodeId::HostAddress", "Core::ProxyType<Web::Response>::FromString", "Core::ProxyType<Web::TextBody>::Element", "PluginHost::IFactories::Instance().Response", "validateBlob", "signBlob", "Core::NumberType<uint32_t>", "Core::NumberType<uint64_t>"], "search-terms": ["UPnP SSDP M-SEARCH", "Discovery Response", "Web Request Deserialization", "Network Discovery", "Multicast Listener", "Signature Validation", "Device Latency Reporting"], "state": 2, "file_id": 2836, "knowledge_revision": 6050, "git_revision": "", "ctags": [{"_type": "tag", "name": "CreateResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    Core::ProxyType<Web::Response> Probe::Listener::CreateResponse(const uint64_t incomingTime, /", "language": "C++", "typeref": "typename:Core::ProxyType<Web::Response>", "kind": "function", "signature": "(const uint64_t incomingTime,const uint64_t requestTime)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}, {"_type": "tag", "name": "Data", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        inline const char* Data() const$/", "file": true, "language": "C++", "typeref": "typename:const char *", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        Discovery(const Core::ProxyType<Web::Request>& request, const Core::NodeId& nodeId)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Core::ProxyType<Web::Request> & request,const Core::NodeId & nodeId)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        Discovery(const Core::ProxyType<Web::Response>& response, const Core::NodeId& nodeId)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Core::ProxyType<Web::Response> & response,const Core::NodeId & nodeId)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        Discovery(const Core::URL& remote, const uint32_t latencyinUs)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Core::URL & remote,const uint32_t latencyinUs)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        Discovery(const string& message)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const string & message)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        Discovery(const string& message, const Core::NodeId& nodeId)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const string & message,const Core::NodeId & nodeId)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        Discovery(const uint32_t latencyinUs)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const uint32_t latencyinUs)", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    class Discovery {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Length", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        inline uint16_t Length() const$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "LinkBody", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    \\/* virtual *\\/ void Probe::Listener::LinkBody(Core::ProxyType<Web::Request>& element)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::ProxyType<Web::Request> & element)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}, {"_type": "tag", "name": "Listener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    Probe::Listener::Listener(const Core::NodeId& node, const PluginHost::IShell* service, const/", "language": "C++", "kind": "function", "signature": "(const Core::NodeId & node,const PluginHost::IShell * service,const string & model)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "ReceiveData", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    \\/* virtual*\\/ uint16_t Probe::Broadcaster::ReceiveData(uint8_t* dataFrame, const uint16_t r/", "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "(uint8_t * dataFrame,const uint16_t receivedSize)", "scope": "WPEFramework::Plugin::Probe::Broadcaster", "scopeKind": "class"}, {"_type": "tag", "name": "Received", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    \\/* virtual *\\/ void Probe::Listener::Received(Core::ProxyType<Web::Request>& request)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::ProxyType<Web::Request> & request)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}, {"_type": "tag", "name": "Report", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    void Probe::Report(const Core::URL& remote, const uint32_t latencyinUs, const string& model,/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::URL & remote,const uint32_t latencyinUs,const string & model,const bool secure)", "scope": "WPEFramework::Plugin::Probe", "scopeKind": "class"}, {"_type": "tag", "name": "SearchTarget", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    \\/* static *\\/ const string Probe::SearchTarget(_T(\"urn:metrological-com:service:wpe:1\"));$/", "language": "C++", "typeref": "typename:const string", "kind": "member", "scope": "WPEFramework::Plugin::Probe", "scopeKind": "class"}, {"_type": "tag", "name": "Send", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    \\/* virtual *\\/ void Probe::Listener::Send(const Core::ProxyType<Web::Response>& response)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::ProxyType<Web::Response> & response)", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}, {"_type": "tag", "name": "StateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    \\/* virtual *\\/ void Probe::Listener::StateChange()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}, {"_type": "tag", "name": "Transform", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    uint16_t Probe::WebTransform::Transform(Web::Request::Deserializer& deserializer, uint8_t* d/", "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "(Web::Request::Deserializer & deserializer,uint8_t * dataFrame,const uint16_t maxSendSize)", "scope": "WPEFramework::Plugin::Probe::WebTransform", "scopeKind": "class"}, {"_type": "tag", "name": "ValidRequest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    bool Probe::Listener::ValidRequest(const Web::Request& request) const$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const Web::Request & request) const", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}, {"_type": "tag", "name": "ValidResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    bool Probe::Broadcaster::ValidResponse(const Web::Response& response) const$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const Web::Response & response) const", "scope": "WPEFramework::Plugin::Probe::Broadcaster", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_text", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        std::string _text;$/", "file": true, "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "_textResponseFactory", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    static Core::ProxyPoolType<Web::TextBody> _textResponseFactory(2);$/", "file": true, "language": "C++", "typeref": "typename:Core::ProxyPoolType<Web::TextBody>", "kind": "variable", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "~Discovery", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^        ~Discovery()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class"}, {"_type": "tag", "name": "~Listener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/WPEFramework/Probe.cpp", "pattern": "/^    \\/* virtual *\\/ Probe::Listener::~Listener()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Probe::Listener", "scopeKind": "class"}], "hash": "dd28261fe950245da81f329e0af967bf", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/WPEFramework/Probe.cpp", "fields": [{"name": "const string SearchTarget", "scope": "WPEFramework::Plugin::Probe", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string _text", "scope": "WPEFramework::Plugin::Discovery", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyPoolType<Web::TextBody> _textResponseFactory", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"6050": ""}]}