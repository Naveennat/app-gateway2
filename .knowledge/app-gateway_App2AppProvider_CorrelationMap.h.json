{"is_source_file": true, "format": "C++ header", "description": "This file defines the CorrelationMap class which manages a mapping between correlation IDs and consumer contexts for in-flight invocations within a plugin framework. It provides methods to create, take, peek, and clear correlations, and maintains thread safety via critical sections.", "external_files": ["Module.h"], "external_methods": ["Core::NumberType<uint64_t>", "Core::SafeSyncType<Core::CriticalSection>", "Core::CriticalSection"], "published": ["CorrelationMap"], "classes": [{"name": "CorrelationMap", "description": "Manages correlation ID generation and mapping to consumer contexts in a thread-safe manner for plugin in-flight communications."}], "methods": [{"name": "string Create(const ConsumerContext & ctx)", "description": "Generates a new correlation ID and associates it with a ConsumerContext, returning the ID.", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"name": "bool Take(const string & correlationId,ConsumerContext & out)", "description": "Retrieves and removes a correlation's ConsumerContext based on its correlation ID.", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"name": "bool Peek(const string & correlationId,ConsumerContext & out) const", "description": "Retrieves a correlation's ConsumerContext without removing it.", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"name": "void Clear()", "description": "Clears all stored correlation mappings.", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"name": "CorrelationMap()", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::NumberType<uint64_t>(id).Text()", "Core::SafeSyncType<Core::CriticalSection>", "_lock", "std::unordered_map::find", "std::unordered_map::emplace", "std::unordered_map::erase", "std::unordered_map::clear"], "search-terms": ["CorrelationMap", "ConsumerContext", "Create", "Take", "Peek", "map management", "thread safety", "correlation ID"], "state": 2, "file_id": 28, "knowledge_revision": 89, "git_revision": "", "ctags": [{"_type": "tag", "name": "Clear", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    void Clear() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "ConsumerContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    struct ConsumerContext {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "CorrelationMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    CorrelationMap()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "CorrelationMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^class CorrelationMap {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    string Create(const ConsumerContext& ctx) {$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const ConsumerContext & ctx)", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "Peek", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    bool Peek(const string& correlationId, ConsumerContext& out) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & correlationId,ConsumerContext & out) const", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Take", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    bool Take(const string& correlationId, ConsumerContext& out) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & correlationId,ConsumerContext & out)", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    mutable Core::CriticalSection _lock;$/", "language": "C++", "typeref": "typename:Core::CriticalSection", "kind": "member", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "_nextId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    uint64_t _nextId;$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "_pending", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^    std::unordered_map<string, ConsumerContext> _pending;$/", "language": "C++", "typeref": "typename:std::unordered_map<string,ConsumerContext>", "kind": "member", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "appId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^        string appId;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::CorrelationMap::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^        string connectionId;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::CorrelationMap::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "requestId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/CorrelationMap.h", "pattern": "/^        uint32_t requestId;$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::CorrelationMap::ConsumerContext", "scopeKind": "struct"}], "hash": "47b054d0dd36fa53bd6c0cb20a9cf720", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/App2AppProvider/CorrelationMap.h", "fields": [{"name": "Core::CriticalSection _lock", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "uint64_t _nextId", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<string,ConsumerContext> _pending", "scope": "WPEFramework::Plugin::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "string appId", "scope": "WPEFramework::Plugin::CorrelationMap::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "string connectionId", "scope": "WPEFramework::Plugin::CorrelationMap::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t requestId", "scope": "WPEFramework::Plugin::CorrelationMap::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"89": ""}]}