{"is_source_file": true, "format": "C++", "description": "This file implements the WebBridge plugin class, which handles JSON-RPC messaging, WebSocket communication, registration/unregistration, and plugin lifecycle management for a web-based interface within the WPEFramework platform.", "external_files": ["WebBridge.h"], "external_methods": ["PluginHost::IFactories::Instance().JSONRPC()", "Core::JSON::Container::Add()", "Core::JSON::String::FromString()", "Core::InterlockedIncrement()", "Core::Time::Now()", "Core::Time::TicksPerMillisecond"], "published": ["WebBridge::Initialize", "WebBridge::Deinitialize", "WebBridge::Information", "WebBridge::Attach", "WebBridge::Detach", "WebBridge::Invoke", "WebBridge::Activate", "WebBridge::Deactivate", "WebBridge::Inbound"], "classes": [{"name": "Registration", "description": "A JSON container class for registration info, holding 'Event' and 'Callsign' strings.", "methods": [{"name": "Registration", "description": "Constructor that sets up JSON properties 'event' and 'id'."}, {"name": "~Registration", "description": "Destructor for the Registration object."}]}], "methods": [{"name": "WebBridge::Initialize", "description": "Initializes the WebBridge plugin with the service, reading configuration and setting internal variables."}, {"name": "WebBridge::Deinitialize", "description": "Cleans up resources, nullifies the service pointer."}, {"name": "WebBridge::Information", "description": "Returns a string with info about the plugin (empty in this implementation)."}, {"name": "WebBridge::Attach", "description": "Attaches a channel if protocol is 'json' and not already attached."}, {"name": "WebBridge::Detach", "description": "Detaches a channel, resets the JavaScript service ID."}, {"name": "WebBridge::Invoke", "description": "Handles incoming JSON-RPC messages, routing based on the designator, managing registration, unregistration, and custom method calls."}, {"name": "WebBridge::Activate", "description": "Placeholder for plugin activation logic, does nothing as initialization is already done."}, {"name": "WebBridge::Deactivate", "description": "Placeholder for cleanup during plugin deactivation, does nothing as cleanup is handled elsewhere."}, {"name": "WebBridge::Inbound (with identifier)", "description": "Creates and returns a JSON-RPC message container for incoming WebSocket message."}, {"name": "WebBridge::Inbound (with ID and element)", "description": "Processes an inbound message, dispatching events to observers or routing responses back to requesting channel."}, {"name": "WebBridge::Cleanup", "description": "Checks for pending requests that timed out, sends error responses, and reschedules cleanup."}, {"name": "WebBridge::InternalMessage", "description": "Handles internal control messages like 'registerjsonrpcmethods' for version and method registration."}, {"name": "void Activate(PluginHost::IShell *)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Attach(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "void Cleanup()", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "void Deactivate()", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "void Deinitialize(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "void Detach(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyType<Core::JSON::IElement> Inbound(const string &)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyType<Core::JSON::IElement> Inbound(const uint32_t ID,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "string Information() const", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "const string Initialize(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "bool InternalMessage(const Core::ProxyType<Core::JSONRPC::Message> & message)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyType<Core::JSONRPC::Message> Invoke(const string & token,const uint32_t channelId,const Core::JSONRPC::Message & inbound)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class", "description": "unavailable"}, {"name": "Registration()", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class", "description": "unavailable"}, {"name": "~Registration()", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class", "description": "unavailable"}], "calls": ["PluginHost::IFactories::Instance().JSONRPC()", "Core::JSON::Container::Add()", "Core::JSON::String::FromString()", "Core::InterlockedIncrement", "Core::Time::Now", "PluginHost::IShell::ConfigLine", "PluginHost::IShell::WebPrefix", "PluginHost::IShell::Callsign", "PluginHost::Channel::Protocol", "PluginHost::Channel::Id", "PluginHost::Channel::Designator", "PluginHost::Channel::Parameters", "Core::JSONRPC::Message::DefaultVersion", "Core::JSONRPC::Message::Designator", "Core::JSONRPC::Message::Method", "Core::JSONRPC::Message::Id", "Core::JSONRPC::Message::Result", "Core::JSONRPC::Message::Error", "Core::JSONRPC::Message::Parameters", "Core::ProxyType<Core::JSON::IElement>", "PluginHost::IFactories::Instance().JSONRPC()", "Core::Time::Now()", "Core::Time::Now()", "TRACE", "ASSERT", "Core::InterlockedIncrement", "Core::JSON::ArrayType<Core::JSON::String>", "Core::JSON::ArrayType<Core::JSON::String>::FromString()", "Core::JSON::ArrayType<Core::JSON::String>::Elements", "Core::JSON::ArrayType<Core::JSON::String>::Next()", "Core::JSON::ArrayType<Core::JSON::String>::Current", "Core::JSON::ArrayType<Core::JSON::String>::Value", "Core::JSON::ArrayType<Core::JSON::String>::push_back", "std::find", "std::cout", "Core::Time::Add", "Core::Time::IsValid"], "search-terms": ["WebBridge", "JSONRPC", "registerjsonrpcmethods", "Channel Protocol", "PendingRequests", "ObserverMap", "Register", "Unregister", "JavaScriptService", "WebSocketInbound", "Timeout", "Designator", "Controls", "Version", "Plugin", "WebBridge.cpp"], "state": 2, "file_id": 7936, "knowledge_revision": 16007, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_VERSION_NUMBER_MAJOR", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^#define API_VERSION_NUMBER_MAJOR /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "API_VERSION_NUMBER_MINOR", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^#define API_VERSION_NUMBER_MINOR /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "API_VERSION_NUMBER_PATCH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^#define API_VERSION_NUMBER_PATCH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Activate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    void WebBridge::Activate(PluginHost::IShell* \\/* service *\\/) \\/* override *\\/ {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell *)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Attach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    bool WebBridge::Attach(PluginHost::Channel& channel) \\/* override *\\/ {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Callsign", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^        Core::JSON::String Callsign;$/", "file": true, "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class"}, {"_type": "tag", "name": "Cleanup", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    void WebBridge::Cleanup() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Deactivate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    void WebBridge::Deactivate() \\/* override *\\/ {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    void WebBridge::Deinitialize(PluginHost::IShell* service) \\/* override *\\/$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Detach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    void WebBridge::Detach(PluginHost::Channel& channel) \\/* override *\\/ {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^        Core::JSON::String Event;$/", "file": true, "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    Core::ProxyType<Core::JSON::IElement> WebBridge::Inbound(const string& \\/* identifier *\\/) \\//", "language": "C++", "typeref": "typename:Core::ProxyType<Core::JSON::IElement>", "kind": "function", "signature": "(const string &)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    Core::ProxyType<Core::JSON::IElement> WebBridge::Inbound(const uint32_t ID, const Core::Prox/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::JSON::IElement>", "kind": "function", "signature": "(const uint32_t ID,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Information", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    string WebBridge::Information() const \\/* override *\\/$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    const string WebBridge::Initialize(PluginHost::IShell* service) \\/* override *\\/$/", "language": "C++", "typeref": "typename:const string", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "InternalMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    bool WebBridge::InternalMessage(const Core::ProxyType<Core::JSONRPC::Message>& message) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const Core::ProxyType<Core::JSONRPC::Message> & message)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    Core::ProxyType<Core::JSONRPC::Message> WebBridge::Invoke(const string& token, const uint32_/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::JSONRPC::Message>", "kind": "function", "signature": "(const string & token,const uint32_t channelId,const Core::JSONRPC::Message & inbound)", "scope": "WPEFramework::Plugin::WebBridge", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Registration", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^        Registration()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class"}, {"_type": "tag", "name": "Registration", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    class EXTERNAL Registration : public Core::JSON::Container {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon61254d6c0111", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^    static Plugin::Metadata<Plugin::WebBridge> metadata($/", "file": true, "language": "C++", "typeref": "typename:Plugin::Metadata<Plugin::WebBridge>", "kind": "variable", "scope": "WPEFramework::__anon61254d6c0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "~Registration", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/WebBridge/WebBridge.cpp", "pattern": "/^        ~Registration()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class"}], "hash": "e1b6f51bacca87667f6dfbd08a0b6573", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/WebBridge/WebBridge.cpp", "fields": [{"name": "Core::JSON::String Callsign", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String Event", "scope": "WPEFramework::Plugin::Registration", "scopeKind": "class", "description": "unavailable"}, {"name": "Plugin::Metadata<Plugin::WebBridge> metadata", "scope": "WPEFramework::__anon61254d6c0111", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"16007": ""}]}