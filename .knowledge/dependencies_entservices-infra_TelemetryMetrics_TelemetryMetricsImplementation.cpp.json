{"is_source_file": true, "format": "C++", "description": "This file implements the core logic for telemetry metrics collection, record generation, JSON parsing, filtering, merging, and publishing. It defines the class TelemetryMetricsImplementation with methods for recording metrics, generating record IDs, and publishing metrics data, along with handling JSON data structures and interacting with an external telemetry event system.", "external_files": ["telemetry_busmessage_sender.h", "TelemetryMetricsImplementation.h", "UtilsLogging.h", "TelemetryFilters.h"], "external_methods": ["t2_init", "t2_uninit", "t2_event_s"], "published": ["TelemetryMetricsImplementation"], "classes": [{"name": "TelemetryMetricsImplementation", "description": "Main class handling telemetry metrics recording and publishing, including internal data structures for metrics and filters, thread safety via mutexes, and JSON processing."}], "methods": [{"name": "std::string generateRecordId(const std::string & id,const std::string & name)", "description": "Concatenates id and markerName with a colon to generate a unique record identifier.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "Core::hresult Record(const std::string & id,const std::string & metrics,const std::string & markerName)", "description": "Parses input JSON metrics, validates, and merges them into internal records identified by a generated record ID.", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class"}, {"name": "Core::hresult Publish(const std::string & id,const std::string & markerName)", "description": "Filters, merges, and publishes metrics records related to a specific marker and id, then removes them from internal storage.", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class"}, {"name": "TelemetryMetricsImplementation()", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~TelemetryMetricsImplementation()", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["Json::CharReaderBuilder::newCharReader", "Json::CharReader::parse", "mMetricsRecord.find", "mMetricsRecord.insert", "mMetricsRecord.erase", "Json::writeString", "t2_event_s"], "search-terms": ["TelemetryMetricsImplementation", "Record", "Publish", "generateRecordId", "Json parsing", "metrics record", "filtering", "merging", "JSON object", "mMetricsRecord"], "state": 2, "file_id": 7792, "knowledge_revision": 15514, "git_revision": "", "ctags": [{"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Publish", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "pattern": "/^    Core::hresult TelemetryMetricsImplementation::Publish(const std::string& id, const std::stri/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const std::string & id,const std::string & markerName)", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Record", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "pattern": "/^    Core::hresult TelemetryMetricsImplementation::Record(const std::string& id, const std::strin/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const std::string & id,const std::string & metrics,const std::string & markerName)", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "TelemetryMetricsImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "pattern": "/^    TelemetryMetricsImplementation::TelemetryMetricsImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "generateRecordId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "pattern": "/^    std::string generateRecordId(const std::string& id, const std::string& name)$/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const std::string & id,const std::string & name)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "~TelemetryMetricsImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "pattern": "/^    TelemetryMetricsImplementation::~TelemetryMetricsImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::TelemetryMetricsImplementation", "scopeKind": "class"}], "hash": "51a04cd9b1015b6992cf888944446b94", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/TelemetryMetrics/TelemetryMetricsImplementation.cpp", "revision_history": [{"15514": ""}]}