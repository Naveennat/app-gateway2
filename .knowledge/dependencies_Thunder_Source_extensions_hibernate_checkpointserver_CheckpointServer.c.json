{"is_source_file": true, "format": "C", "description": "This file implements a CheckpointServer with functions for connecting to a server via socket (Unix or TCP), sending commands to checkpoint or restore processes based on process ID, and handling communication protocols. It defines enums for request and response codes, structures for request and response messages, and high-level functions like HibernateProcess and WakeupProcess that manage process hibernation and wakeup procedures.", "external_files": ["../common/Log.h", "../hibernate.h", "/arpa/inet.h", "/assert.h", "/stdbool.h", "/stdlib.h", "/sys/socket.h", "/sys/un.h", "/unistd.h"], "external_methods": ["LOGERR", "LOGINFO"], "published": ["HibernateProcess", "WakeupProcess"], "classes": [], "methods": [{"name": "bool SendRcvCmd(const ServerRequest * cmd,ServerResponse * resp,uint32_t timeoutMs,const char * serverLocator)", "description": "Handles the communication process by connecting to the server, sending a command, and receiving a response, with a specified timeout.", "scope": "", "scopeKind": ""}, {"name": "uint32_t HibernateProcess(const uint32_t timeout,const pid_t pid,const char data_dir[],const char volatile_dir[],void ** storage)", "description": "Initiates a checkpoint (hibernate) operation for a process with given PID within a timeout period, returning specific status codes based on success or failure.", "scope": "", "scopeKind": ""}, {"name": "uint32_t WakeupProcess(const uint32_t timeout,const pid_t pid,const char data_dir[],const char volatile_dir[],void ** storage)", "description": "Attempts to restore (wake up) a process with a given PID within a timeout period, returning specific status codes based on success or failure.", "scope": "", "scopeKind": ""}, {"name": "int Connect(const char * serverLocator,uint32_t timeoutMs)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["Connect", "write", "read", "close", "socket", "setsockopt", "connect", "inet_addr", "strncpy", "strstr", "htons", "atoi"], "search-terms": ["CheckpointServer", "hibernate", "WakeupProcess", "ServerRequest", "ServerResponse", "socket connection"], "state": 2, "file_id": 2387, "knowledge_revision": 4963, "git_revision": "", "ctags": [{"_type": "tag", "name": "Connect", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^static int Connect(const char* serverLocator, uint32_t timeoutMs)$/", "file": true, "language": "C", "typeref": "typename:int", "kind": "function", "signature": "(const char * serverLocator,uint32_t timeoutMs)"}, {"_type": "tag", "name": "HibernateProcess", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^uint32_t HibernateProcess(const uint32_t timeout, const pid_t pid, const char data_dir[], const /", "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint32_t timeout,const pid_t pid,const char data_dir[],const char volatile_dir[],void ** storage)"}, {"_type": "tag", "name": "MEMCR_CHECKPOINT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    MEMCR_CHECKPOINT = 100,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon818b5a860103", "scopeKind": "enum"}, {"_type": "tag", "name": "MEMCR_ERROR", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    MEMCR_ERROR = -1,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon818b5a860203", "scopeKind": "enum"}, {"_type": "tag", "name": "MEMCR_INVALID_PID", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    MEMCR_INVALID_PID = -2,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon818b5a860203", "scopeKind": "enum"}, {"_type": "tag", "name": "MEMCR_OK", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    MEMCR_OK = 0,$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon818b5a860203", "scopeKind": "enum"}, {"_type": "tag", "name": "MEMCR_RESTORE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    MEMCR_RESTORE$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon818b5a860103", "scopeKind": "enum"}, {"_type": "tag", "name": "MEMCR_SOCKET_READ_ERROR", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    MEMCR_SOCKET_READ_ERROR = -3$/", "file": true, "language": "C", "kind": "enumerator", "scope": "__anon818b5a860203", "scopeKind": "enum"}, {"_type": "tag", "name": "MODULE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^#define MODULE /", "file": true, "language": "C", "kind": "macro"}, {"_type": "tag", "name": "SendRcvCmd", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^static bool SendRcvCmd(const ServerRequest* cmd, ServerResponse* resp, uint32_t timeoutMs, const/", "file": true, "language": "C", "typeref": "typename:bool", "kind": "function", "signature": "(const ServerRequest * cmd,ServerResponse * resp,uint32_t timeoutMs,const char * serverLocator)"}, {"_type": "tag", "name": "ServerRequest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^} __attribute__((packed)) ServerRequest;$/", "file": true, "language": "C", "typeref": "struct:__anon818b5a860308", "kind": "typedef"}, {"_type": "tag", "name": "ServerRequestCode", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^} ServerRequestCode;$/", "file": true, "language": "C", "typeref": "enum:__anon818b5a860103", "kind": "typedef"}, {"_type": "tag", "name": "ServerResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^} __attribute__((packed)) ServerResponse;$/", "file": true, "language": "C", "typeref": "struct:__anon818b5a860408", "kind": "typedef"}, {"_type": "tag", "name": "ServerResponseCode", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^} ServerResponseCode;$/", "file": true, "language": "C", "typeref": "enum:__anon818b5a860203", "kind": "typedef"}, {"_type": "tag", "name": "WakeupProcess", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^uint32_t WakeupProcess(const uint32_t timeout, const pid_t pid, const char data_dir[], const cha/", "language": "C", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint32_t timeout,const pid_t pid,const char data_dir[],const char volatile_dir[],void ** storage)"}, {"_type": "tag", "name": "__anon818b5a860103", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^typedef enum {$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "__anon818b5a860203", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^typedef enum {$/", "file": true, "language": "C", "kind": "enum"}, {"_type": "tag", "name": "__anon818b5a860308", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "__anon818b5a860408", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^typedef struct {$/", "file": true, "language": "C", "kind": "struct"}, {"_type": "tag", "name": "pid", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    pid_t pid;$/", "file": true, "language": "C", "typeref": "typename:pid_t", "kind": "member", "scope": "__anon818b5a860308", "scopeKind": "struct"}, {"_type": "tag", "name": "reqCode", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    ServerRequestCode reqCode;$/", "file": true, "language": "C", "typeref": "typename:ServerRequestCode", "kind": "member", "scope": "__anon818b5a860308", "scopeKind": "struct"}, {"_type": "tag", "name": "respCode", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "pattern": "/^    ServerResponseCode respCode;$/", "file": true, "language": "C", "typeref": "typename:ServerResponseCode", "kind": "member", "scope": "__anon818b5a860408", "scopeKind": "struct"}], "hash": "aa50fc4d4f8e2f1dec28cebfb9824559", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/extensions/hibernate/checkpointserver/CheckpointServer.c", "fields": [{"name": "pid_t pid", "scope": "__anon818b5a860308", "scopeKind": "struct", "description": "unavailable"}, {"name": "ServerRequestCode reqCode", "scope": "__anon818b5a860308", "scopeKind": "struct", "description": "unavailable"}, {"name": "ServerResponseCode respCode", "scope": "__anon818b5a860408", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"4963": ""}]}