{"is_source_file": true, "format": "C++ header file", "description": "This header file declares the 'DeviceInfo' class which manages device-related information such as partner ID, account ID, and service access tokens. It includes mechanisms for asynchronous action handling, notification subscription to an external authentication service, and encapsulates associated data members and methods.", "external_files": ["../Module.h", "utils.h", "<interfaces/IAuthService.h>"], "external_methods": ["Exchange::IAuthService::INotification::OnActivationStatusChanged", "Exchange::IAuthService::INotification::OnServiceAccountIdChanged", "Exchange::IAuthService::INotification::AuthTokenChanged", "Exchange::IAuthService::INotification::SessionTokenChanged", "Exchange::IAuthService::INotification::ServiceAccessTokenChanged", "Exchange::IAuthService::INotification::OnPartnerIdChanged"], "published": ["DeviceInfo::GetPartnerId", "DeviceInfo::GetAccountId", "DeviceInfo::GetServiceAccessToken", "DeviceInfo::OnServiceAccountIdChanged", "DeviceInfo::OnServiceAccessTokenChanged"], "classes": [{"name": "DeviceInfo", "description": "A class for managing device identifiers and tokens, handling authentication service notifications, and performing background actions related to device info."}, {"name": "AuthServiceNotification", "description": "A nested class implementing the INotification interface to receive callbacks when authentication states change; it communicates these changes back to the parent DeviceInfo instance."}], "methods": [{"name": "DeviceInfo", "description": "Constructor initializing with a pointer to the IShell interface."}, {"name": "~DeviceInfo", "description": "Destructor."}, {"name": "GetPartnerId", "description": "Retrieves the current partner ID."}, {"name": "GetAccountId", "description": "Retrieves the current account ID."}, {"name": "GetServiceAccessToken", "description": "Retrieves the current service access token."}, {"name": "void OnServiceAccountIdChanged(const std::string & oldServiceAccountId,const std::string & newServiceAccountId)", "description": "Handler called when the service account ID changes.", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"name": "OnServiceAccessTokenChanged", "description": "Handler called when the service access token changes."}, {"name": "AuthServiceNotification(DeviceInfo * parent)", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void AuthTokenChanged()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "Notification INTERFACE_ENTRY(Exchange::IAuthService::INotification)", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnPartnerIdChanged(const string & oldPartnerId,const string & newPartnerId)", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void ServiceAccessTokenChanged()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void SessionTokenChanged()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "~AuthServiceNotification()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}], "calls": ["mParent.OnServiceAccountIdChanged", "mParent.OnServiceAccessTokenChanged"], "search-terms": ["DeviceInfo", "auth service notification", "access token", "service account ID", "async action queue", "WPEFramework"], "state": 2, "file_id": 3967, "knowledge_revision": 8234, "git_revision": "c6407f62c45335b3529c145325fdcfefd3215700", "ctags": [{"_type": "tag", "name": "ACTION_TYPE_NO_ACTION", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            ACTION_TYPE_NO_ACTION$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::DeviceInfo::ActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "ACTION_TYPE_SERVICE_ACCESS_TOKEN_CHANGED", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            ACTION_TYPE_SERVICE_ACCESS_TOKEN_CHANGED,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::DeviceInfo::ActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "ACTION_TYPE_SERVICE_ACCOUNT_ID_CHANGED", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            ACTION_TYPE_SERVICE_ACCOUNT_ID_CHANGED,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::DeviceInfo::ActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "ACTION_TYPE_SHUTDOWN", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            ACTION_TYPE_SHUTDOWN,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::DeviceInfo::ActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "Action", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        struct Action {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "ActionType", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        enum ActionType {$/", "language": "C++", "kind": "enum", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "AuthServiceNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            AuthServiceNotification(DeviceInfo *parent): mParent(*parent)$/", "language": "C++", "kind": "function", "signature": "(DeviceInfo * parent)", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "AuthServiceNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        class AuthServiceNotification : public Exchange::IAuthService::INotification {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "AuthTokenChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            void AuthTokenChanged() override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "DeviceInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^    class DeviceInfo {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "DeviceInfoPtr", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^    typedef std::shared_ptr<DeviceInfo> DeviceInfoPtr;$/", "language": "C++", "typeref": "typename:std::shared_ptr<DeviceInfo>", "kind": "typedef", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "INTERFACE_ENTRY", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            INTERFACE_ENTRY(Exchange::IAuthService::INotification)$/", "language": "C++", "typeref": "typename:Notification", "kind": "function", "signature": "(Exchange::IAuthService::INotification)", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnPartnerIdChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            void OnPartnerIdChanged(const string& oldPartnerId, const string& newPartnerId) over/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & oldPartnerId,const string & newPartnerId)", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnServiceAccountIdChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            void OnServiceAccountIdChanged(const std::string &oldServiceAccountId, const std::st/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & oldServiceAccountId,const std::string & newServiceAccountId)", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "ServiceAccessTokenChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            void ServiceAccessTokenChanged() override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "SessionTokenChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            void SessionTokenChanged() override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "mAccountId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        string mAccountId;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mActionQueue", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        std::queue<Action> mActionQueue;$/", "language": "C++", "typeref": "typename:std::queue<Action>", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mAuthServiceNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        Core::Sink<AuthServiceNotification> mAuthServiceNotification;$/", "language": "C++", "typeref": "typename:Core::Sink<AuthServiceNotification>", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        std::mutex mMutex;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mParent", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            DeviceInfo &mParent;$/", "language": "C++", "typeref": "typename:DeviceInfo &", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}, {"_type": "tag", "name": "mPartnerId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        string mPartnerId;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mQueueCondition", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        std::condition_variable mQueueCondition;$/", "language": "C++", "typeref": "typename:std::condition_variable", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mQueueMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        std::mutex mQueueMutex;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mServiceAccessToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        string mServiceAccessToken;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mShell", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        PluginHost::IShell *mShell;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "mThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^        std::thread mThread;$/", "language": "C++", "typeref": "typename:std::thread", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            ActionType type;$/", "language": "C++", "typeref": "typename:ActionType", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo::Action", "scopeKind": "struct"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            std::string value;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::DeviceInfo::Action", "scopeKind": "struct"}, {"_type": "tag", "name": "~AuthServiceNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Privacy/Implementation/DeviceInfo.h", "pattern": "/^            ~AuthServiceNotification() override$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class"}], "hash": "4c69cc5b367086cc6726710c2d63e64e", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/Privacy/Implementation/DeviceInfo.h", "fields": [{"name": "string mAccountId", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "std::queue<Action> mActionQueue", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::Sink<AuthServiceNotification> mAuthServiceNotification", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mMutex", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "DeviceInfo & mParent", "scope": "WPEFramework::Plugin::DeviceInfo::AuthServiceNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "string mPartnerId", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "std::condition_variable mQueueCondition", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mQueueMutex", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "string mServiceAccessToken", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * mShell", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "std::thread mThread", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "ActionType type", "scope": "WPEFramework::Plugin::DeviceInfo::Action", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::string value", "scope": "WPEFramework::Plugin::DeviceInfo::Action", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"8234": "c6407f62c45335b3529c145325fdcfefd3215700"}]}