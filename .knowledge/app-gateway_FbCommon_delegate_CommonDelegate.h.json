{"is_source_file": true, "format": "C++ header file", "description": "This header file defines the CommonDelegate class used in the FbCommonImplementation to retrieve device information via Thunder plugins such as DisplaySettings, HdcpProfile, and System. It provides methods to get current resolution, HDCP status, device name, make, and SKU, with fallback defaults where necessary.", "external_files": ["../Module.h", "UtilsLogging.h", "UtilsJsonrpcDirectLink.h", "<core/JSON.h>"], "external_methods": ["Utils::GetThunderControllerClient"], "published": ["CommonDelegate"], "classes": [{"name": "CommonDelegate", "description": "A minimal delegate class used to fetch device info via Thunder plugins, providing methods for resolution, HDCP status, device name, make, and SKU."}], "methods": [{"name": "Core::hresult GetCurrentResolution(std::string & outJson)", "description": "Retrieves the current screen resolution as a JSON array '[width,height]', using the DisplaySettings plugin or fallback.", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"name": "Core::hresult GetHdcpStatus(std::string & outJson)", "description": "Retrieves the HDCP status as a JSON object with keys 'hdcp1.4' and 'hdcp2.2', based on the HdcpProfile plugin.", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"name": "Core::hresult GetDeviceName(std::string & name)", "description": "Gets the friendly device name via System.getFriendlyName, with a fallback to 'Living Room'.", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"name": "Core::hresult SetDeviceName(const std::string & name)", "description": "Sets the device's friendly name via System.setFriendlyName.", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"name": "Core::hresult GetDeviceMake(std::string & make)", "description": "Retrieves the device make via System.getDeviceInfo, or defaults to 'unknown'.", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"name": "Core::hresult GetDeviceSku(std::string & sku)", "description": "Retrieves the device SKU by parsing System.getSystemVersions, or defaults to 'unknown'.", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"name": "CommonDelegate(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class", "description": "unavailable"}], "calls": ["Utils::GetThunderControllerClient", "link->Invoke"], "search-terms": ["CommonDelegate", "Thunder plugins", "DisplaySettings getCurrentResolution", "HdcpProfile getHDCPStatus", "System getFriendlyName", "System setFriendlyName", "device info", "resolution", "HDCP", "device make", "device SKU"], "state": 2, "file_id": 163, "knowledge_revision": 653, "git_revision": "1bc65e0c87679007cce5806a90711900ebfd5290", "revision_history": [{"525": ""}, {"589": "6e3f661b80ec1979b3c44fc4a85d5944642c4704"}, {"601": "6e3f661b80ec1979b3c44fc4a85d5944642c4704"}, {"653": "1bc65e0c87679007cce5806a90711900ebfd5290"}], "ctags": [{"_type": "tag", "name": "CommonDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    explicit CommonDelegate(PluginHost::IShell* shell)$/", "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "CommonDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^class CommonDelegate {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "GetCurrentResolution", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    Core::hresult GetCurrentResolution(std::string& outJson) {$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(std::string & outJson)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "GetDeviceMake", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    Core::hresult GetDeviceMake(std::string& make) {$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(std::string & make)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "GetDeviceName", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    Core::hresult GetDeviceName(std::string& name) {$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(std::string & name)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "GetDeviceSku", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    Core::hresult GetDeviceSku(std::string& sku) {$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(std::string & sku)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "GetHdcpStatus", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    Core::hresult GetHdcpStatus(std::string& outJson) {$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(std::string & outJson)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SetDeviceName", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    Core::hresult SetDeviceName(const std::string& name) {$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const std::string & name)", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_shell", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/FbCommon/delegate/CommonDelegate.h", "pattern": "/^    PluginHost::IShell* _shell;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class"}], "hash": "19c745747d6715b8d4c6adf366e24377", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/FbCommon/delegate/CommonDelegate.h", "fields": [{"name": "PluginHost::IShell * _shell", "scope": "WPEFramework::Plugin::CommonDelegate", "scopeKind": "class", "description": "unavailable"}]}