{"is_source_file": true, "format": "C++", "description": "This file 'Portability.cpp' provides platform-specific implementations and portability abstractions for different operating systems (Linux, Windows, Apple). It includes utility functions for sleeping, call stack retrieval, endianness conversion, and cross-platform compatibility code, as well as some external references and internal helper functions.", "external_files": ["Module.h", "IPCConnector.h", "Portability.h", "Sync.h", "SystemInfo.h", "Serialization.h"], "external_methods": ["InetPtonW", "SetWaitableTimer", "CreateWaitableTimer", "WaitForSingleObject", "sigaction", "backtrace", "dladdr1", "abi::__cxa_demangle", "pthread_kill", "sigfillset", "siginfo_t", "nanosleep", "htonl", "ntohl"], "published": ["SleepMs", "SleepUs", "htoll", "ntohll", "DumpCallStack", "Format"], "classes": [], "methods": [{"name": "inet_aton", "description": "Converts an IPv4 address from the dotted-decimal string format to an in_addr structure, with Windows-specific implementation."}, {"name": "usleep", "description": "Implements microsecond sleep on Windows using waitable timers."}, {"name": "void * mremap(void * old_address,size_t old_size,size_t new_size,int flags)", "description": "Stub for mremap, platform-specific; currently returns nullptr.", "scope": "", "scopeKind": ""}, {"name": "int clock_gettime(int,struct timespec *)", "description": "Stub for clock_gettime on Apple platforms; currently does nothing and returns 0.", "scope": "", "scopeKind": ""}, {"name": "uint32_t GetCallStack(const ThreadId threadId,void * addresses[],const uint32_t bufferSize)", "description": "Retrieves the call stack of a thread, with support for both the current thread and other threads (Linux implementation).", "scope": "", "scopeKind": ""}, {"name": "void DumpCallStack(const ThreadId threadId VARIABLE_IS_NOT_USED,std::list<WPEFramework::Core::callstack_info> & stackList VARIABLE_IS_NOT_USED)", "description": "Extracts call stack symbols and populates a list with stack information; supports backtrace on Linux and Windows debugging.", "scope": "", "scopeKind": ""}, {"name": "void SleepMs(const unsigned int time)", "description": "Sleeps for the specified number of milliseconds on Linux.", "scope": "", "scopeKind": ""}, {"name": "void SleepUs(const uint32_t time)", "description": "Sleeps for the specified number of microseconds, implemented differently on Linux and Windows.", "scope": "", "scopeKind": ""}, {"name": "uint64_t htonll(const uint64_t & value)", "description": "Converts a 64-bit integer from host to network byte order (big-endian).", "scope": "", "scopeKind": ""}, {"name": "uint64_t ntohll(const uint64_t & value)", "description": "Converts a 64-bit integer from network to host byte order.", "scope": "", "scopeKind": ""}, {"name": "string Format(const TCHAR format[],...)", "description": "Provides formatted string creation with variable arguments, similar to printf.", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"name": "void CallstackSignalHandler(int signr VARIABLE_IS_NOT_USED,siginfo_t * info VARIABLE_IS_NOT_USED,void * secret)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void Format(string & dst,const TCHAR format[],...)", "scope": "WPEFramework::Core", "scopeKind": "namespace", "description": "unavailable"}, {"name": "void Format(string & dst,const TCHAR format[],va_list ap)", "scope": "WPEFramework::Core", "scopeKind": "namespace", "description": "unavailable"}, {"name": "void * GetPCFromUContext(void * secret)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "MODULE_NAME_DECLARATION(BUILD_REFERENCE)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void OverrideStackTopWithPC(void ** stack,int stackSize,void * secret)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void SleepUs(const unsigned int time)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void toString(string & dst,const TCHAR format[],va_list ap)", "scope": "WPEFramework::Core", "scopeKind": "namespace", "description": "unavailable"}], "search-terms": ["Portability", "callstack", "SleepMs", "SleepUs", "Linux", "Windows", "Apple", "endianness", "callstack retrieval", "platform-specific implementations"], "state": 2, "file_id": 447, "knowledge_revision": 1545, "git_revision": "", "ctags": [{"_type": "tag", "name": "CallstackSignalHandler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^static void CallstackSignalHandler(int signr VARIABLE_IS_NOT_USED, siginfo_t* info VARIABLE_IS_N/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(int signr VARIABLE_IS_NOT_USED,siginfo_t * info VARIABLE_IS_NOT_USED,void * secret)"}, {"_type": "tag", "name": "Core", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^namespace Core {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "DumpCallStack", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^void DumpCallStack(const ThreadId threadId VARIABLE_IS_NOT_USED, std::list<WPEFramework::Core::c/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const ThreadId threadId VARIABLE_IS_NOT_USED,std::list<WPEFramework::Core::callstack_info> & stackList VARIABLE_IS_NOT_USED)"}, {"_type": "tag", "name": "Format", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^    string Format(const TCHAR format[], ...)$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const TCHAR format[],...)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "Format", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^    void Format(string& dst, const TCHAR format[], ...)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(string & dst,const TCHAR format[],...)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "Format", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^    void Format(string& dst, const TCHAR format[], va_list ap)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(string & dst,const TCHAR format[],va_list ap)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "GetCallStack", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^uint32_t GetCallStack(const ThreadId threadId, void* addresses[], const uint32_t bufferSize)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ThreadId threadId,void * addresses[],const uint32_t bufferSize)"}, {"_type": "tag", "name": "GetPCFromUContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^static void* GetPCFromUContext(void* secret)$/", "file": true, "language": "C++", "typeref": "typename:void *", "kind": "function", "signature": "(void * secret)"}, {"_type": "tag", "name": "MODULE_NAME_DECLARATION", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^MODULE_NAME_DECLARATION(BUILD_REFERENCE)$/", "language": "C++", "kind": "function", "signature": "(BUILD_REFERENCE)"}, {"_type": "tag", "name": "OverrideStackTopWithPC", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^static void OverrideStackTopWithPC(void** stack, int stackSize, void* secret)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(void ** stack,int stackSize,void * secret)"}, {"_type": "tag", "name": "SleepMs", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^void SleepMs(const unsigned int time) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const unsigned int time)"}, {"_type": "tag", "name": "SleepUs", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^void SleepUs(const uint32_t time) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t time)"}, {"_type": "tag", "name": "SleepUs", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^void SleepUs(const unsigned int time) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const unsigned int time)"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "clock_gettime", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^int clock_gettime(int, struct timespec*)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(int,struct timespec *)"}, {"_type": "tag", "name": "g_targetThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^static pthread_t g_targetThread;$/", "file": true, "language": "C++", "typeref": "typename:pthread_t", "kind": "variable"}, {"_type": "tag", "name": "g_threadCallstackBuffer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^static void** g_threadCallstackBuffer;$/", "file": true, "language": "C++", "typeref": "typename:void **", "kind": "variable"}, {"_type": "tag", "name": "g_threadCallstackBufferSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^static int g_threadCallstackBufferSize;$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "g_threadCallstackBufferUsed", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^static int g_threadCallstackBufferUsed;$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "variable"}, {"_type": "tag", "name": "htonll", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^uint64_t htonll(const uint64_t& value)$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "function", "signature": "(const uint64_t & value)"}, {"_type": "tag", "name": "mremap", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^void* mremap(void* old_address, size_t old_size, size_t new_size, int flags)$/", "language": "C++", "typeref": "typename:void *", "kind": "function", "signature": "(void * old_address,size_t old_size,size_t new_size,int flags)"}, {"_type": "tag", "name": "ntohll", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^uint64_t ntohll(const uint64_t& value)$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "function", "signature": "(const uint64_t & value)"}, {"_type": "tag", "name": "toString", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^    static void toString(string& dst, const TCHAR format[], va_list ap)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(string & dst,const TCHAR format[],va_list ap)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "va_copy", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Portability.cpp", "pattern": "/^#define va_copy(/", "file": true, "language": "C++", "kind": "macro", "signature": "(dst,src)"}], "hash": "bdb1113ba1f03c9bc57cd8443aa56d46", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/core/Portability.cpp", "fields": [{"name": "pthread_t g_targetThread", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "void ** g_threadCallstackBuffer", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int g_threadCallstackBufferSize", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "int g_threadCallstackBufferUsed", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"1545": ""}]}