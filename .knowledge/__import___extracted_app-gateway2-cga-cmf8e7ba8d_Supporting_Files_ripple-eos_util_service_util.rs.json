{"is_source_file": true, "format": "Rust", "description": "The file contains utility functions for service communication and request decoration in a Rust-based microservices architecture, including TLS channel creation, gRPC client session management, request metadata decoration, and an async function to fetch age policy identifiers.", "external_files": ["ripple_sdk/api/firebolt/fb_discovery.rs", "ripple_sdk/api/gateway/rpc_gateway_api.rs", "ripple_sdk/service/service_client.rs", "ripple_sdk/service/service_message.rs", "thunder_ripple_sdk/ripple_sdk/api/session.rs", "tonic/transport/Channel.rs", "tonic/transport/ClientTlsConfig.rs", "crate/extn/eos_ffi.rs", "crate/gateway/appsanity_gateway.rs", "log.rs", "serde_json.rs"], "external_methods": ["ripple_sdk::service::service_client::ServiceClient::request_with_timeout_main", "serde_json::from_value", "log::debug"], "published": [], "classes": [], "methods": [{"name": "decorate_request_with_account_session(req: &mut Request<()>, session: &AccountSession)", "description": "Adds authorization, device ID, account ID, and partner ID metadata to a gRPC request using data from an AccountSession.", "scope": "", "scopeKind": ""}, {"name": "create_lazy_tls_channel(service_url: String) -> Channel", "description": "Creates a lazy-initializing TLS-enabled gRPC Channel for the specified service URL.", "scope": "", "scopeKind": ""}, {"name": "create_grpc_client_session(service_url: String) -> Arc<Mutex<GrpcClientSession>>", "description": "Creates and returns a thread-safe, shared mutable reference to a GrpcClientSession initialized with the service URL.", "scope": "", "scopeKind": ""}, {"name": "create_lazy_insecure_channel(service_url: String) -> Channel", "description": "Creates a lazy-initializing insecure (non-TLS) gRPC Channel for local/testing purposes.", "scope": "", "scopeKind": ""}, {"name": "get_age_policy_identifiers( service_client: Option<ServiceClient>, call_context: CallContext, ) -> Vec<AgePolicy>", "description": "Asynchronously fetches age policy identifiers via a service client, returning a vector of AgePolicy objects.", "scope": "", "scopeKind": ""}], "calls": ["tonic::transport::Channel::from_shared", "Channel::tls_config", "Channel::connect_lazy", "Arc<Mutex<GrpcClientSession>>::new", "ServiceClient::request_with_timeout_main", "serde_json::from_value"], "search-terms": ["service_util", "gRPC channel creation", "request metadata decoration", "age policy fetch", "Rust microservices"], "state": 2, "file_id": 1837, "knowledge_revision": 4439, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "create_grpc_client_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn create_grpc_client_session(service_url: String) -> Arc<Mutex<GrpcClientSession>> {$/", "language": "Rust", "kind": "function", "signature": "(service_url: String) -> Arc<Mutex<GrpcClientSession>>"}, {"_type": "tag", "name": "create_lazy_insecure_channel", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn create_lazy_insecure_channel(service_url: String) -> Channel {$/", "language": "Rust", "kind": "function", "signature": "(service_url: String) -> Channel"}, {"_type": "tag", "name": "create_lazy_tls_channel", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn create_lazy_tls_channel(service_url: String) -> Channel {$/", "language": "Rust", "kind": "function", "signature": "(service_url: String) -> Channel"}, {"_type": "tag", "name": "decorate_request_with_account_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn decorate_request_with_account_session(req: &mut Request<()>, session: &AccountSession) {$/", "language": "Rust", "kind": "function", "signature": "(req: &mut Request<()>, session: &AccountSession)"}, {"_type": "tag", "name": "get_age_policy_identifiers", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub async fn get_age_policy_identifiers($/", "language": "Rust", "kind": "function", "signature": "( service_client: Option<ServiceClient>, call_context: CallContext, ) -> Vec<AgePolicy>"}], "hash": "c3d626e73c3f21aa531f64750c8dbd96", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/util/service_util.rs", "revision_history": [{"4439": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}