{"is_source_file": true, "format": "C++ header file", "description": "This file defines a templated C++ interface class for JSON-RPC communication over WebSockets. It includes method declarations and implementation for sending requests, handling incoming messages, processing responses, and notifications. The class manages asynchronous responses via futures and promises and provides mechanisms to set notification handlers.", "external_files": ["../JsonRpc/Request.h", "../JsonRpc/Response.h", "../JsonRpc/Notification.h", "Module.h", "UtilsJsonRpc.h", "UtilsLogging.h", "<future>", "<functional>", "<map>", "<mutex>", "<string>", "<websocketpp/frame.hpp>", "<boost/optional.hpp>"], "external_methods": ["JsonRpc::Request::getId()", "JsonRpc::Request::toString()", "JsonRpc::Response::FromString()", "JsonRpc::Response::isValid()", "JsonRpc::Response::getId()", "JsonRpc::Response::isResult()", "JsonRpc::Response::getResult()", "JsonRpc::Response::isError()", "JsonRpc::Response::getError()", "JsonRpc::Notification::FromString()", "JsonRpc::Notification::isValid()"], "published": ["sendRequest", "setNotificationHandler"], "classes": [{"name": "JsonRpcInterface", "description": "A templated interface class for managing JSON-RPC communication over WebSockets, providing mechanisms to send requests, handle responses, receive notifications, and manage asynchronous communication."}], "methods": [{"name": "bool sendRequest(const JsonRpc::Request & request,JsonRpc::Response & response)", "description": "Sends a JSON-RPC request and waits for its response asynchronously.", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "void setNotificationHandler(std::function<void (const JsonRpc::Notification &)> notificationHandler)", "description": "Sets a callback function to handle incoming JSON-RPC notifications.", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "void onMessage(const std::string & message)", "description": "Processes an incoming message, determining if it is a response or notification, and handling it accordingly.", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "boost::optional<std::future<string>> createFutureResponse(uint32_t id)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "bool getAsyncResponse(uint32_t id,std::future<string> & futureReponse,JsonRpc::Response & response)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "void handleNotification(const std::string & message)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "void handleResponse(uint32_t id,const std::string & message)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "bool isRequestProcessingOngoing(uint32_t id)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "bool processResponse(uint32_t id,const std::string & responseString,JsonRpc::Response & deviceResponse) const", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "void removePromise(uint32_t id)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}], "calls": ["derived.send()", "getAsyncResponse", "createFutureResponse", "removePromise", "handleResponse", "handleNotification", "processResponse"], "search-terms": ["JsonRpcInterface", "WebSockets", "json-rpc", "CommunicationInterface", "template", "async response handling"], "state": 2, "file_id": 6747, "knowledge_revision": 13432, "git_revision": "", "ctags": [{"_type": "tag", "name": "JsonRpcInterface", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^class JsonRpcInterface$/", "language": "C++", "kind": "class", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WebSockets", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^namespace WebSockets   {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "createFutureResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^boost::optional<std::future<string> > JsonRpcInterface<Derived>::createFutureResponse(uint32_t i/", "language": "C++", "typeref": "typename:boost::optional<std::future<string>>", "kind": "function", "signature": "(uint32_t id)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "getAsyncResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::getAsyncResponse(uint32_t id, std::future<string>& futureReponse/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t id,std::future<string> & futureReponse,JsonRpc::Response & response)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "handleNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::handleNotification(const std::string& message)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & message)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "handleResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::handleResponse(uint32_t id, const std::string& message)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t id,const std::string & message)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "isRequestProcessingOngoing", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::isRequestProcessingOngoing(uint32_t id)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t id)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "notificationHandler_", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^    std::function<void(const JsonRpc::Notification&)> notificationHandler_;$/", "language": "C++", "typeref": "typename:std::function<void (const JsonRpc::Notification &)>", "kind": "member", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "onMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::onMessage(const std::string& message)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & message)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "opcode_", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^    websocketpp::frame::opcode::value opcode_{websocketpp::frame::opcode::text};$/", "language": "C++", "typeref": "typename:websocketpp::frame::opcode::value", "kind": "member", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "processResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::processResponse(uint32_t id, const std::string &responseString, /", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t id,const std::string & responseString,JsonRpc::Response & deviceResponse) const", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "removePromise", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::removePromise(uint32_t id)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t id)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "responseMutex_", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^    std::mutex responseMutex_;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "responseToPromise_", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^    std::map<uint32_t, std::promise<std::string> > responseToPromise_;$/", "language": "C++", "typeref": "typename:std::map<uint32_t,std::promise<std::string>>", "kind": "member", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "sendRequest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::sendRequest(const JsonRpc::Request& request, JsonRpc::Response& /", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const JsonRpc::Request & request,JsonRpc::Response & response)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "setNotificationHandler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::setNotificationHandler(std::function<void(const JsonRpc::Notific/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(std::function<void (const JsonRpc::Notification &)> notificationHandler)", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class"}], "hash": "d12491b466af02ed0d3ae78fd3222ebc", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "fields": [{"name": "std::function<void (const JsonRpc::Notification &)> notificationHandler_", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "websocketpp::frame::opcode::value opcode_", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex responseMutex_", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "std::map<uint32_t,std::promise<std::string>> responseToPromise_", "scope": "WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"13432": ""}]}