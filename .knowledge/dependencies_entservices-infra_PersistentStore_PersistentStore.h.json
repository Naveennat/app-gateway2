{"is_source_file": true, "format": "C++ header file", "description": "This header defines the PersistentStore class, which is part of a WPEFramework plugin. It manages persistent storage operations via several interfaces, including JSON-RPC methods, notification handling, and interaction with external storage interfaces. The file contains class definitions, nested classes for configuration and notification handling, and method declarations for initializing, deinitializing, and performing storage operations.", "external_files": ["Module.h", "interfaces/IStore.h", "interfaces/IStore2.h", "interfaces/IStoreCache.h", "interfaces/json/JsonData_PersistentStore.h"], "external_methods": ["Exchange::IStore2::INotification::ValueChanged", "RPC::IRemoteConnection::INotification::Activated", "RPC::IRemoteConnection::INotification::Deactivated", "Core::WorkerPool::Instance", "Core::Time::Now", "PluginHost::IShell::Job::Create"], "published": ["Initialize", "Deinitialize", "Information", "endpoint_setValue", "endpoint_getValue", "endpoint_deleteKey", "endpoint_deleteNamespace", "endpoint_getKeys", "endpoint_getNamespaces", "endpoint_getStorageSize", "endpoint_getStorageSizes", "endpoint_flushCache", "endpoint_getNamespaceStorageLimit", "endpoint_setNamespaceStorageLimit", "event_onValueChanged"], "classes": [{"name": "PersistentStore", "description": "Main class implementing persistent storage plugin, handling JSON-RPC requests, notifications, and external storage interface aggregation."}, {"name": "PersistentStore::Config", "description": "Configuration container for persistent store parameters such as path, key, size limits, and limit parameters."}, {"name": "PersistentStore::Store2Notification", "description": "Notification class for handling IStore2 value change events."}, {"name": "PersistentStore::RemoteConnectionNotification", "description": "Notification class for handling remote connection events such as activation and deactivation."}], "methods": [{"name": "Initialize", "description": "Initializes the PersistentStore plugin with the service interface."}, {"name": "Deinitialize", "description": "Deinitializes the plugin, cleaning up resources."}, {"name": "Information", "description": "Returns an informational string about the plugin."}, {"name": "RegisterAll", "description": "Registers all JSON-RPC endpoints and event handlers."}, {"name": "UnregisterAll", "description": "Unregisters all endpoints and event handlers."}, {"name": "endpoint_setValue", "description": "Sets a value in the persistent storage."}, {"name": "endpoint_getValue", "description": "Retrieves a value from the persistent storage."}, {"name": "endpoint_deleteKey", "description": "Deletes a specific key from the namespace."}, {"name": "endpoint_deleteNamespace", "description": "Deletes an entire namespace."}, {"name": "endpoint_getKeys", "description": "Retrieves all keys in a namespace."}, {"name": "endpoint_getNamespaces", "description": "Retrieves all namespaces."}, {"name": "endpoint_getStorageSize", "description": "Deprecated method to get storage size; retained for backward compatibility."}, {"name": "endpoint_getStorageSizes", "description": "Retrieves storage size information for all namespaces."}, {"name": "endpoint_flushCache", "description": "Flushes the storage cache."}, {"name": "endpoint_getNamespaceStorageLimit", "description": "Gets the storage limit for a namespace."}, {"name": "endpoint_setNamespaceStorageLimit", "description": "Sets the storage limit for a namespace."}, {"name": "void event_onValueChanged(const JsonData::PersistentStore::SetValueParamsData & params)", "description": "Triggers the onValueChanged event to notify clients of a change.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "Config()", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class", "description": "unavailable"}, {"name": "void Deactivated(RPC::IRemoteConnection * connection)", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "RemoteConnectionNotification INTERFACE_ENTRY(RPC::IRemoteConnection::INotification)", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "PersistentStore()", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "RemoteConnectionNotification(PersistentStore & parent)", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "Store2Notification(PersistentStore & parent)", "scope": "WPEFramework::Plugin::PersistentStore::Store2Notification", "scopeKind": "class", "description": "unavailable"}, {"name": "void ValueChanged(const Exchange::IStore2::ScopeType scope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::PersistentStore::Store2Notification", "scopeKind": "class", "description": "unavailable"}, {"name": "~PersistentStore()", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}], "calls": ["PluginHost::IPlugin", "PluginHost::JSONRPC", "Exchange::IStore", "Exchange::IStore2", "Exchange::IStoreCache", "Exchange::IStoreInspector", "Exchange::IStoreLimit", "Core::Sink<Store2Notification>", "Core::Sink<RemoteConnectionNotification>"], "search-terms": ["PersistentStore", "IStore2::INotification", "json rpc", "storage limits", "namespace storage", "onValueChanged", "remote connection"], "state": 2, "file_id": 4106, "knowledge_revision": 8373, "git_revision": "", "ctags": [{"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            Config()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        class Config : public Core::JSON::Container {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "Deactivated", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            void Deactivated(RPC::IRemoteConnection* connection) override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(RPC::IRemoteConnection * connection)", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class"}, {"_type": "tag", "name": "INTERFACE_ENTRY", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            INTERFACE_ENTRY(RPC::IRemoteConnection::INotification)$/", "language": "C++", "typeref": "typename:RemoteConnectionNotification", "kind": "function", "signature": "(RPC::IRemoteConnection::INotification)", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class"}, {"_type": "tag", "name": "Key", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            Core::JSON::String Key;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class"}, {"_type": "tag", "name": "LegacyPath", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            Core::JSON::String LegacyPath;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class"}, {"_type": "tag", "name": "Limit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            Core::JSON::DecUInt64 Limit;$/", "language": "C++", "typeref": "typename:Core::JSON::DecUInt64", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class"}, {"_type": "tag", "name": "MaxSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            Core::JSON::DecUInt64 MaxSize;$/", "language": "C++", "typeref": "typename:Core::JSON::DecUInt64", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class"}, {"_type": "tag", "name": "MaxValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            Core::JSON::DecUInt64 MaxValue;$/", "language": "C++", "typeref": "typename:Core::JSON::DecUInt64", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class"}, {"_type": "tag", "name": "Path", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            Core::JSON::String Path;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class"}, {"_type": "tag", "name": "PersistentStore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        PersistentStore()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "PersistentStore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^    class PersistentStore : public PluginHost::IPlugin, public PluginHost::JSONRPC {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RemoteConnectionNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            explicit RemoteConnectionNotification(PersistentStore& parent)$/", "language": "C++", "kind": "function", "signature": "(PersistentStore & parent)", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class"}, {"_type": "tag", "name": "RemoteConnectionNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        class RemoteConnectionNotification : public RPC::IRemoteConnection::INotification {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "Store2Notification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            explicit Store2Notification(PersistentStore& parent)$/", "language": "C++", "kind": "function", "signature": "(PersistentStore & parent)", "scope": "WPEFramework::Plugin::PersistentStore::Store2Notification", "scopeKind": "class"}, {"_type": "tag", "name": "Store2Notification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        class Store2Notification : public Exchange::IStore2::INotification {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "ValueChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            void ValueChanged(const Exchange::IStore2::ScopeType scope, const string& ns, const /", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Exchange::IStore2::ScopeType scope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::PersistentStore::Store2Notification", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_config", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Config _config;$/", "language": "C++", "typeref": "typename:Config", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        uint32_t _connectionId;$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_notification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Core::Sink<RemoteConnectionNotification> _notification;$/", "language": "C++", "typeref": "typename:Core::Sink<RemoteConnectionNotification>", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            PersistentStore& _parent;$/", "language": "C++", "typeref": "typename:PersistentStore &", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^            PersistentStore& _parent;$/", "language": "C++", "typeref": "typename:PersistentStore &", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore::Store2Notification", "scopeKind": "class"}, {"_type": "tag", "name": "_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        PluginHost::IShell* _service;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_store", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Exchange::IStore* _store;$/", "language": "C++", "typeref": "typename:Exchange::IStore *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_store2", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Exchange::IStore2* _store2;$/", "language": "C++", "typeref": "typename:Exchange::IStore2 *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_store2Sink", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Core::Sink<Store2Notification> _store2Sink;$/", "language": "C++", "typeref": "typename:Core::Sink<Store2Notification>", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_storeCache", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Exchange::IStoreCache* _storeCache;$/", "language": "C++", "typeref": "typename:Exchange::IStoreCache *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_storeInspector", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Exchange::IStoreInspector* _storeInspector;$/", "language": "C++", "typeref": "typename:Exchange::IStoreInspector *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "_storeLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        Exchange::IStoreLimit* _storeLimit;$/", "language": "C++", "typeref": "typename:Exchange::IStoreLimit *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "event_onValueChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        void event_onValueChanged(const JsonData::PersistentStore::SetValueParamsData& params)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const JsonData::PersistentStore::SetValueParamsData & params)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "~PersistentStore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStore.h", "pattern": "/^        ~PersistentStore() override$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}], "hash": "4f54d5dda92cc1e441a20498b5bfdc38", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/PersistentStore/PersistentStore.h", "fields": [{"name": "Core::JSON::String Key", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String LegacyPath", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::DecUInt64 Limit", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::DecUInt64 MaxSize", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::DecUInt64 MaxValue", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSON::String Path", "scope": "WPEFramework::Plugin::PersistentStore::Config", "scopeKind": "class", "description": "unavailable"}, {"name": "Config _config", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t _connectionId", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::Sink<RemoteConnectionNotification> _notification", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "PersistentStore & _parent", "scope": "WPEFramework::Plugin::PersistentStore::RemoteConnectionNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * _service", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IStore * _store", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IStore2 * _store2", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::Sink<Store2Notification> _store2Sink", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IStoreCache * _storeCache", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IStoreInspector * _storeInspector", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IStoreLimit * _storeLimit", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"8373": ""}]}