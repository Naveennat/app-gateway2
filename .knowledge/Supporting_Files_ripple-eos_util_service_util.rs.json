{"is_source_file": true, "format": "Rust", "description": "This file provides utility functions for handling service requests, creating gRPC channels (both secure and insecure), and retrieving age policy identifiers within a Ripple SDK-based application. It includes functions for decorating requests with session info, setting up channels, and asynchronous API calls to fetch policies.", "external_files": ["ripple_sdk/api/firebolt/fb_discovery.rs", "ripple_sdk/api/gateway/rpc_gateway_api.rs", "ripple_sdk/service/service_client.rs", "ripple_sdk/service/service_message.rs", "thunder_ripple_sdk/ripple_sdk/api/session.rs", "tonic/transport.rs", "tonic/Request.rs", "crate/extn/eos_ffi.rs", "crate/gateway/appsanity_gateway.rs"], "external_methods": ["ripple_sdk::api::firebolt::fb_discovery::AgePolicy", "ripple_sdk::api::gateway::rpc_gateway_api::CallContext", "ripple_sdk::service::service_client::ServiceClient", "ripple_sdk::service::service_message::JsonRpcMessage", "tonic::transport::Channel", "tonic::transport::ClientTlsConfig", "tonic::Request", "crate::extn::eos_ffi::EOS_DISTRIBUTOR_SERVICE_ID", "crate::gateway::appsanity_gateway::GrpcClientSession", "serde_json::from_value"], "published": ["decorate_request_with_account_session", "create_lazy_tls_channel", "create_grpc_client_session", "create_lazy_insecure_channel", "get_age_policy_identifiers"], "classes": [], "methods": [{"name": "decorate_request_with_account_session(req: &mut Request<()>, session: &AccountSession)", "description": "Adds authorization and device/session identifiers to the request metadata based on the provided account session.", "scope": "", "scopeKind": ""}, {"name": "create_lazy_tls_channel(service_url: String) -> Channel", "description": "Creates a secure gRPC channel with TLS configured, connecting lazily to the provided service URL.", "scope": "", "scopeKind": ""}, {"name": "create_grpc_client_session(service_url: String) -> Arc<Mutex<GrpcClientSession>>", "description": "Creates and returns a thread-safe, shared reference to a new GrpcClientSession initialized with the service URL.", "scope": "", "scopeKind": ""}, {"name": "create_lazy_insecure_channel(service_url: String) -> Channel", "description": "Creates an insecure (non-TLS) gRPC channel, connecting lazily to the specified service URL (used for testing).", "scope": "", "scopeKind": ""}, {"name": "get_age_policy_identifiers( service_client: Option<ServiceClient>, call_context: CallContext, ) -> Vec<AgePolicy>", "description": "Asynchronously retrieves a list of AgePolicy objects by making a request via a ServiceClient, returning an empty list on failure.", "scope": "", "scopeKind": ""}], "calls": ["tonic::transport::Channel::from_shared", "Channel::tls_config", "Channel::connect_lazy", "Arc::new", "Mutex::new", "GrpcClientSession::new", "ServiceClient::request_with_timeout_main", "serde_json::from_value"], "search-terms": ["service_util", "decorate_request_with_account_session", "create_lazy_tls_channel", "get_age_policy_identifiers", "grpc_client_session", "lazy_insecure_channel"], "state": 2, "file_id": 359, "knowledge_revision": 1076, "git_revision": "046761b9656aa3448e0e16f1a3a9c084965a6b28", "ctags": [{"_type": "tag", "name": "create_grpc_client_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn create_grpc_client_session(service_url: String) -> Arc<Mutex<GrpcClientSession>> {$/", "language": "Rust", "kind": "function", "signature": "(service_url: String) -> Arc<Mutex<GrpcClientSession>>"}, {"_type": "tag", "name": "create_lazy_insecure_channel", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn create_lazy_insecure_channel(service_url: String) -> Channel {$/", "language": "Rust", "kind": "function", "signature": "(service_url: String) -> Channel"}, {"_type": "tag", "name": "create_lazy_tls_channel", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn create_lazy_tls_channel(service_url: String) -> Channel {$/", "language": "Rust", "kind": "function", "signature": "(service_url: String) -> Channel"}, {"_type": "tag", "name": "decorate_request_with_account_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub fn decorate_request_with_account_session(req: &mut Request<()>, session: &AccountSession) {$/", "language": "Rust", "kind": "function", "signature": "(req: &mut Request<()>, session: &AccountSession)"}, {"_type": "tag", "name": "get_age_policy_identifiers", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/service_util.rs", "pattern": "/^pub async fn get_age_policy_identifiers($/", "language": "Rust", "kind": "function", "signature": "( service_client: Option<ServiceClient>, call_context: CallContext, ) -> Vec<AgePolicy>"}], "hash": "c3d626e73c3f21aa531f64750c8dbd96", "format-version": 4, "code-base-name": "app-gateway2", "filename": "Supporting_Files/ripple-eos/util/service_util.rs", "revision_history": [{"1076": "046761b9656aa3448e0e16f1a3a9c084965a6b28"}]}