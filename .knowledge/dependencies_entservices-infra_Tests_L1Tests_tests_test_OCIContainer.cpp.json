{"is_source_file": true, "format": "C++", "description": "This file contains unit tests for the OCIContainer class, incorporating mock objects and testing various container operations such as listing, starting, stopping, pausing, resuming, and executing commands within containers. It leverages Google Test framework and tests the interaction between the handler and mocked dependencies.", "external_files": ["OCIContainer.h", "ServiceMock.h", "DobbyMock.h", "FactoriesImplementation.h", "ThunderPortability.h", "<gtest/gtest.h>"], "external_methods": ["DobbyProxy::setImpl", "IpcService::setImpl", "DobbyProxyMock::listContainers", "DobbyProxyMock::getContainerState", "DobbyProxyMock::getContainerInfo", "DobbyProxyMock::startContainerFromBundle", "DobbyProxyMock::startContainerFromSpec", "DobbyProxyMock::stopContainer", "DobbyProxyMock::pauseContainer", "DobbyProxyMock::resumeContainer", "DobbyProxyMock::execInContainer", "Core::ProxyType<Plugin::OCIContainer>::Create", "handler.Exists", "handler.Invoke"], "published": ["listContainers", "getContainerState", "getContainerInfo", "startContainer", "startContainerFromDobbySpec", "stopContainer", "pauseContainer", "resumeContainer", "executeCommand"], "classes": [{"name": "OCIContainerTest", "description": "Base test fixture class initializing the OCIContainer plugin and handler, providing setup and teardown for container-related tests."}, {"name": "OCIContainerInitializedTest", "description": "Derived test fixture class extending OCIContainerTest with mock services and expectations for initialized container state."}], "methods": [{"name": "OCIContainerTest()", "description": "Constructor initializing the container plugin proxy and handler, setting up initial connection.", "scope": "OCIContainerTest", "scopeKind": "class"}, {"name": "OCIContainerInitializedTest()", "description": "Constructor setting up mock proxies, expectations for starting services, and configuration for tests involving an initialized container.", "scope": "OCIContainerInitializedTest", "scopeKind": "class"}, {"name": "OCIContainerInitializedTest destructor", "description": "Cleans up mocks and de-initializes the plugin, resetting static implementations."}, {"name": "RegisteredMethods", "description": "Test verifying the existence of key container RPC methods."}, {"name": "listContainersTest", "description": "Test verifying listing containers returns expected container list."}, {"name": "getContainerStateTest", "description": "Test verifying retrieval of container state."}, {"name": "getContainerInfoTest", "description": "Test verifying retrieval of container information."}, {"name": "startContainerTest", "description": "Test verifying starting a container from a bundle."}, {"name": "startContainerFromDobbySpecTest", "description": "Test verifying starting a container from a Dobby specification."}, {"name": "stopContainerTest", "description": "Test verifying stopping a container."}, {"name": "pauseContainerTest", "description": "Test verifying pausing a container."}, {"name": "resumeContainerTest", "description": "Test verifying resuming a paused container."}, {"name": "executeCommandTest", "description": "Test verifying execution of a command inside a container."}, {"name": "TEST_F(OCIContainerInitializedTest,RegisteredMethods)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,executeCommandTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,getContainerInfoTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,getContainerStateTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,listContainersTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,pauseContainerTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,resumeContainerTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,startContainerFromDobbySpecTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,startContainerTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(OCIContainerInitializedTest,stopContainerTest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "~OCIContainerInitializedTest()", "scope": "OCIContainerInitializedTest", "scopeKind": "class", "description": "unavailable"}], "calls": ["DobbyProxy::setImpl", "IpcService::setImpl", "DobbyProxyMock::listContainers", "DobbyProxyMock::getContainerState", "DobbyProxyMock::getContainerInfo", "DobbyProxyMock::startContainerFromBundle", "DobbyProxyMock::startContainerFromSpec", "DobbyProxyMock::stopContainer", "DobbyProxyMock::pauseContainer", "DobbyProxyMock::resumeContainer", "DobbyProxyMock::execInContainer", "handler.Exists", "handler.Invoke"], "search-terms": ["OCIContainerTests", "listContainers", "getContainerState", "startContainer", "stopContainer", "pauseContainer", "resumeContainer", "executeCommand", "DobbyProxy", "Mock"], "state": 2, "file_id": 8250, "knowledge_revision": 16984, "git_revision": "", "ctags": [{"_type": "tag", "name": "OCIContainerInitializedTest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    OCIContainerInitializedTest()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "OCIContainerInitializedTest", "scopeKind": "class"}, {"_type": "tag", "name": "OCIContainerInitializedTest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^class OCIContainerInitializedTest : public OCIContainerTest {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "OCIContainerTest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    OCIContainerTest()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "OCIContainerTest", "scopeKind": "class"}, {"_type": "tag", "name": "OCIContainerTest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^class OCIContainerTest : public ::testing::Test {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, RegisteredMethods)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,RegisteredMethods)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, executeCommandTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,executeCommandTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, getContainerInfoTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,getContainerInfoTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, getContainerStateTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,getContainerStateTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, listContainersTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,listContainersTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, pauseContainerTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,pauseContainerTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, resumeContainerTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,resumeContainerTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, startContainerFromDobbySpecTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,startContainerFromDobbySpecTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, startContainerTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,startContainerTest)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^TEST_F(OCIContainerInitializedTest, stopContainerTest)$/", "language": "C++", "kind": "function", "signature": "(OCIContainerInitializedTest,stopContainerTest)"}, {"_type": "tag", "name": "connection", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    DECL_CORE_JSONRPC_CONX connection;$/", "file": true, "language": "C++", "typeref": "typename:DECL_CORE_JSONRPC_CONX", "kind": "member", "scope": "OCIContainerTest", "scopeKind": "class"}, {"_type": "tag", "name": "handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    Core::JSONRPC::Handler& handler;$/", "file": true, "language": "C++", "typeref": "typename:Core::JSONRPC::Handler &", "kind": "member", "scope": "OCIContainerTest", "scopeKind": "class"}, {"_type": "tag", "name": "p_dobbymock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    DobbyProxyMock    *p_dobbymock = nullptr ;$/", "file": true, "language": "C++", "typeref": "typename:DobbyProxyMock *", "kind": "member", "scope": "OCIContainerInitializedTest", "scopeKind": "class"}, {"_type": "tag", "name": "p_ipcservicemock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    IpcServiceMock    *p_ipcservicemock = nullptr ;$/", "file": true, "language": "C++", "typeref": "typename:IpcServiceMock *", "kind": "member", "scope": "OCIContainerInitializedTest", "scopeKind": "class"}, {"_type": "tag", "name": "plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    Core::ProxyType<Plugin::OCIContainer> plugin;$/", "file": true, "language": "C++", "typeref": "typename:Core::ProxyType<Plugin::OCIContainer>", "kind": "member", "scope": "OCIContainerTest", "scopeKind": "class"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    string response;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "OCIContainerTest", "scopeKind": "class"}, {"_type": "tag", "name": "service", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    NiceMock<ServiceMock> service;$/", "file": true, "language": "C++", "typeref": "typename:NiceMock<ServiceMock>", "kind": "member", "scope": "OCIContainerInitializedTest", "scopeKind": "class"}, {"_type": "tag", "name": "~OCIContainerInitializedTest", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "pattern": "/^    virtual ~OCIContainerInitializedTest() override$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "OCIContainerInitializedTest", "scopeKind": "class"}], "hash": "8644039c60d775a9e697e61f91ff1d78", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/Tests/L1Tests/tests/test_OCIContainer.cpp", "fields": [{"name": "DECL_CORE_JSONRPC_CONX connection", "scope": "OCIContainerTest", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::JSONRPC::Handler & handler", "scope": "OCIContainerTest", "scopeKind": "class", "description": "unavailable"}, {"name": "DobbyProxyMock * p_dobbymock", "scope": "OCIContainerInitializedTest", "scopeKind": "class", "description": "unavailable"}, {"name": "IpcServiceMock * p_ipcservicemock", "scope": "OCIContainerInitializedTest", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyType<Plugin::OCIContainer> plugin", "scope": "OCIContainerTest", "scopeKind": "class", "description": "unavailable"}, {"name": "string response", "scope": "OCIContainerTest", "scopeKind": "class", "description": "unavailable"}, {"name": "NiceMock<ServiceMock> service", "scope": "OCIContainerInitializedTest", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"16984": ""}]}