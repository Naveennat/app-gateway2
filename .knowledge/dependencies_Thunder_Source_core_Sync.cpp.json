{"is_source_file": true, "format": "C++", "description": "This file contains implementation of synchronization primitives including CriticalSection, BinairySemaphore, CountingSemaphore, and Event classes, along with global interlocked functions. It defines how these classes operate across different platforms (Windows and POSIX) and includes synchronization logic, constructors, destructors, and member functions.", "external_files": ["Sync.h", "ProcessInfo.h", "Trace.h", "Thread.h"], "external_methods": ["::InterlockedIncrement", "::InterlockedDecrement", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_cond_init", "pthread_cond_destroy", "pthread_cond_signal", "pthread_cond_broadcast", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_trylock", "pthread_cond_timedwait", "::CreateMutex", "::CloseHandle", "::CreateEvent", "::SetEvent", "::ResetEvent", "::ReleaseSemaphore", "::WaitForSingleObjectEx", "::GetCallStack", "// if compiled with THUNDER_BACKTRACE", "backtrace", "backtrace_symbols_fd", "clock_gettime"], "published": ["CriticalSection", "BinairySemaphore", "CountingSemaphore", "Event"], "classes": [{"name": "CriticalSection", "description": "Encapsulates platform-specific critical section mutex for thread synchronization."}, {"name": "BinairySemaphore", "description": "Implements a binary semaphore with blocking and non-blocking lock mechanisms."}, {"name": "CountingSemaphore", "description": "Implements a counting semaphore that allows multiple resources to be synchronized."}, {"name": "Event", "description": "Implements an event object for thread signaling, supporting manual-reset and auto-reset modes."}], "methods": [{"name": "uint32_t InterlockedIncrement(volatile int & a_Number)", "description": "Performs atomic increment operations on integers, platform-dependent implementation.", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"name": "uint32_t InterlockedDecrement(volatile int & a_Number)", "description": "Performs atomic decrement operations on integers, platform-dependent implementation.", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"name": "CriticalSection::CriticalSection", "description": "Constructor; initializes critical section synchronization object according to platform."}, {"name": "CriticalSection::~CriticalSection", "description": "Destructor; releases mutex resources."}, {"name": "BinairySemaphore::BinairySemaphore", "description": "Constructor; initializes a binary semaphore with initial and maximum count."}, {"name": "BinairySemaphore::~BinairySemaphore", "description": "Destructor; releases semaphore resources."}, {"name": "BinairySemaphore::Lock", "description": "Locks the semaphore, blocking if necessary."}, {"name": "BinairySemaphore::Lock(unsigned int nTime)", "description": "Attempts to lock the semaphore within a specified timeout."}, {"name": "BinairySemaphore::Unlock", "description": "Releases the semaphore, allowing other threads to acquire it."}, {"name": "CountingSemaphore::CountingSemaphore", "description": "Constructor; initializes counting semaphore with initial and max counts."}, {"name": "CountingSemaphore::~CountingSemaphore", "description": "Destructor; releases semaphore resources."}, {"name": "CountingSemaphore::Lock", "description": "Waits to acquire the semaphore."}, {"name": "CountingSemaphore::Lock(unsigned int nMilliSeconds)", "description": "Attempts to acquire the semaphore within a timeout."}, {"name": "CountingSemaphore::Unlock", "description": "Releases the semaphore, increasing the resource count."}, {"name": "CountingSemaphore::TryUnlock", "description": "Attempts to unlock the semaphore, respecting timeout."}, {"name": "Event::Event", "description": "Constructor; creates an event object with initial set/reset state and mode."}, {"name": "Event::~Event", "description": "Destructor; releases event resources."}, {"name": "Event::Lock", "description": "Waits for the event to be signaled."}, {"name": "Event::IsSet", "description": "Returns whether the event is currently signaled."}, {"name": "Event::Lock(unsigned int nTime)", "description": "Attempts to wait for the event with a timeout."}, {"name": "Event::Unlock", "description": "Sets the event to signaled state, waking waiting threads."}, {"name": "Event::ResetEvent", "description": "Resets the event to non-signaled state."}, {"name": "Event::SetEvent", "description": "Sets the event to signaled state."}, {"name": "BinairySemaphore(bool blLocked)", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "BinairySemaphore(unsigned int nInitialCount,unsigned int nMaxCount)", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "CountingSemaphore(unsigned int nInitialCount,unsigned int nMaxCount)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "CriticalSection()", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class", "description": "unavailable"}, {"name": "Event(bool blSet,bool blManualReset)", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t InterlockedDecrement(volatile uint32_t & a_Number)", "scope": "WPEFramework::Core", "scopeKind": "namespace", "description": "unavailable"}, {"name": "uint32_t InterlockedIncrement(volatile uint32_t & a_Number)", "scope": "WPEFramework::Core", "scopeKind": "namespace", "description": "unavailable"}, {"name": "bool IsSet() const", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Lock()", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Lock(unsigned int nTime)", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Lock(unsigned int nMilliSeconds)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "void ResetEvent()", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "void SetEvent()", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "int StripStackTop(void ** stack,int stackEntries,int stripped)", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class", "description": "unavailable"}, {"name": "void TryLock()", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t TryUnlock(unsigned int nMilliSeconds)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "void Unlock()", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Unlock(unsigned int nCount)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Unlock()", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "~BinairySemaphore()", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "~CountingSemaphore()", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class", "description": "unavailable"}, {"name": "~CriticalSection()", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class", "description": "unavailable"}, {"name": "~Event()", "scope": "WPEFramework::Core::Event", "scopeKind": "class", "description": "unavailable"}, {"name": "~recursive_init_error()", "scope": "__gnu_cxx::recursive_init_error", "scopeKind": "class", "description": "unavailable"}], "calls": ["::InitializeCriticalSection", "::DeleteCriticalSection", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_cond_init", "pthread_cond_destroy", "pthread_cond_signal", "pthread_cond_broadcast", "pthread_cond_timedwait", "::CreateMutex", "::CloseHandle", "::CreateEvent", "::SetEvent", "::ResetEvent", "::ReleaseSemaphore", "::WaitForSingleObjectEx", "clock_gettime", "backtrace", "backtrace_symbols_fd"], "search-terms": ["CriticalSection", "BinarySemaphore", "CountingSemaphore", "Event synchronization", "Platform-specific mutex", "Semaphore lock", "Thread signaling", "Sync primitives implementation", "platform abstraction"], "state": 2, "file_id": 305, "knowledge_revision": 1443, "git_revision": "", "ctags": [{"_type": "tag", "name": "BinairySemaphore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    BinairySemaphore::BinairySemaphore(bool blLocked)$/", "language": "C++", "kind": "function", "signature": "(bool blLocked)", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "BinairySemaphore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    BinairySemaphore::BinairySemaphore(unsigned int nInitialCount, unsigned int nMaxCount)$/", "language": "C++", "kind": "function", "signature": "(unsigned int nInitialCount,unsigned int nMaxCount)", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Core", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^namespace Core {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "CountingSemaphore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CountingSemaphore::CountingSemaphore($/", "language": "C++", "kind": "function", "signature": "(unsigned int nInitialCount,unsigned int nMaxCount)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "CriticalSection", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CriticalSection::CriticalSection()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class"}, {"_type": "tag", "name": "Event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::Event(bool blSet, bool blManualReset)$/", "language": "C++", "kind": "function", "signature": "(bool blSet,bool blManualReset)", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "InterlockedDecrement", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    InterlockedDecrement($/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(volatile int & a_Number)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "InterlockedDecrement", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    InterlockedDecrement($/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(volatile uint32_t & a_Number)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "InterlockedIncrement", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    InterlockedIncrement($/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(volatile int & a_Number)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "InterlockedIncrement", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    InterlockedIncrement($/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(volatile uint32_t & a_Number)", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "IsSet", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::IsSet() const$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "() const", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    BinairySemaphore::Lock()$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    BinairySemaphore::Lock(unsigned int nTime)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(unsigned int nTime)", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CountingSemaphore::Lock()$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CountingSemaphore::Lock(unsigned int nMilliSeconds)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(unsigned int nMilliSeconds)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::Lock()$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::Lock(unsigned int nTime)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(unsigned int nTime)", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "ResetEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::ResetEvent()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "SetEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::SetEvent()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "StripStackTop", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    int CriticalSection::StripStackTop(void** stack, int stackEntries, int stripped)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(void ** stack,int stackEntries,int stripped)", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class"}, {"_type": "tag", "name": "TryLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    void CriticalSection::TryLock()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class"}, {"_type": "tag", "name": "TryUnlock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    uint32_t CountingSemaphore::TryUnlock(unsigned int nMilliSeconds)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(unsigned int nMilliSeconds)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Unlock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    BinairySemaphore::Unlock()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Unlock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CountingSemaphore::Unlock(unsigned int nCount)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(unsigned int nCount)", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "Unlock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::Unlock()$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_StdErrDumpMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CriticalSection CriticalSection::_StdErrDumpMutex;$/", "language": "C++", "typeref": "typename:CriticalSection", "kind": "member", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class"}, {"_type": "tag", "name": "~BinairySemaphore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    BinairySemaphore::~BinairySemaphore()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::BinairySemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "~CountingSemaphore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CountingSemaphore::~CountingSemaphore()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CountingSemaphore", "scopeKind": "class"}, {"_type": "tag", "name": "~CriticalSection", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    CriticalSection::~CriticalSection()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class"}, {"_type": "tag", "name": "~Event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^    Event::~Event()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::Event", "scopeKind": "class"}, {"_type": "tag", "name": "~recursive_init_error", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/Sync.cpp", "pattern": "/^__gnu_cxx::recursive_init_error::~recursive_init_error()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "__gnu_cxx::recursive_init_error", "scopeKind": "class"}], "hash": "d5f84279b94008237105eb0e14781436", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/core/Sync.cpp", "fields": [{"name": "CriticalSection _StdErrDumpMutex", "scope": "WPEFramework::Core::CriticalSection", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"1443": ""}]}