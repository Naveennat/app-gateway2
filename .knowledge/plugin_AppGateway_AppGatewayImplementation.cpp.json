{"is_source_file": true, "format": "C++", "description": "This file is a C++ source implementation of the AppGateway component. It contains class definitions, member functions, and logic for initializing resolvers, websocket communication, request handling, configuration, and event processing related to an application gateway.", "external_files": ["<string>", "<plugins/JSONRPC.h>", "<plugins/IShell.h>", "AppGatewayImplementation.h", "UtilsLogging.h", "ContextUtils.h", "ObjectUtils.h", "<fstream>", "<streambuf>", "UtilsConnections.h", "UtilsCallsign.h", "UtilsFirebolt.h"], "external_methods": ["Core::JSON::Container::Add", "Core::JSON::Container::FromString", "Core::JSON::Container::Elements", "Core::JSON::Container::~ResolutionPaths", "Core::JSON::Error::Message", "Core::OptionalType::IsSet", "Core::OptionalType::Value", "Core::hresult::reset", "Core::NodeId::NodeId", "Core::IWorkerPool::Instance", "Core::IWorkerPool::Instance().Submit", "WebSocketConnectionManager::Config::FromString", "WebSocketConnectionManager::Start", "mService->QueryInterfaceByCallsign", "mService->AddRef", "mService->Release", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.Start", "mAppIdRegistry.Add", "mAppIdRegistry.Remove", "mAppIdRegistry.Get", "ContextUtils::ToGatewayContext", "ContextUtils::ConvertAppGatewayToNotificationContext", "ObjectUtils::HasBooleanEntry", "ErrorUtils::CustomInitialize", "ErrorUtils::NotSupported", "ErrorUtils::NotAvailable", "ErrorUtils::CustomBadRequest", "ErrorUtils::CustomInternal", "mResolverPtr->LoadConfig", "mResolverPtr->ResolveAlias", "mResolverPtr->HasEvent", "mResolverPtr->HasProviderCapability", "mResolverPtr->HasComRpcRequestSupport", "mResolverPtr->CallThunderPlugin"], "published": ["AppGatewayImplementation"], "classes": [{"name": "ResolutionPaths", "description": "A JSON container class for parsing and retrieving configuration resolution paths from a JSON array."}], "methods": [{"name": "Core::hresult Configure(Exchange::IAppGateway::IStringIterator * const & paths)", "description": "Initializes the AppGateway with the provided shell interface and sets up resolver and websocket.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeResolver()", "description": "Initializes the resolver object and loads configuration paths from file.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeWebsocket()", "description": "Sets up websocket server, handlers, and connection management.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult InternalResolutionConfigure(std::vector<std::string> configPaths)", "description": "Loads a list of configuration paths, applying override logic (later paths override earlier ones).", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult Respond(const Context & context,const string & payload)", "description": "Handles response payloads for a specific connection and request.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult Resolve(const Context & context,const string & method,const string & params)", "description": "Performs a resolution request based on method and parameters.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult FetchResolvedData(const Context & context,const string & method,const string & params,const string & origin,string & resolution)", "description": "Fetches resolution data for a request, resolving aliases, handling different request types, and calling Thunder plugins when needed.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "string UpdateContext(const Context & context,const string & method,const string & params)", "description": "Includes context information within parameters if required.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t ProcessComRpcRequest(const Context & context,const string & alias,const string & method,const string & params,string & resolution)", "description": "Handles COM RPC requests, attempting normalized calls if initial calls fail.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t PreProcessEvent(const Context & context,const string & alias,const string & method,const string & origin,const string & params,string & resolution)", "description": "Prepares event requests, especially validating 'listen' parameters.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t PreProcessProvider(const Context & context,const string & method,const string & params,const string & providerCapability,const ProviderMethodType & methodType,const string & origin,string & resolution)", "description": "Handles provider capability registration, invocation, and responses.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult HandleEvent(const Context & context,const string & alias,const string & event,const string & origin,const bool listen)", "description": "Subscribes or unsubscribes to events based on request.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "void DispatchWsMsg(const std::string & method,const std::string & params,const int requestId,const uint32_t connectionId)", "description": "Dispatches websocket messages received from clients.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "void SendToLaunchDelegate(const Context & context,const string & payload)", "description": "Sends responses to internal gateway responder.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "AppGatewayImplementation()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Configure(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::vector<std::string> GetConfigPaths()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult InternalResolve(const Context & context,const string & method,const string & params,const string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "ResolutionPaths()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}, {"name": "__anon122dd8930102(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "bool __anon122dd8930202(const uint32_t connectionId, const std::string &token)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "__anon122dd8930302(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "~AppGatewayImplementation()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~ResolutionPaths()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::JSON::Container::Add", "Core::JSON::Container::FromString", "Core::JSON::Container::Elements", "Core::JSON::Container::~ResolutionPaths", "Core::JSON::Error::Message", "WebSocketConnectionManager::Config::FromString", "WebSocketConnectionManager::Start", "mService->QueryInterfaceByCallsign", "mService->AddRef", "mService->Release", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.Start", "mAppIdRegistry.Add", "mAppIdRegistry.Remove", "mAppIdRegistry.Get", "ContextUtils::ToGatewayContext", "ContextUtils::ConvertAppGatewayToNotificationContext", "ObjectUtils::HasBooleanEntry", "ErrorUtils::CustomInitialize", "ErrorUtils::NotSupported", "ErrorUtils::NotAvailable", "ErrorUtils::CustomBadRequest", "ErrorUtils::CustomInternal", "mResolverPtr->LoadConfig", "mResolverPtr->ResolveAlias", "mResolverPtr->HasEvent", "mResolverPtr->HasProviderCapability", "mResolverPtr->HasComRpcRequestSupport", "mResolverPtr->CallThunderPlugin"], "search-terms": ["AppGatewayImplementation class", "InitializeResolver", "Websocket setup", "Configuration override paths", "COM RPC call handling", "Event subscription", "Resolution alias", "Thunder plugin invocation", "HandleAppGatewayRequest", "Response dispatch", "Context inclusion"], "state": 2, "file_id": 8719, "knowledge_revision": 17585, "git_revision": "ea9eeeb8447dca20bd95df907b3047bf59186841", "revision_history": [{"17443": "6e47ed51cb921858c8a3e089cb8dbf347eb4a03e"}, {"17451": "6e47ed51cb921858c8a3e089cb8dbf347eb4a03e"}, {"17709": "d50a798c6064640889f85db859b26017a3c10dc0"}, {"17974": "7c2dae6600226a7f46ba365660bf2860f10b15f1"}, {"17979": "b2f769e9d188ba79a52f9731dc16ecc8d735be7c"}, {"17585": "ea9eeeb8447dca20bd95df907b3047bf59186841"}], "ctags": [{"_type": "tag", "name": "APPGATEWAY_SOCKET_ADDRESS", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^#define APPGATEWAY_SOCKET_ADDRESS /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "AppGatewayImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        AppGatewayImplementation::AppGatewayImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::Configure(Exchange::IAppGateway::IStringIterator/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGateway::IStringIterator * const & paths)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::Configure(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_CONFIG_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^#define DEFAULT_CONFIG_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DispatchWsMsg", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        void AppGatewayImplementation::DispatchWsMsg(const std::string &method,$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & method,const std::string & params,const int requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "FetchResolvedData", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::FetchResolvedData(const Context &context, const /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & params,const string & origin,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetConfigPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            std::vector<std::string> GetConfigPaths() {$/", "file": true, "language": "C++", "typeref": "typename:std::vector<std::string>", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}, {"_type": "tag", "name": "HandleEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::HandleEvent(const Context &context, const string/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & alias,const string & event,const string & origin,const bool listen)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeResolver", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::InitializeResolver() {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeWebsocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::InitializeWebsocket(){$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InternalResolutionConfigure", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::InternalResolutionConfigure(std::vector<std::str/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(std::vector<std::string> configPaths)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InternalResolve", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::InternalResolve(const Context &context, const st/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & params,const string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "PreProcessEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::PreProcessEvent(const Context &context, const string&/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Context & context,const string & alias,const string & method,const string & origin,const string & params,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "PreProcessProvider", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::PreProcessProvider(const Context &context, const stri/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Context & context,const string & method,const string & params,const string & providerCapability,const ProviderMethodType & methodType,const string & origin,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ProcessComRpcRequest", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::ProcessComRpcRequest(const Context &context, const st/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Context & context,const string & alias,const string & method,const string & params,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ResolutionPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            ResolutionPaths()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}, {"_type": "tag", "name": "ResolutionPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        class ResolutionPaths : public Core::JSON::Container$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Resolve", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::Resolve(const Context &context, const string &me/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::Respond(const Context &context, const string &pa/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SendToLaunchDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        void AppGatewayImplementation::SendToLaunchDelegate(const Context& context, const string/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "UpdateContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        string AppGatewayImplementation::UpdateContext(const Context &context, const string& met/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const Context & context,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon122dd8930102", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anon122dd8930202", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t connectionId, const std::string &token) ", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anon122dd8930302", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "paths", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            Core::JSON::ArrayType<Core::JSON::String> paths;$/", "file": true, "language": "C++", "typeref": "typename:Core::JSON::ArrayType<Core::JSON::String>", "kind": "member", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}, {"_type": "tag", "name": "~AppGatewayImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        AppGatewayImplementation::~AppGatewayImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~ResolutionPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            ~ResolutionPaths()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}], "hash": "fcea1a7d9abde23197ff541a13901125", "format-version": 4, "code-base-name": "app-gateway2", "filename": "plugin/AppGateway/AppGatewayImplementation.cpp", "fields": [{"name": "Core::JSON::ArrayType<Core::JSON::String> paths", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}]}