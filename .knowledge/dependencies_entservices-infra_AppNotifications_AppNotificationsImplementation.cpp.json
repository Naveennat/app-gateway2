{"is_source_file": true, "format": "C++", "description": "Implementations of the AppNotifications feature, including subscription management, event emission, cleanup, and interaction with external services like Thunder and gateways. The file contains class definitions, methods for managing notifications, and internal logic for dispatching events to correct targets.", "external_files": ["AppNotificationsImplementation.h", "UtilsLogging.h", "StringUtils.h"], "external_methods": ["Core::IWorkerPool::Instance", "Core::IWorkerPool::Submit", "ContextUtils::IsOriginGateway", "ContextUtils::ConvertNotificationToAppGatewayContext"], "published": ["operator==", "Configure", "Subscribe", "Emit", "Cleanup"], "classes": [{"name": "AppNotificationsImplementation", "description": "Main class implementing app notification handling, including subscription, emission, cleanup, and internal management of subscribers and notifications."}, {"name": "AppNotificationsImplementation::SubscriberMap", "description": "Manages storage and retrieval of notification subscribers, handles event updates and dispatches events to the appropriate destination."}, {"name": "AppNotificationsImplementation::ThunderSubscriptionManager", "description": "Handles subscription and unsubscription to Thunder notifications, manages internal registry, and communicates with Thunder modules."}], "methods": [{"name": "AppNotificationsImplementation::Subscribe", "description": "Handles subscription requests; registers or unregisters for notifications and manages internal state."}, {"name": "AppNotificationsImplementation::Emit", "description": "Triggers event emission to all relevant subscribers."}, {"name": "AppNotificationsImplementation::Cleanup", "description": "Cleans up notifications for a specific connection ID and origin."}, {"name": "AppNotificationsImplementation::Configure", "description": "Sets the shell interface for the application and increases reference count."}, {"name": "void Add(const string & key,const Exchange::IAppNotifications::AppNotificationContext & context)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "AppNotificationsImplementation()", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Cleanup(const uint32_t connectionId,const string & origin)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void CleanupNotifications(const uint32_t & connectionId,const string & origin)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Configure(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void Dispatch(const Exchange::IAppNotifications::AppNotificationContext & context,const string & payload)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "void DispatchToGateway(const Exchange::IAppNotifications::AppNotificationContext & context,const string & payload)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "void DispatchToLaunchDelegate(const Exchange::IAppNotifications::AppNotificationContext & context,const string & payload)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Emit(const string & event,const string & payload,const string & appId)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void EventUpdate(const string & key,const string & payloadStr,const string & appId)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Exists(const string & key) const", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "std::vector<Exchange::IAppNotifications::AppNotificationContext> Get(const string & key) const", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "bool HandleNotifier(const string & module,const string & event,const bool & listen)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "bool IsNotificationRegistered(const string & module,const string & notification) const", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "void RegisterNotification(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "void Remove(const string & key,const Exchange::IAppNotifications::AppNotificationContext & context)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Subscribe(const Exchange::IAppNotifications::AppNotificationContext & context,bool listen,const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void Subscribe(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "void UnregisterNotification(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "void Unsubscribe(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class", "description": "unavailable"}, {"name": "__anon6cfc5bd20102(const Exchange::IAppNotifications::AppNotificationContext& context)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap::CleanupNotifications", "scopeKind": "function", "description": "unavailable"}, {"name": "bool operator ==(const IAppNotifications::AppNotificationContext & lhs,const IAppNotifications::AppNotificationContext & rhs)", "scope": "WPEFramework::Exchange", "scopeKind": "namespace", "description": "unavailable"}, {"name": "~AppNotificationsImplementation()", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~ThunderSubscriptionManager()", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::IWorkerPool::Instance", "Core::IWorkerPool::Submit", "mSubMap.Exists", "mSubMap.Add", "mSubMap.Remove", "mSubMap.CleanupNotifications", "mShell->AddRef", "mShell->QueryInterfaceByCallsign", "internalNotifier->HandleAppEventNotifier"], "search-terms": ["AppNotifications", "NotificationContext", "ThunderSubscription", "EventDispatch", "SubscriberManagement"], "state": 2, "file_id": 1929, "knowledge_revision": 3877, "git_revision": "", "ctags": [{"_type": "tag", "name": "Add", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::SubscriberMap::Add(const string& key, const Exchang/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & key,const Exchange::IAppNotifications::AppNotificationContext & context)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "AppNotificationsImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        AppNotificationsImplementation::AppNotificationsImplementation() : $/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Cleanup", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        Core::hresult AppNotificationsImplementation::Cleanup(const uint32_t connectionId \\/* @i/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const string & origin)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "CleanupNotifications", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::SubscriberMap::CleanupNotifications(const uint32_t /", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t & connectionId,const string & origin)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        uint32_t AppNotificationsImplementation::Configure(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::SubscriberMap::Dispatch(const Exchange::IAppNotific/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Exchange::IAppNotifications::AppNotificationContext & context,const string & payload)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "DispatchToGateway", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::SubscriberMap::DispatchToGateway(const Exchange::IA/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Exchange::IAppNotifications::AppNotificationContext & context,const string & payload)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "DispatchToLaunchDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::SubscriberMap::DispatchToLaunchDelegate(const Excha/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Exchange::IAppNotifications::AppNotificationContext & context,const string & payload)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "Emit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        Core::hresult AppNotificationsImplementation::Emit(const string &event \\/* @in *\\/,$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & event,const string & payload,const string & appId)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "EventUpdate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::SubscriberMap::EventUpdate(const string& key, const/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & key,const string & payloadStr,const string & appId)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "Exchange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^    namespace Exchange {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Exists", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        bool AppNotificationsImplementation::SubscriberMap::Exists(const string& key) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & key) const", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "Get", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        std::vector<Exchange::IAppNotifications::AppNotificationContext> AppNotificationsImpleme/", "language": "C++", "typeref": "typename:std::vector<Exchange::IAppNotifications::AppNotificationContext>", "kind": "function", "signature": "(const string & key) const", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "HandleNotifier", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        bool AppNotificationsImplementation::ThunderSubscriptionManager::HandleNotifier(const st/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & module,const string & event,const bool & listen)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class"}, {"_type": "tag", "name": "IsNotificationRegistered", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        bool AppNotificationsImplementation::ThunderSubscriptionManager::IsNotificationRegistere/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & module,const string & notification) const", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RegisterNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::ThunderSubscriptionManager::RegisterNotification(co/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class"}, {"_type": "tag", "name": "Remove", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::SubscriberMap::Remove(const string& key, const Exch/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & key,const Exchange::IAppNotifications::AppNotificationContext & context)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap", "scopeKind": "class"}, {"_type": "tag", "name": "Subscribe", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        Core::hresult AppNotificationsImplementation::Subscribe(const Exchange::IAppNotification/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Exchange::IAppNotifications::AppNotificationContext & context,bool listen,const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Subscribe", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::ThunderSubscriptionManager::Subscribe(const string&/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class"}, {"_type": "tag", "name": "UnregisterNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::ThunderSubscriptionManager::UnregisterNotification(/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class"}, {"_type": "tag", "name": "Unsubscribe", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        void AppNotificationsImplementation::ThunderSubscriptionManager::Unsubscribe(const strin/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & module,const string & event)", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon6cfc5bd20102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^                    [&](const Exchange::IAppNotifications::AppNotificationContext& context) {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Exchange::IAppNotifications::AppNotificationContext& context) ", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::SubscriberMap::CleanupNotifications", "scopeKind": "function"}, {"_type": "tag", "name": "operator ==", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        bool operator==(const IAppNotifications::AppNotificationContext& lhs,$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const IAppNotifications::AppNotificationContext & lhs,const IAppNotifications::AppNotificationContext & rhs)", "scope": "WPEFramework::Exchange", "scopeKind": "namespace"}, {"_type": "tag", "name": "~AppNotificationsImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        AppNotificationsImplementation::~AppNotificationsImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppNotificationsImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~ThunderSubscriptionManager", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "pattern": "/^        AppNotificationsImplementation::ThunderSubscriptionManager::~ThunderSubscriptionManager(/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppNotificationsImplementation::ThunderSubscriptionManager", "scopeKind": "class"}], "hash": "040ca22708ce4c4528b00c6ed3615c04", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/AppNotifications/AppNotificationsImplementation.cpp", "revision_history": [{"3877": ""}]}