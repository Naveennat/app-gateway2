{"is_source_file": true, "format": "C++", "description": "The file contains unit tests for the IAppGatewayResponder interface, testing registration, notifications, response, emission, request handling, and connection context retrieval. It uses mock objects and fake implementations for testing the responder behavior in an app gateway environment.", "external_files": ["<iostream>", "<string>", "<core/core.h>", "../AppGateway.h", "ServiceMock.h"], "external_methods": ["WPEFramework::Core::Service<AppGateway>::Create<IPlugin>()"], "published": ["Test_Responder_Register_Unregister_Notifications", "Test_Responder_Respond_Success_And_Unavailable", "Test_Responder_Emit_Success_And_Unavailable", "Test_Responder_Request_Success_And_Unavailable", "Test_Responder_GetGatewayConnectionContext_Known_And_Unknown"], "classes": [{"name": "TestResult", "description": "Struct to hold test failures count."}, {"name": "PluginAndService", "description": "Helper struct to manage plugin and service instances during tests."}, {"name": "ConnChangeCollector", "description": "Class implementing the IAppGatewayResponder::INotification interface to collect connection change notifications."}], "methods": [{"name": "void ExpectTrue(TestResult & tr,const bool condition,const std::string & what)", "description": "Checks a condition, increments failures, and logs failure message if false.", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"name": "void ExpectEqU32(TestResult & tr,const uint32_t actual,const uint32_t expected,const std::string & what)", "description": "Checks if actual equals expected, logs failure message if not.", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"name": "void ExpectEqStr(TestResult & tr,const std::string & actual,const std::string & expected,const std::string & what)", "description": "Checks if two strings are equal, logs failure message if not.", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"name": "GatewayContext MakeContext(uint32_t requestId=100,uint32_t connectionId=77,const std::string & appId=\"com.example.app\")", "description": "Creates a GatewayContext with specified ids and appId.", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"name": "uint32_t AddRef() const", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnAppConnectionChanged(const string & appId,const uint32_t connectionId,const bool & connected)", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginAndService(const L0Test::ServiceMock::Config & cfg={})", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}, {"name": "void * QueryInterface(const uint32_t id)", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Release() const", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Test_Responder_Emit_Success_And_Unavailable()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint32_t Test_Responder_GetGatewayConnectionContext_Known_And_Unknown()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint32_t Test_Responder_Register_Unregister_Notifications()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint32_t Test_Responder_Request_Success_And_Unavailable()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uint32_t Test_Responder_Respond_Success_And_Unavailable()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "~PluginAndService()", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}], "calls": ["ps.plugin->Initialize", "ps.plugin->Deinitialize", "responder->Register", "responder->Unregister", "responder->Respond", "responder->Emit", "responder->Request", "responder->GetGatewayConnectionContext"], "search-terms": ["Responder_BehaviorTests", "IAppGatewayResponder", "ConnectChangeNotification", "TestResult", "Mock", "Fake", "UnitTests", "GatewayContext", "Response handling", "Notification registration"], "state": 2, "file_id": 8280, "knowledge_revision": 16625, "git_revision": "f6ffbb159f51e1d225e2f0e23ecc4ff16e858040", "ctags": [{"_type": "tag", "name": "AddRef", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    uint32_t AddRef() const override { return 1; }$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "() const", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "ConnChangeCollector", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^class ConnChangeCollector : public IAppGatewayResponder::INotification {$/", "file": true, "language": "C++", "kind": "class", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "ExpectEqStr", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^static void ExpectEqStr(TestResult& tr, const std::string& actual, const std::string& expected, /", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(TestResult & tr,const std::string & actual,const std::string & expected,const std::string & what)", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "ExpectEqU32", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^static void ExpectEqU32(TestResult& tr, const uint32_t actual, const uint32_t expected, const st/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(TestResult & tr,const uint32_t actual,const uint32_t expected,const std::string & what)", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "ExpectTrue", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^static void ExpectTrue(TestResult& tr, const bool condition, const std::string& what) {$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(TestResult & tr,const bool condition,const std::string & what)", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "MakeContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^static GatewayContext MakeContext(uint32_t requestId = 100, uint32_t connectionId = 77, const st/", "file": true, "language": "C++", "typeref": "typename:GatewayContext", "kind": "function", "signature": "(uint32_t requestId=100,uint32_t connectionId=77,const std::string & appId=\"com.example.app\")", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "OnAppConnectionChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    void OnAppConnectionChanged(const string& appId, const uint32_t connectionId, const bool& co/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,const uint32_t connectionId,const bool & connected)", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "PluginAndService", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    explicit PluginAndService(const L0Test::ServiceMock::Config& cfg = {})$/", "file": true, "language": "C++", "kind": "function", "signature": "(const L0Test::ServiceMock::Config & cfg={})", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct"}, {"_type": "tag", "name": "PluginAndService", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^struct PluginAndService {$/", "file": true, "language": "C++", "kind": "struct", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "QueryInterface", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    void* QueryInterface(const uint32_t id) override {$/", "file": true, "language": "C++", "typeref": "typename:void *", "kind": "function", "signature": "(const uint32_t id)", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "Release", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    uint32_t Release() const override { return WPEFramework::Core::ERROR_NONE; }$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "() const", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "TestResult", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^struct TestResult {$/", "file": true, "language": "C++", "kind": "struct", "scope": "__anon2dce1c5b0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "Test_Responder_Emit_Success_And_Unavailable", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^uint32_t Test_Responder_Emit_Success_And_Unavailable() {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_Responder_GetGatewayConnectionContext_Known_And_Unknown", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^uint32_t Test_Responder_GetGatewayConnectionContext_Known_And_Unknown() {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_Responder_Register_Unregister_Notifications", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^uint32_t Test_Responder_Register_Unregister_Notifications() {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_Responder_Request_Success_And_Unavailable", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^uint32_t Test_Responder_Request_Success_And_Unavailable() {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_Responder_Respond_Success_And_Unavailable", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^uint32_t Test_Responder_Respond_Success_And_Unavailable() {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "__anon2dce1c5b0111", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "failures", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    uint32_t failures { 0 };$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon2dce1c5b0111::TestResult", "scopeKind": "struct"}, {"_type": "tag", "name": "lastAppId", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    string lastAppId;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "lastConnected", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    bool lastConnected { false };$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "lastConnectionId", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    uint32_t lastConnectionId { 0 };$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    IPlugin* plugin { nullptr };$/", "file": true, "language": "C++", "typeref": "typename:IPlugin *", "kind": "member", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct"}, {"_type": "tag", "name": "receivedCount", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    uint32_t receivedCount { 0 };$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class"}, {"_type": "tag", "name": "service", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    L0Test::ServiceMock* service { nullptr };$/", "file": true, "language": "C++", "typeref": "typename:L0Test::ServiceMock *", "kind": "member", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct"}, {"_type": "tag", "name": "~PluginAndService", "path": "/home/kavia/workspace/code-generation/app-gateway2/AppGateway/l0test/Responder_BehaviorTests.cpp", "pattern": "/^    ~PluginAndService() {$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct"}], "hash": "c01dedbd5839eee0658128c47195b300", "format-version": 4, "code-base-name": "app-gateway2", "filename": "AppGateway/l0test/Responder_BehaviorTests.cpp", "fields": [{"name": "uint32_t failures", "scope": "__anon2dce1c5b0111::TestResult", "scopeKind": "struct", "description": "unavailable"}, {"name": "string lastAppId", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "bool lastConnected", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t lastConnectionId", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "IPlugin * plugin", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t receivedCount", "scope": "__anon2dce1c5b0111::ConnChangeCollector", "scopeKind": "class", "description": "unavailable"}, {"name": "L0Test::ServiceMock * service", "scope": "__anon2dce1c5b0111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"16625": "f6ffbb159f51e1d225e2f0e23ecc4ff16e858040"}]}