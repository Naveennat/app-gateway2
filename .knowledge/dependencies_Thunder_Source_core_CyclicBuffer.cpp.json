{"is_source_file": true, "format": "C++", "description": "This file implements the CyclicBuffer class within the WPEFramework::Core namespace, providing thread-safe, lock-free circular buffer operations including read, write, reservation, locking, unlocking and administrative features. It manages shared memory buffers with synchronization mechanisms suitable for both Windows and POSIX systems, designed for inter-process communication or high-performance data streaming.", "external_files": ["CyclicBuffer.h", "ProcessInfo.h"], "external_methods": ["Core::File::PathName", "Core::File::FileName", "Core::File::Name", "Core::NumberType<uint32_t>::Text", "Core::ProcessInfo().Id()", "CreateSemaphore", "CreateEvent", "GetCurrentProcessId", "WaitForSingleObjectEx", "ReleaseSemaphore", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_cond_timedwait", "pthread_cond_signal", "clock_gettime"], "published": ["CyclicBuffer"], "classes": [{"name": "CyclicBuffer", "description": "A thread-safe circular buffer supporting multiple consumers and producers with features for reservation, locking, alerting, and concurrent read/write operations, adaptable for different platform synchronization primitives."}], "methods": [{"name": "bool Validate()", "description": "Validates the internal buffer and loads it if necessary, establishing references to the shared memory structures.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "void AdminLock()", "description": "Locks the buffer administration mutex or semaphore to ensure exclusive access to control data.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "void AdminUnlock()", "description": "Releases the buffer administration mutex or semaphore.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "void DataAvailable()", "description": "Virtual method invoked when new data is available; meant to be overridden if needed.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "void Reevaluate()", "description": "Signals waiting agents that the buffer's state may have changed, prompting reevaluation.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "void Alert()", "description": "Sets an alert flag and triggers reevaluation of waiters.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t Read(uint8_t buffer[],const uint32_t length,bool partialRead)", "description": "Reads data from the buffer into a supplied buffer, handling wrap-around and concurrent access.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t Write(const uint8_t buffer[],const uint32_t length)", "description": "Writes data into the buffer, updating head pointer, handling wrap, and notifying consumers.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "void AssureFreeSpace(uint32_t required)", "description": "Ensures there is enough free space for a write of the specified size, expanding tail pointer if necessary.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t Reserve(const uint32_t length)", "description": "Reserves space in the buffer for writing, preventing other writers from overlapping.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t Lock(const bool dataPresent,const uint32_t waitTime)", "description": "Locks the buffer for exclusive access, optionally waiting until data is present.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t Unlock()", "description": "Unlocks a previously acquired lock, allowing other threads to access the buffer.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t Peek(uint8_t buffer[],const uint32_t length) const", "description": "Allows peeking into the buffer contents without modifying internal pointers.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t GetOverwriteSize(Cursor & cursor)", "description": "Returns the amount of data that can be overwritten at the current cursor position.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "uint32_t GetReadSize(Cursor & cursor)", "description": "Returns the amount of data that can be read from the current cursor position.", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"name": "CyclicBuffer(Core::DataElementFile & buffer,const bool initiator,const uint32_t offset,const uint32_t bufferSize,const bool overwrite)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class", "description": "unavailable"}, {"name": "CyclicBuffer(const string & fileName,const uint32_t mode,const uint32_t bufferSize,const bool overwrite)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class", "description": "unavailable"}, {"name": "int RoundUp(int numToRound,int multiple)", "scope": "WPEFramework::Core::__anonce19c8020111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "uint32_t SignalLock(const uint32_t waitTime)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class", "description": "unavailable"}, {"name": "~CyclicBuffer()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class", "description": "unavailable"}], "calls": ["memcmp", "memcpy", "atomic_compare_exchange_weak", "atomic_fetch_or", "atomic_fetch_and", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_cond_timedwait", "pthread_cond_signal", "ReleaseSemaphore", "WaitForSingleObjectEx", "GetCurrentProcessId", "clock_gettime"], "search-terms": ["CyclicBuffer", "SharedMemory", "lock-free", "ring buffer", "concurrent read write", "inter-process communication", "Windows synchronization", "POSIX mutex", "reservation", "alert mechanism"], "state": 2, "file_id": 1371, "knowledge_revision": 3313, "git_revision": "", "ctags": [{"_type": "tag", "name": "AdminLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    void CyclicBuffer::AdminLock()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "AdminUnlock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    void CyclicBuffer::AdminUnlock()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Alert", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    void CyclicBuffer::Alert()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "AssureFreeSpace", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    void CyclicBuffer::AssureFreeSpace(uint32_t required)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t required)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Core", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^namespace Core {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "CyclicBuffer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    CyclicBuffer::CyclicBuffer(Core::DataElementFile& buffer, const bool initiator, const uint32/", "language": "C++", "kind": "function", "signature": "(Core::DataElementFile & buffer,const bool initiator,const uint32_t offset,const uint32_t bufferSize,const bool overwrite)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "CyclicBuffer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    CyclicBuffer::CyclicBuffer(const string& fileName, const uint32_t mode, const uint32_t buffe/", "language": "C++", "kind": "function", "signature": "(const string & fileName,const uint32_t mode,const uint32_t bufferSize,const bool overwrite)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "DataAvailable", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    \\/* virtual *\\/ void CyclicBuffer::DataAvailable()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "GetOverwriteSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    \\/* virtual *\\/ uint32_t CyclicBuffer::GetOverwriteSize(Cursor& cursor)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(Cursor & cursor)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "GetReadSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    \\/* virtual *\\/ uint32_t CyclicBuffer::GetReadSize(Cursor& cursor)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(Cursor & cursor)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    uint32_t CyclicBuffer::Lock(const bool dataPresent, const uint32_t waitTime)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const bool dataPresent,const uint32_t waitTime)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Peek", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    uint32_t CyclicBuffer::Peek(uint8_t buffer[], const uint32_t length) const$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(uint8_t buffer[],const uint32_t length) const", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Read", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    uint32_t CyclicBuffer::Read(uint8_t buffer[], const uint32_t length, bool partialRead)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(uint8_t buffer[],const uint32_t length,bool partialRead)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Reevaluate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    void CyclicBuffer::Reevaluate()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Reserve", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    uint32_t CyclicBuffer::Reserve(const uint32_t length)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint32_t length)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "RoundUp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^        int RoundUp(int numToRound, int multiple)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(int numToRound,int multiple)", "scope": "WPEFramework::Core::__anonce19c8020111", "scopeKind": "namespace"}, {"_type": "tag", "name": "SignalLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    uint32_t CyclicBuffer::SignalLock(const uint32_t waitTime)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint32_t waitTime)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Unlock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    uint32_t CyclicBuffer::Unlock()$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "Validate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    bool CyclicBuffer::Validate() {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "Write", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    uint32_t CyclicBuffer::Write(const uint8_t buffer[], const uint32_t length)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint8_t buffer[],const uint32_t length)", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}, {"_type": "tag", "name": "__anonce19c8020111", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    namespace {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework::Core", "scopeKind": "namespace"}, {"_type": "tag", "name": "~CyclicBuffer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/core/CyclicBuffer.cpp", "pattern": "/^    CyclicBuffer::~CyclicBuffer()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Core::CyclicBuffer", "scopeKind": "class"}], "hash": "ad92a6406a7263fe362ea3b43f2aa559", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/core/CyclicBuffer.cpp", "revision_history": [{"3313": ""}]}