{"is_source_file": true, "format": "C++ header file", "description": "This file defines the Store2 class implementing the IStore2 and IConfiguration interfaces, providing gRPC-based remote storage functionalities including key-value operations, configuration, and notification mechanisms.", "external_files": ["../Module.h", "secure_storage.grpc.pb.h", "<fstream>", "<grpcpp/create_channel.h>", "<interfaces/IStore2.h>", "<interfaces/IConfiguration.h>", "<libIBus.h>", "<sysMgr.h>"], "external_methods": ["grpc::CreateCustomChannel", "grpc::SslCredentials", "grpc::InsecureChannelCredentials", "Core::ERROR_NONE", "Core::ERROR_INVALID_INPUT_LENGTH", "Core::ERROR_GENERAL", "Core::ERROR_UNKNOWN_KEY", "Core::ERROR_PENDING_CONDITIONS", "Core::ERROR_NONE", "Core::IDispatch::Dispatch", "Core::ProxyType<Core::IDispatch>::Create", "Core::WorkerPool::Instance().Submit", "Core::CriticalSection", "Core::SafeSyncType<Core::CriticalSection>", "QueryInterfaceByCallsign<Exchange::IAuthService>", "Exchange::IAuthService::GetServiceAccessToken", "IARM_Bus_Init", "IARM_Bus_Connect", "IARM_Bus_SYSMgr_GetSystemStates_Param_t"], "published": ["Exchange::IStore2", "Exchange::IConfiguration"], "classes": [{"name": "Store2", "description": "A gRPC client class that implements storage and configuration interfaces, managing remote data storage and notifications with support for secure credentials, event notifications, and system state checks."}, {"name": "Job", "description": "A private inner class representing a dispatched task to notify value changes within Store2."}], "methods": [{"name": "uint32_t Register(INotification * notification)", "description": "Registers a notification listener for storage events.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "uint32_t Unregister(INotification * notification)", "description": "Unregisters a notification listener.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "uint32_t SetValue(const ScopeType scope,const string & ns,const string & key,const string & value,const uint32_t ttl)", "description": "Sets a key-value pair in remote storage with optional TTL.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "uint32_t GetValue(const ScopeType scope,const string & ns,const string & key,string & value,uint32_t & ttl)", "description": "Retrieves a value and its TTL from remote storage.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "uint32_t DeleteKey(const ScopeType scope,const string & ns,const string & key)", "description": "Deletes a specific key in remote storage.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "uint32_t DeleteNamespace(const ScopeType scope,const string & ns)", "description": "Deletes all keys within a namespace.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "uint32_t Configure(PluginHost::IShell * service)", "description": "Configures the Store2 instance with the service.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "void OnValueChanged(const ScopeType scope,const string & ns,const string & key,const string & value)", "description": "Notify registered listeners of a value change.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "void OnError(const char * fn,const grpc::Status & status) const", "description": "Logs gRPC errors.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "void Open()", "description": "Establishes a gRPC channel with the server.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "string GetToken() const", "description": "Retrieves the current authentication token.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "string GetPartnerId() const", "description": "Reads the partner ID from a file.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "string GetAccountId() const", "description": "Reads the account ID from a file.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "string GetDeviceId() const", "description": "Reads the device ID from a file.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "bool IsTimeSynced() const", "description": "Checks if system time is synchronized.", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"name": "void Dispatch()", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "Job(Store2 * parent,const ScopeType scope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "Store2()", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "Store2(const string & uri,const string & token)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "~Job()", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "~Store2()", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}], "calls": ["grpc::CreateCustomChannel", "grpc::SslCredentials", "grpc::InsecureChannelCredentials", "Exchange::IAuthService::GetServiceAccessToken", "IARM_Bus_Init", "IARM_Bus_Connect", "IARM_Bus_SYSMgr_GetSystemStates_Param_t", "Core::IDispatch::Dispatch", "Core::ProxyType<Core::IDispatch>::Create", "Core::WorkerPool::Instance().Submit"], "search-terms": ["gRPC SecureStorage", "Store2", "IStore2 implementation", "Grpc channel creation", "Notification registration", "Remote key-value storage", "System state check", "Authorization token retrieval"], "state": 2, "file_id": 6102, "knowledge_revision": 12463, "git_revision": "", "ctags": [{"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            virtual uint32_t Configure(PluginHost::IShell* service) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "DeleteKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            uint32_t DeleteKey(const ScopeType scope, const string& ns, const string& key) overr/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ScopeType scope,const string & ns,const string & key)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "DeleteNamespace", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            uint32_t DeleteNamespace(const ScopeType scope, const string& ns) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ScopeType scope,const string & ns)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                void Dispatch() override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "GetAccountId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            string GetAccountId() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "GetDeviceId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            string GetDeviceId() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "GetPartnerId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            string GetPartnerId() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "GetToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            string GetToken() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "GetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            uint32_t GetValue(const ScopeType scope, const string& ns, const string& key, string/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ScopeType scope,const string & ns,const string & key,string & value,uint32_t & ttl)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Grpc", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^    namespace Grpc {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "IsTimeSynced", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            bool IsTimeSynced() const$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                Job(Store2* parent, const ScopeType scope, const string& ns, const string& key, /", "language": "C++", "kind": "function", "signature": "(Store2 * parent,const ScopeType scope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            class Job : public Core::IDispatch {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "OnError", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            void OnError(const char* fn, const grpc::Status& status) const$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const char * fn,const grpc::Status & status) const", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "OnValueChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            void OnValueChanged(const ScopeType scope, const string& ns, const string& key, cons/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const ScopeType scope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            void Open()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            uint32_t Register(INotification* notification) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(INotification * notification)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "SetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            uint32_t SetValue(const ScopeType scope, const string& ns, const string& key, const /", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ScopeType scope,const string & ns,const string & key,const string & value,const uint32_t ttl)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Store2", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            Store2()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Store2", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            Store2(const string& uri, const string& token)$/", "language": "C++", "kind": "function", "signature": "(const string & uri,const string & token)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "Store2", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^        class Store2 : public Exchange::IStore2, public Exchange::IConfiguration {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::Grpc", "scopeKind": "namespace"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            uint32_t Unregister(INotification* notification) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(INotification * notification)", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_authorization", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            const bool _authorization;$/", "language": "C++", "typeref": "typename:const bool", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "_clientLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            Core::CriticalSection _clientLock;$/", "language": "C++", "typeref": "typename:Core::CriticalSection", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "_clients", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            std::list<INotification*> _clients;$/", "language": "C++", "typeref": "typename:std::list<INotification * >", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "_key", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                const string _key;$/", "language": "C++", "typeref": "typename:const string", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_ns", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                const string _ns;$/", "language": "C++", "typeref": "typename:const string", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                Store2* _parent;$/", "language": "C++", "typeref": "typename:Store2 *", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_scope", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                const ScopeType _scope;$/", "language": "C++", "typeref": "typename:const ScopeType", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            PluginHost::IShell* _service;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "_stub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            std::unique_ptr<::distp::gateway::secure_storage::v1::SecureStorageService::Stub> _s/", "language": "C++", "typeref": "typename:std::unique_ptr<::distp::gateway::secure_storage::v1::SecureStorageService::Stub>", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "_token", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            const string _token;$/", "language": "C++", "typeref": "typename:const string", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "_uri", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            const string _uri;$/", "language": "C++", "typeref": "typename:const string", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}, {"_type": "tag", "name": "_value", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                const string _value;$/", "language": "C++", "typeref": "typename:const string", "kind": "member", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "~Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^                ~Job() override$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class"}, {"_type": "tag", "name": "~Store2", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/Store2.h", "pattern": "/^            ~Store2() override$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class"}], "hash": "68c15810301c7a19cc59f8c3836a5cd0", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/CloudStore/grpc/Store2.h", "fields": [{"name": "const bool _authorization", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::CriticalSection _clientLock", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "std::list<INotification * > _clients", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "const string _key", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "const string _ns", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "Store2 * _parent", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "const ScopeType _scope", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * _service", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unique_ptr<::distp::gateway::secure_storage::v1::SecureStorageService::Stub> _stub", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "const string _token", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "const string _uri", "scope": "WPEFramework::Plugin::Grpc::Store2", "scopeKind": "class", "description": "unavailable"}, {"name": "const string _value", "scope": "WPEFramework::Plugin::Grpc::Store2::Job", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"12463": ""}]}