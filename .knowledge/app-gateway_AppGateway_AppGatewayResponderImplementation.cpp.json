{"is_source_file": true, "format": "C++", "description": "Implementation of the AppGatewayResponder which manages WebSocket connections, authentication, message handling, and resolution for an app-gateway service in a plugin framework.", "external_files": ["plugins/JSONRPC.h", "plugins/IShell.h", "UtilsLogging.h", "UtilsConnections.h", "UtilsCallsign.h", "interfaces/IAppNotifications.h", "AppGatewayResponderImplementation.h"], "external_methods": ["Core::IWorkerPool::Instance", "Core::JSON::Error::Message", "Core::NodeId::PortNumber", "mService->ConfigLine()", "mService->QueryInterfaceByCallsign", "mService->AddRef()", "mService->Release()", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.Start", "mWsManager.SendMessageToConnection", "mWsManager.Close", "mResolver->Resolve", "mAppIdRegistry.Add", "mAppIdRegistry.Get", "mAppIdRegistry.Remove", "LOGINFO", "LOGERR", "LOGDBG"], "published": ["AppGatewayResponderImplementation::Configure", "AppGatewayResponderImplementation::Respond", "AppGatewayResponderImplementation::Emit", "AppGatewayResponderImplementation::Request", "AppGatewayResponderImplementation::GetGatewayConnectionContext", "AppGatewayResponderImplementation::Register", "AppGatewayResponderImplementation::Unregister", "AppGatewayResponderImplementation::DispatchWsMsg"], "classes": [{"name": "AppGatewayResponderImplementation", "description": "Implements the WebSocket-based responder handling, including configuration, message dispatching, authentication, and connection management within the plugin framework."}], "methods": [{"name": "AppGatewayResponderImplementation()", "description": "Constructor initializing internal members and setting up the responder instance.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "~AppGatewayResponderImplementation()", "description": "Destructor releasing resources and cleaning up connections.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "uint32_t Configure(PluginHost::IShell * shell)", "description": "Sets up the responder with the provided shell and initializes WebSocket server.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeWebsocket()", "description": "Configures and starts the WebSocket server, setting message, auth, and disconnect handlers.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Respond(const Context & context,const string & payload)", "description": "Handles an incoming respond request by submitting a job to the worker pool.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Emit(const Context & context,const string & method,const string & payload)", "description": "Handles an emit request to send a message to clients.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Request(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "description": "Handles a request to process a specific method call.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult GetGatewayConnectionContext(const uint32_t connectionId,const string & contextKey,string & contextValue)", "description": "Retrieves context information for a given connection.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Register(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Registers a notification sink.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Unregister(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Unregisters a notification sink.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "void DispatchWsMsg(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "description": "Processes incoming WebSocket messages, resolves app IDs, and forwards responses or disconnects clients as needed.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "__anon414b7c560102(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "bool __anon414b7c560202(const uint32_t connectionId, const std::string &token)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "__anon414b7c560302(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}], "calls": ["Core::IWorkerPool::Instance", "mService->QueryInterfaceByCallsign", "mService->AddRef", "mService->Release", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.Start", "Core::JSON::Error::Message", "mAppIdRegistry.Add", "mAppIdRegistry.Get", "mAppIdRegistry.Remove", "mResolver->Resolve", "mWsManager.SendMessageToConnection", "mWsManager.Close", "mService->ConfigLine()", "mService->QueryInterfaceByCallsign", "LOGINFO", "LOGERR", "LOGDBG"], "search-terms": ["AppGateway", "WebSocket", "ResponderImplementation", "AuthHandler", "DispatchWsMsg", "ConnectionManager", "Resolve", "Notifier"], "state": 2, "file_id": 239, "knowledge_revision": 802, "git_revision": "727800fc84f5393f5ac231785d3764465fe20036", "revision_history": [{"764": "727800fc84f5393f5ac231785d3764465fe20036"}, {"799": "727800fc84f5393f5ac231785d3764465fe20036"}, {"802": "727800fc84f5393f5ac231785d3764465fe20036"}], "ctags": [{"_type": "tag", "name": "APPGATEWAY_SOCKET_ADDRESS", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define APPGATEWAY_SOCKET_ADDRESS /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::Configure(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_CONFIG_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define DEFAULT_CONFIG_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DispatchWsMsg", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        void AppGatewayResponderImplementation::DispatchWsMsg(const std::string &method,$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Emit", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Emit(const Context& context,$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetGatewayConnectionContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::GetGatewayConnectionContext(const uint3/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const string & contextKey,string & contextValue)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeWebsocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::InitializeWebsocket(){$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Register(Exchange::IAppGatewayResponder/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Request", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Request(const uint32_t connectionId,$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Respond(const Context& context, const s/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Unregister(Exchange::IAppGatewayRespond/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon414b7c560102", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anon414b7c560202", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t connectionId, const std::string &token) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anon414b7c560302", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "~AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::~AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}], "hash": "b77aa66a6e9d50dfd56875cfea74e389", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/AppGateway/AppGatewayResponderImplementation.cpp"}