{"is_source_file": true, "format": "C++ header file", "description": "This file declares the LocalTracer class in the WPEFramework::Messaging namespace, providing mechanisms for tracing, logging, and message dispatching with callback support. It includes internal management of worker threads, singleton pattern, and communication factories for tracing and logging. It also declares a ConsolePrinter class for outputting messages to the console.", "external_files": ["core/core.h", "messaging/messaging.h", "<iomanip>", "<iostream>"], "external_methods": ["Core::Thread::Run", "Core::Thread::Block", "Core::Thread::IsRunning", "Core::Time::ToTimeOnly", "Core::Time::ToRFC1123", "Core::Format", "Core::FileNameOnly", "Core::Directory::CreatePath", "Core::Directory::Destroy", "Core::CriticalSection::Lock", "Core::CriticalSection::Unlock", "Core::SafeSyncType", "Core::Messaging::MessageUnit::Load", "Core::Messaging::MessageUnit::Instance", "Core::Messaging::MessageUnit::Close", "Core::Messaging::MessageUnit::Open", "Core::Messaging::Metadata::type::TRACING", "Core::Messaging::Metadata::type::LOGGING", "Core::Messaging::Metadata", "Core::Messaging::IStore::Tracing", "Core::Messaging::IStore::Logging", "Messaging::MessageClient::AddInstance", "Messaging::MessageClient::AddFactory", "Messaging::MessageClient::Enable", "Messaging::MessageClient::WaitForUpdates", "Messaging::MessageClient::PopMessagesAndCall", "Core::CriticalSection", "mkdtemp"], "published": ["WPEFramework::Messaging::LocalTracer"], "classes": [{"name": "LocalTracer", "description": "A class managing tracing and logging functionalities, message dispatching, singleton pattern, worker threading, and callback notifications. Provides control over message enabling, opening, and closing resources."}, {"name": "ConsolePrinter", "description": "A class implementing ICallback for printing trace messages to the console with optional abbreviation."}], "methods": [{"name": "LocalTracer::EnableMessage", "description": "Enables or disables message tracing for specified module and category."}, {"name": "LocalTracer::Dispatch", "description": "Processes and delivers messages via the client, invoking callbacks if set."}, {"name": "LocalTracer::Callback", "description": "Sets the callback to receive trace messages."}, {"name": "ConsolePrinter::Message", "description": "Outputs a trace message to the console, formatted based on whether abbreviated mode is enabled."}, {"name": "LocalTracer::Open", "description": "Singleton accessor. Initializes and returns the single instance, setting up message directories and factories."}, {"name": "LocalTracer::Close", "description": "Closes and cleans up the singleton instance, releasing resources and deleting the object."}, {"name": "void Callback(ICallback * callback)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "void Close()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "ConsolePrinter(const bool abbreviated)", "scope": "WPEFramework::Messaging::ConsolePrinter", "scopeKind": "class", "description": "unavailable"}, {"name": "void Dispatch()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t EnableMessage(const std::string & moduleName,const std::string & categoryName,const bool enable)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "MessageSettings & Instance()", "scope": "WPEFramework::Messaging::LocalTracer::MessageSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "LocalTracer(const string & path)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "LocalTracer * & LockSingleton(const bool lock)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "void Message(const Core::Messaging::MessageInfo & metadata,const string & message)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "void Message(const Core::Messaging::Metadata & metadata,const string & message)", "scope": "WPEFramework::Messaging::ConsolePrinter", "scopeKind": "class", "description": "unavailable"}, {"name": "MessageSettings()", "scope": "WPEFramework::Messaging::LocalTracer::MessageSettings", "scopeKind": "class", "description": "unavailable"}, {"name": "LocalTracer & Open()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "void Start()", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class", "description": "unavailable"}, {"name": "void Stop()", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Worker()", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class", "description": "unavailable"}, {"name": "WorkerThread(LocalTracer & parent)", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class", "description": "unavailable"}, {"name": "__anon866eebf20102(const Core::ProxyType<Core::Messaging::MessageInfo>& metadata, const Core::ProxyType<Core::Messaging::IEvent>& message)", "scope": "WPEFramework::Messaging::LocalTracer::Dispatch", "scopeKind": "function", "description": "unavailable"}, {"name": "~LocalTracer()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::Thread::Run", "Core::Thread::Block", "Core::Time::ToTimeOnly", "Core::Time::ToRFC1123", "Core::Format", "Core::FileNameOnly", "Core::Directory::CreatePath", "Core::Directory::Destroy", "Core::CriticalSection::Lock", "Core::CriticalSection::Unlock", "Messaging::MessageUnit::Load", "Messaging::MessageUnit::Instance", "Messaging::MessageUnit::Close", "Messaging::MessageUnit::Open", "Messaging::MessageClient::AddInstance", "Messaging::MessageClient::AddFactory", "Messaging::MessageClient::Enable", "Messaging::MessageClient::WaitForUpdates", "Messaging::MessageClient::PopMessagesAndCall"], "search-terms": ["localtracer.h", "LocalTracer", "MessageSettings", "WorkerThread", "ConsolePrinter", "Messaging", "TraceFactoryType", "ICallback", "mutex", "singleton"], "state": 2, "file_id": 568, "knowledge_revision": 1672, "git_revision": "", "ctags": [{"_type": "tag", "name": "Callback", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        void Callback(ICallback* callback)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ICallback * callback)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        void Close()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "ConsolePrinter", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        ConsolePrinter(const bool abbreviated)$/", "language": "C++", "kind": "function", "signature": "(const bool abbreviated)", "scope": "WPEFramework::Messaging::ConsolePrinter", "scopeKind": "class"}, {"_type": "tag", "name": "ConsolePrinter", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^    class ConsolePrinter : public Messaging::LocalTracer::ICallback {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging", "scopeKind": "namespace"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        void Dispatch()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "EnableMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        uint32_t EnableMessage(const std::string& moduleName, const std::string& categoryName, c/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & moduleName,const std::string & categoryName,const bool enable)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "ICallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        struct EXTERNAL ICallback {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "Instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            static MessageSettings& Instance()$/", "language": "C++", "typeref": "typename:MessageSettings &", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer::MessageSettings", "scopeKind": "class"}, {"_type": "tag", "name": "LocalTracer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        LocalTracer(const string& path)$/", "language": "C++", "kind": "function", "signature": "(const string & path)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "LocalTracer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^    class EXTERNAL LocalTracer {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging", "scopeKind": "namespace"}, {"_type": "tag", "name": "LockSingleton", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        static LocalTracer*& LockSingleton(const bool lock)$/", "language": "C++", "typeref": "typename:LocalTracer * &", "kind": "function", "signature": "(const bool lock)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "Message", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        void Message(const Core::Messaging::MessageInfo& metadata, const string& message)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::Messaging::MessageInfo & metadata,const string & message)", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "Message", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        void Message(const Core::Messaging::Metadata& metadata, const string& message) override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::Messaging::Metadata & metadata,const string & message)", "scope": "WPEFramework::Messaging::ConsolePrinter", "scopeKind": "class"}, {"_type": "tag", "name": "MessageSettings", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            MessageSettings()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer::MessageSettings", "scopeKind": "class"}, {"_type": "tag", "name": "MessageSettings", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        class MessageSettings : public Messaging::MessageUnit::Settings {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "Messaging", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^namespace Messaging {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        static LocalTracer& Open()$/", "language": "C++", "typeref": "typename:LocalTracer &", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "Start", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            void Start()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class"}, {"_type": "tag", "name": "Stop", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            void Stop()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "Worker", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            uint32_t Worker() override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class"}, {"_type": "tag", "name": "WorkerThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            WorkerThread(LocalTracer& parent)$/", "language": "C++", "kind": "function", "signature": "(LocalTracer & parent)", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class"}, {"_type": "tag", "name": "WorkerThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        class WorkerThread : private Core::Thread {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "__anon866eebf20102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            _client.PopMessagesAndCall([this](const Core::ProxyType<Core::Messaging::MessageInfo/", "file": true, "language": "C++", "kind": "function", "signature": "(const Core::ProxyType<Core::Messaging::MessageInfo>& metadata, const Core::ProxyType<Core::Messaging::IEvent>& message) ", "scope": "WPEFramework::Messaging::LocalTracer::Dispatch", "scopeKind": "function"}, {"_type": "tag", "name": "_abbreviated", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        bool _abbreviated;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Messaging::ConsolePrinter", "scopeKind": "class"}, {"_type": "tag", "name": "_adminLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        mutable Core::CriticalSection _adminLock;$/", "language": "C++", "typeref": "typename:Core::CriticalSection", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "_callback", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        ICallback* _callback;$/", "language": "C++", "typeref": "typename:ICallback *", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "_client", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        MessageClient _client;$/", "language": "C++", "typeref": "typename:MessageClient", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "_loggingFactory", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        TraceFactoryType<Core::Messaging::IStore::Logging, Messaging::TextMessage> _loggingFacto/", "language": "C++", "typeref": "typename:TraceFactoryType<Core::Messaging::IStore::Logging,Messaging::TextMessage>", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^            LocalTracer& _parent;$/", "language": "C++", "typeref": "typename:LocalTracer &", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class"}, {"_type": "tag", "name": "_path", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        const string _path;$/", "language": "C++", "typeref": "typename:const string", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "_tracingFactory", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        TraceFactoryType<Core::Messaging::IStore::Tracing, Messaging::TextMessage> _tracingFacto/", "language": "C++", "typeref": "typename:TraceFactoryType<Core::Messaging::IStore::Tracing,Messaging::TextMessage>", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "_worker", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        WorkerThread _worker;$/", "language": "C++", "typeref": "typename:WorkerThread", "kind": "member", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}, {"_type": "tag", "name": "~LocalTracer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "pattern": "/^        virtual ~LocalTracer()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class"}], "hash": "c0156b02ca7a573c49a4538baa96e616", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/extensions/localtracer/include/localtracer/localtracer.h", "fields": [{"name": "bool _abbreviated", "scope": "WPEFramework::Messaging::ConsolePrinter", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::CriticalSection _adminLock", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "ICallback * _callback", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "MessageClient _client", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "TraceFactoryType<Core::Messaging::IStore::Logging,Messaging::TextMessage> _loggingFactory", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "LocalTracer & _parent", "scope": "WPEFramework::Messaging::LocalTracer::WorkerThread", "scopeKind": "class", "description": "unavailable"}, {"name": "const string _path", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "TraceFactoryType<Core::Messaging::IStore::Tracing,Messaging::TextMessage> _tracingFactory", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}, {"name": "WorkerThread _worker", "scope": "WPEFramework::Messaging::LocalTracer", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"1672": ""}]}