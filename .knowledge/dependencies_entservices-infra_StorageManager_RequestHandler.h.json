{"is_source_file": true, "format": "C++ header file", "description": "This file declares the RequestHandler class which manages storage operations in the WPEFramework plugin. It includes methods for creating, retrieving, deleting, and clearing storage for applications, as well as managing app storage info and permissions. It also defines relevant data structures and constants.", "external_files": ["Module.h", "<interfaces/IStore2.h>", "<ftw.h>", "<mutex>"], "external_methods": [], "published": ["WPEFramework::Plugin::RequestHandler::getInstance", "WPEFramework::Plugin::RequestHandler::SetBaseStoragePath", "WPEFramework::Plugin::RequestHandler::createPersistentStoreRemoteStoreObject", "WPEFramework::Plugin::RequestHandler::releasePersistentStoreRemoteStoreObject", "WPEFramework::Plugin::RequestHandler::appQuotaSizeProperty", "WPEFramework::Plugin::RequestHandler::populateAppInfoCacheFromStoragePath", "WPEFramework::Plugin::RequestHandler::setCurrentService", "WPEFramework::Plugin::RequestHandler::CreateStorage", "WPEFramework::Plugin::RequestHandler::GetStorage", "WPEFramework::Plugin::RequestHandler::DeleteStorage", "WPEFramework::Plugin::RequestHandler::Clear", "WPEFramework::Plugin::RequestHandler::ClearAll"], "classes": [{"name": "RequestHandler", "description": "A singleton class responsible for managing storage operations such as creation, deletion, validation, and info management of application storage within the plugin."}], "methods": [{"name": "getInstance", "description": "Returns the singleton instance of the RequestHandler class."}, {"name": "SetBaseStoragePath", "description": "Sets the base directory path for storage operations."}, {"name": "createPersistentStoreRemoteStoreObject", "description": "Creates or initializes the remote storage object."}, {"name": "releasePersistentStoreRemoteStoreObject", "description": "Releases or cleans up the remote storage object."}, {"name": "appQuotaSizeProperty", "description": "Retrieves or sets the quota size for an application storage."}, {"name": "populateAppInfoCacheFromStoragePath", "description": "Populates the internal cache with application storage info from the storage path."}, {"name": "setCurrentService", "description": "Sets the current service context for storage operations."}, {"name": "CreateStorage", "description": "Creates storage for a specified application with given size."}, {"name": "GetStorage", "description": "Retrieves storage information for an application."}, {"name": "DeleteStorage", "description": "Deletes storage associated with an application."}, {"name": "Clear", "description": "Clears the storage for a specific application."}, {"name": "ClearAll", "description": "Clears storage for all applications except those exempted."}], "calls": ["WPEFramework::Plugin::RequestHandler::getInstance", "WPEFramework::Plugin::RequestHandler::SetBaseStoragePath", "WPEFramework::Plugin::RequestHandler::createPersistentStoreRemoteStoreObject", "WPEFramework::Plugin::RequestHandler::releasePersistentStoreRemoteStoreObject", "WPEFramework::Plugin::RequestHandler::appQuotaSizeProperty", "WPEFramework::Plugin::RequestHandler::populateAppInfoCacheFromStoragePath", "WPEFramework::Plugin::RequestHandler::setCurrentService", "WPEFramework::Plugin::RequestHandler::CreateStorage", "WPEFramework::Plugin::RequestHandler::GetStorage", "WPEFramework::Plugin::RequestHandler::DeleteStorage", "WPEFramework::Plugin::RequestHandler::Clear", "WPEFramework::Plugin::RequestHandler::ClearAll"], "search-terms": ["RequestHandler", "StorageAppInfo", "appQuotaSizeProperty", "populateAppInfoCache"], "state": 2, "file_id": 6571, "knowledge_revision": 13264, "git_revision": "", "ctags": [{"_type": "tag", "name": "DELETE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    DELETE$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::RequestHandler::StorageActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "GET", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    GET,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::RequestHandler::StorageActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^    namespace Plugin $/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RequestHandler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^        class RequestHandler$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "SET", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    SET,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::RequestHandler::StorageActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "StorageActionType", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                enum StorageActionType$/", "language": "C++", "kind": "enum", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "StorageAppInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                } StorageAppInfo;$/", "language": "C++", "typeref": "struct:WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "kind": "typedef", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "StorageSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                } StorageSize;$/", "language": "C++", "typeref": "struct:WPEFramework::Plugin::RequestHandler::_StorageSize", "kind": "typedef", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "UNKNOWN", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    UNKNOWN = 0,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::RequestHandler::StorageActionType", "scopeKind": "enum"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^namespace WPEFramework$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_StorageAppInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                typedef struct _StorageAppInfo$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "_StorageSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                typedef struct _StorageSize$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "blockSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    uint64_t blockSize = 0;$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageSize", "scopeKind": "struct"}, {"_type": "tag", "name": "gid", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    int32_t gid;         \\/* GID of the group who owns the storage *\\/$/", "language": "C++", "typeref": "typename:int32_t", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct"}, {"_type": "tag", "name": "mBaseStoragePath", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                std::string mBaseStoragePath;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "mInstance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                static RequestHandler* mInstance;$/", "language": "C++", "typeref": "typename:RequestHandler *", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "mPersistentStoreRemoteStoreObject", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                Exchange::IStore2* mPersistentStoreRemoteStoreObject;$/", "language": "C++", "typeref": "typename:Exchange::IStore2 *", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "mService", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                PluginHost::IShell* mService;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "mStorageAppInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                std::map<std::string, StorageAppInfo> mStorageAppInfo;  \\/* Map storing app stor/", "language": "C++", "typeref": "typename:std::map<std::string,StorageAppInfo>", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "mStorageManagerImplLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                mutable std::mutex mStorageManagerImplLock;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "mStorageSizeLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                static std::mutex mStorageSizeLock;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    std::string path;    \\/* Path to the application's storage *\\/$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct"}, {"_type": "tag", "name": "quotaKB", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    uint32_t quotaKB;    \\/* Quota size in kilobytes for the storage *\\/$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct"}, {"_type": "tag", "name": "storageLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    std::mutex storageLock; \\/* Mutex for thread safety *\\/$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    int32_t uid;         \\/* UID of the user who owns the storage *\\/$/", "language": "C++", "typeref": "typename:int32_t", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct"}, {"_type": "tag", "name": "usedBytes", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    uint64_t usedBytes = 0;$/", "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageSize", "scopeKind": "struct"}, {"_type": "tag", "name": "usedKB", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/RequestHandler.h", "pattern": "/^                    uint32_t usedKB;     \\/* Used space in kilobytes for the storage *\\/$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct"}], "hash": "67d7541dc19c61861048128646c9a7f5", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/StorageManager/RequestHandler.h", "fields": [{"name": "uint64_t blockSize", "scope": "WPEFramework::Plugin::RequestHandler::_StorageSize", "scopeKind": "struct", "description": "unavailable"}, {"name": "int32_t gid", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::string mBaseStoragePath", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class", "description": "unavailable"}, {"name": "RequestHandler * mInstance", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IStore2 * mPersistentStoreRemoteStoreObject", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * mService", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class", "description": "unavailable"}, {"name": "std::map<std::string,StorageAppInfo> mStorageAppInfo", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mStorageManagerImplLock", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mStorageSizeLock", "scope": "WPEFramework::Plugin::RequestHandler", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string path", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t quotaKB", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::mutex storageLock", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct", "description": "unavailable"}, {"name": "int32_t uid", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint64_t usedBytes", "scope": "WPEFramework::Plugin::RequestHandler::_StorageSize", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t usedKB", "scope": "WPEFramework::Plugin::RequestHandler::_StorageAppInfo", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"13264": ""}]}