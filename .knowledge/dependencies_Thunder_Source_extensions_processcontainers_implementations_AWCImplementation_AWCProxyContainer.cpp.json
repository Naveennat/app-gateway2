{"is_source_file": true, "format": "C++", "description": "The file contains the implementation of the AWCProxyContainer class and its nested DBusInterface class. It manages container lifecycle operations such as start and stop, handles state change events, and interacts with D-Bus interfaces for container control within a plugin/daemon architecture. It uses synchronization primitives and logging for runtime behavior.", "external_files": ["AWCContainerAdministrator.h", "AWCProxyContainer.h"], "external_methods": [], "published": ["AWCProxyContainer::Pid", "AWCProxyContainer::IsRunning", "AWCProxyContainer::Start", "AWCProxyContainer::Stop"], "classes": [{"name": "AWCProxyContainer::DBusInterface", "description": "Handles D-Bus communications and callbacks related to container state changes."}, {"name": "AWCProxyContainer", "description": "Represents a container with methods to start, stop, check status, and manage its lifecycle via D-Bus."}], "methods": [{"name": "AWCProxyContainer::AWCProxyContainer", "description": "Constructor initializing container with configuration and setting up D-Bus interface binding."}, {"name": "AWCProxyContainer::~AWCProxyContainer", "description": "Destructor cleaning up container, stopping if running, unbinding D-Bus interface, and removing the container from admin registry."}, {"name": "AWCProxyContainer::Pid", "description": "Returns the process ID of the container."}, {"name": "AWCProxyContainer::IsRunning", "description": "Checks if the container is currently running based on its application state."}, {"name": "AWCProxyContainer::Start", "description": "Starts the container with specified command and parameters, waits for it to reach the STARTED state."}, {"name": "AWCProxyContainer::Stop", "description": "Stops the container, waits for it to reach the STOPPED state, with a timeout."}, {"name": "AWCProxyContainer::waitForStateChange", "description": "Waits until the container's application state changes to a desired state or timeout occurs."}, {"name": "AWCProxyContainer::onStateChange", "description": "Callback invoked on container state change via D-Bus, updating internal state and notifying."}, {"name": "AWCProxyContainer(const string & name,const PluginConfig & cfg,dbus::Client * client)", "scope": "AWCProxyContainer", "scopeKind": "class", "description": "unavailable"}, {"name": "DBusInterface(AWCProxyContainer * container)", "scope": "AWCProxyContainer::DBusInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "bool IsRunning() const", "scope": "AWCProxyContainer", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Pid() const", "scope": "AWCProxyContainer", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Start(const string & command,IStringIterator & params)", "scope": "AWCProxyContainer", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Stop(const uint32_t timeout VARIABLE_IS_NOT_USED)", "scope": "AWCProxyContainer", "scopeKind": "class", "description": "unavailable"}, {"name": "__anon841018740102()", "scope": "AWCProxyContainer::waitForStateChange", "scopeKind": "function", "description": "unavailable"}, {"name": "void onStateChange(int pid,AppState appState)", "scope": "AWCProxyContainer::DBusInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "bool waitForStateChange(Lock & lock,AppState state,milliseconds timeout)", "scope": "AWCProxyContainer", "scopeKind": "class", "description": "unavailable"}, {"name": "~AWCProxyContainer()", "scope": "AWCProxyContainer", "scopeKind": "class", "description": "unavailable"}, {"name": "~DBusInterface()", "scope": "AWCProxyContainer::DBusInterface", "scopeKind": "class", "description": "unavailable"}], "calls": ["TRACE_L1", "CHECK", "std::make_shared", "client_->bind", "client_->unbind", "AWCContainerBase::Id", "static_cast<AWCContainerAdministrator&>", "toStr", "appState_", "cond_.notify_one", "cond_.wait_for"], "search-terms": ["AWCProxyContainer", "D-Bus container control", "application state management", "start/stop container", "container lifecycle", "Synchronization with mutex", "Container administrator", "Thunder plugin container", "Container process ID"], "state": 2, "file_id": 592, "knowledge_revision": 1685, "git_revision": "", "ctags": [{"_type": "tag", "name": "AWCProxyContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^AWCProxyContainer::AWCProxyContainer($/", "language": "C++", "kind": "function", "signature": "(const string & name,const PluginConfig & cfg,dbus::Client * client)", "scope": "AWCProxyContainer", "scopeKind": "class"}, {"_type": "tag", "name": "CHECK", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^#define CHECK(/", "file": true, "language": "C++", "kind": "macro", "signature": "(cond)"}, {"_type": "tag", "name": "DBusInterface", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^AWCProxyContainer::DBusInterface::DBusInterface($/", "language": "C++", "kind": "function", "signature": "(AWCProxyContainer * container)", "scope": "AWCProxyContainer::DBusInterface", "scopeKind": "class"}, {"_type": "tag", "name": "IsRunning", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^bool AWCProxyContainer::IsRunning() const$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "() const", "scope": "AWCProxyContainer", "scopeKind": "class"}, {"_type": "tag", "name": "Pid", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^uint32_t AWCProxyContainer::Pid() const$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "() const", "scope": "AWCProxyContainer", "scopeKind": "class"}, {"_type": "tag", "name": "Start", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^bool AWCProxyContainer::Start(const string &command, IStringIterator &params)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & command,IStringIterator & params)", "scope": "AWCProxyContainer", "scopeKind": "class"}, {"_type": "tag", "name": "Stop", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^bool AWCProxyContainer::Stop(const uint32_t timeout \\/*ms*\\/ VARIABLE_IS_NOT_USED)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t timeout VARIABLE_IS_NOT_USED)", "scope": "AWCProxyContainer", "scopeKind": "class"}, {"_type": "tag", "name": "__anon841018740102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^        r = cond_.wait_for(lock, timeout, [=](){return appState_ == state;});$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "AWCProxyContainer::waitForStateChange", "scopeKind": "function"}, {"_type": "tag", "name": "onStateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^void AWCProxyContainer::DBusInterface::onStateChange(int pid, AppState appState)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(int pid,AppState appState)", "scope": "AWCProxyContainer::DBusInterface", "scopeKind": "class"}, {"_type": "tag", "name": "waitForStateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^bool AWCProxyContainer::waitForStateChange($/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(Lock & lock,AppState state,milliseconds timeout)", "scope": "AWCProxyContainer", "scopeKind": "class"}, {"_type": "tag", "name": "~AWCProxyContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^AWCProxyContainer::~AWCProxyContainer()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "AWCProxyContainer", "scopeKind": "class"}, {"_type": "tag", "name": "~DBusInterface", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "pattern": "/^AWCProxyContainer::DBusInterface::~DBusInterface()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "AWCProxyContainer::DBusInterface", "scopeKind": "class"}], "hash": "6a66ef77d5d4cc84fcd8b96b885b98b6", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/extensions/processcontainers/implementations/AWCImplementation/AWCProxyContainer.cpp", "revision_history": [{"1685": ""}]}