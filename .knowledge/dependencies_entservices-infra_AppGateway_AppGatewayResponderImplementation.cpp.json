{"is_source_file": true, "format": "C++", "description": "This is a C++ source file implementing the AppGatewayResponderImplementation class, which manages WebSocket communication, authentication, and notifications within the App Gateway plugin for WPEFramework.", "external_files": ["<string>", "<plugins/JSONRPC.h>", "<plugins/IShell.h>", "AppGatewayResponderImplementation.h", "UtilsLogging.h", "UtilsConnections.h", "UtilsCallsign.h", "<interfaces/IAppNotifications.h>"], "external_methods": ["Core::NodeId::NodeId()", "Core::OptionalType<Core::JSON::Error>::IsSet()", "Core::OptionalType<Core::JSON::Error>::Value()", "Core::JSON::Error::Message()", "Core::IWorkerPool::Instance()", "Core::IWorkerPool::Submit()", "WebSocketConnectionManager::Config::FromString()", "WebSocketConnectionManager::SetMessageHandler()", "WebSocketConnectionManager::SetAuthHandler()", "WebSocketConnectionManager::SetDisconnectHandler()", "WebSocketConnectionManager::Start()", "Core::NodeId::NodeId(const char*)", "Core::ERROR_NONE", "LOGINFO()", "LOGERR()", "Utils::ResolveQuery()", "mService->QueryInterfaceByCallsign<Exchange::IAppGatewayAuthenticator>()", "mService->QueryInterfaceByCallsign<Exchange::IAppNotifications>()", "mService->ConfigLine()", "mAppIdRegistry.Add()", "mAppIdRegistry.Get()", "mAppIdRegistry.Remove()", "ConnectionStatusNotificationJob::Create()", "RespondJob::Create()", "EmitJob::Create()", "RequestJob::Create()", "mWsManager.Close()", "mResolver->Resolve()", "Core::CriticalSection::Lock()", "Core::CriticalSection::Unlock()", "std::find()", "std::vector::push_back()", "std::vector::erase()", "Core::JSON::Error::c_str()"], "published": ["Exchange::IAppGatewayResponder"], "classes": [{"name": "AppGatewayResponderImplementation", "description": "Implements WebSocket server, authentication, and app connection management for the App Gateway plugin."}], "methods": [{"name": "uint32_t Configure(PluginHost::IShell * shell)", "description": "Initializes the plugin with the shell interface and starts the websocket server.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeWebsocket()", "description": "Sets up WebSocket server, handlers for messages, authentication, and disconnection.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Respond(const Context & context,const string & payload)", "description": "Handles a response to a request, queues it for processing.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Emit(const Context & context,const string & method,const string & payload)", "description": "Sends an event/notification via WebSocket.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Request(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "description": "Processes a JSON RPC request.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult GetGatewayConnectionContext(const uint32_t connectionId,const string & contextKey,string & contextValue)", "description": "Placeholder for getting connection context; currently returns success without data.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "void DispatchWsMsg(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "description": "Handles incoming WebSocket messages, resolves methods, and manages app ID registry.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Register(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Registers a notification callback for connection status changes.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Unregister(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Unregisters a notification callback.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "void OnConnectionStatusChanged(const string & appId,const uint32_t connectionId,const bool connected)", "description": "Notifies registered observers about app connection status changes.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "AppGatewayResponderImplementation()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "__anon2578b9d40102(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "bool __anon2578b9d40202(const uint32_t connectionId, const std::string &token)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "__anon2578b9d40302(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "~AppGatewayResponderImplementation()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::IWorkerPool::Instance().Submit()", "mService->Release()", "mResolver->Release()", "mAuthenticator->Release()", "mWsManager.Start()", "mWsManager.Close()", "mResolver->Resolve()", "mAuthenticator->Authenticate()", "mAppIdRegistry.Add()", "mAppIdRegistry.Get()", "mAppIdRegistry.Remove()", "mService->QueryInterfaceByCallsign<>()", "mService->ConfigLine()", "Core::Error", "Core::JSON::Error", "std::find()"], "search-terms": ["AppGatewayResponderImplementation", "WebSocketConnectionManager", "Authentication", "App Notifications", "Connection Management", "WebSocket Handlers", "JSONRPC", "AppGateway", "ws", "WebSocket Server"], "state": 2, "file_id": 6482, "knowledge_revision": 13178, "git_revision": "", "ctags": [{"_type": "tag", "name": "APPGATEWAY_SOCKET_ADDRESS", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define APPGATEWAY_SOCKET_ADDRESS /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::Configure(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_CONFIG_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define DEFAULT_CONFIG_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DispatchWsMsg", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        void AppGatewayResponderImplementation::DispatchWsMsg(const std::string &method,$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Emit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Emit(const Context& context \\/* @in *\\//", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetGatewayConnectionContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::GetGatewayConnectionContext(const uint3/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const string & contextKey,string & contextValue)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeWebsocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::InitializeWebsocket(){$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OnConnectionStatusChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        void AppGatewayResponderImplementation::OnConnectionStatusChanged(const string& appId, c/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,const uint32_t connectionId,const bool connected)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Register(Exchange::IAppGatewayResponder/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Request", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Request(const uint32_t connectionId \\/*/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Respond(const Context& context, const s/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Unregister(Exchange::IAppGatewayRespond/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon2578b9d40102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anon2578b9d40202", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t connectionId, const std::string &token) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anon2578b9d40302", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "~AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::~AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}], "hash": "64e94e6ec3d26d3abf74f6147ca86aaf", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/AppGateway/AppGatewayResponderImplementation.cpp", "revision_history": [{"13178": ""}]}