{"is_source_file": true, "format": "C++", "description": "This source file implements the RustAdapter plugin for the WPEFramework. It manages initialization, deinitialization, communication, and reference counting for the plugin, including handling local or remote plugin instantiation based on profile type. It contains class definitions, methods for plugin lifecycle management, RPC invocation, attach/detach channels, and utility functions for library paths and authentication tokens.", "external_files": ["RustAdapter.h", "LocalPlugin.h", "RemotePlugin.h", "Logger.h", "<plugins/Channel.h>", "UtilsSearchRDKProfile.h"], "external_methods": ["searchRdkProfile()", "LOGINFO()", "WPEFramework::Plugin::Rust::RemotePlugin::Initialize()", "WPEFramework::Plugin::Rust::LocalPlugin::Initialize()", "WPEFramework::Plugin::Rust::RemotePlugin::Deinitialize()", "WPEFramework::Plugin::Rust::LocalPlugin::Deinitialize()", "M_impl->Information()", "M_impl->Invoke()", "M_impl->Activate()", "M_impl->Deactivate()", "M_impl->Attach()", "M_impl->Detach()", "M_impl->Close()", "searchRdkProfile()"], "published": ["RustAdapter"], "classes": [{"name": "RustAdapter", "description": "A plugin class that manages the lifecycle, communication, and reference counting for the RustAdapter plugin, supporting both in-process and out-of-process operation based on configuration and profile type."}], "methods": [{"name": "const string Initialize(PluginHost::IShell * shell)", "description": "Initializes the plugin, determines profile type, configures local or remote plugin instance based on the config, and performs setup with the shell.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "void Deinitialize(PluginHost::IShell * shell)", "description": "Deinitializes the plugin, performs cleanup, and detaches resources based on profile type.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "string Information() const", "description": "Returns information string from the underlying plugin implementation.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "void AddRef() const", "description": "Increments the reference counter for the plugin instance.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "uint32_t Release() const", "description": "Decrements the reference counter and deletes the instance if the count reaches zero.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message> Invoke(const string & token,const uint32_t channelId,const WPEFramework::Core::JSONRPC::Message & req)", "description": "Handles RPC invocation calls with different signatures depending on compile-time conditions.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "void Activate(WPEFramework::PluginHost::IShell * shell)", "description": "Activates the plugin with a given shell.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "void Deactivate()", "description": "Deactivates the plugin.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "bool Attach(PluginHost::Channel & channel)", "description": "Attaches a communication channel.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "void Detach(PluginHost::Channel & channel)", "description": "Detaches a communication channel.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "void Close(const uint32_t channelId)", "description": "Closes a communication channel based on channel ID.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "WPEFramework::Core::hresult Revoke(ICallback * callback)", "description": "Revokes a callback (stub implementation).", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "WPEFramework::Core::hresult Validate(const string & token,const string & method,const string & paramaters) const", "description": "Validates a token, method, and parameters (stub implementation).", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement> Inbound(const string & identifier)", "description": "Handles incoming messages or elements based on identifier or ID.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "std::string GetLibraryPathOrName(const std::string & lib_name,const std::string & callsign)", "description": "Constructs and returns the full path or name of the shared library.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "std::string GetAuthToken(WPEFramework::PluginHost::IShell * service,const std::string & callsign)", "description": "Generates an authentication token for a given service and callsign.", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement> Inbound(const uint32_t id,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message> Invoke(const WPEFramework::Core::JSONRPC::Context & ctx,const WPEFramework::Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::hresult Invoke(ICallback * callback,const uint32_t channelId,const uint32_t id,const string & token,const string & method,const string & parameters,string & response)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class", "description": "unavailable"}, {"name": "RustAdapter()", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class", "description": "unavailable"}], "calls": ["searchRdkProfile()", "LOGINFO()", "WPEFramework::Plugin::Rust::RemotePlugin::Initialize()", "WPEFramework::Plugin::Rust::LocalPlugin::Initialize()", "WPEFramework::Plugin::Rust::RemotePlugin::Deinitialize()", "WPEFramework::Plugin::Rust::LocalPlugin::Deinitialize()", "m_impl->Information()", "m_impl->Invoke()", "m_impl->Activate()", "m_impl->Deactivate()", "m_impl->Attach()", "m_impl->Detach()", "m_impl->Close()", "service->QueryInterfaceByCallsign()", "auth->CreateToken()", "auth->Release()"], "search-terms": ["RustAdapter.cpp", "RustAdapter", "RemotePlugin", "LocalPlugin", "Initialize", "Deinitialize", "RefCount", "Invoke", "Channel", "Profiler search"], "state": 2, "file_id": 5786, "knowledge_revision": 11781, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_VERSION_NUMBER_MAJOR", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^#define API_VERSION_NUMBER_MAJOR /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "API_VERSION_NUMBER_MINOR", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^#define API_VERSION_NUMBER_MINOR /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "API_VERSION_NUMBER_PATCH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^#define API_VERSION_NUMBER_PATCH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Activate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Activate($/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(WPEFramework::PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "AddRef", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::AddRef() const$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Attach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Attach(PluginHost::Channel &channel)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Close(const uint32_t channelId)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t channelId)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Deactivate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Deactivate()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Deinitialize(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Detach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Detach(PluginHost::Channel &channel)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "GetAuthToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::GetAuthToken(WPEFramework::PluginHost::IShell* service, const/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(WPEFramework::PluginHost::IShell * service,const std::string & callsign)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "GetLibraryPathOrName", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::GetLibraryPathOrName($/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const std::string & lib_name,const std::string & callsign)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Inbound(const string &identifier)$/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement>", "kind": "function", "signature": "(const string & identifier)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Inbound(const uint32_t id,$/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement>", "kind": "function", "signature": "(const uint32_t id,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Information", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Information() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Initialize(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:const string", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^  WPEFramework::Plugin::RustAdapter::Invoke($/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message>", "kind": "function", "signature": "(const string & token,const uint32_t channelId,const WPEFramework::Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Invoke($/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message>", "kind": "function", "signature": "(const WPEFramework::Core::JSONRPC::Context & ctx,const WPEFramework::Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Invoke(ICallback* callback, const uint32_t channelId, const u/", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(ICallback * callback,const uint32_t channelId,const uint32_t id,const string & token,const string & method,const string & parameters,string & response)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Release", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::Release() const$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Revoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Core::hresult WPEFramework::Plugin::RustAdapter::Revoke(ICallback* callback)$/", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(ICallback * callback)", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "RustAdapter", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Plugin::RustAdapter::RustAdapter()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "Validate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^WPEFramework::Core::hresult WPEFramework::Plugin::RustAdapter::Validate(const string& token, con/", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(const string & token,const string & method,const string & paramaters) const", "scope": "WPEFramework::Plugin::RustAdapter", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon4c1736340111", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "metadata", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "pattern": "/^    static Plugin::Metadata<Plugin::RustAdapter> metadata($/", "file": true, "language": "C++", "typeref": "typename:Plugin::Metadata<Plugin::RustAdapter>", "kind": "variable", "scope": "WPEFramework::__anon4c1736340111", "scopeKind": "namespace"}], "hash": "fd367a6dd0e06f375fe02b9b0b913b27", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RustAdapter/RustAdapter.cpp", "fields": [{"name": "Plugin::Metadata<Plugin::RustAdapter> metadata", "scope": "WPEFramework::__anon4c1736340111", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"11781": ""}]}