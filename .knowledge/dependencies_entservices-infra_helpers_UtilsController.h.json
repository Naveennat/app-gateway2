{"is_source_file": true, "format": "C++ header file", "description": "This file defines a utility header for security token management, Thunder plugin communication, and plugin lifecycle handling. It includes methods for obtaining security tokens, performing HTTP checks on thunder security configuration, and managing plugin states.", "external_files": ["<curl/curl.h>", "<securityagent/SecurityTokenUtil.h>"], "external_methods": ["curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "curl_easy_cleanup", "JsonObject::JsonObject", "JsonArray::Array", "Core::SystemInfo::SetEnvironment", "make_shared", "Core::ProxyType", "Core::IDispatchType", "Core::IDispatch", "PluginHost::IShell::State", "Core::Event", "Core::WorkerPool::Instance", "Core::ProxyType<Core::IDispatchType<void>>", "Core::ProxyType<Core::IDispatch>", "Core::ERROR_UNAVAILABLE", "Core::ERROR_NONE", "Core::ERROR_ASYNC_FAILED"], "published": ["Utils::SecurityToken::getSecurityToken", "Utils::getThunderControllerClient", "Utils::Job", "getServiceState", "activatePlugin"], "classes": [{"name": "Utils::SecurityToken", "description": "Provides static methods to retrieve and manage a security token, including performing security checks via HTTP requests to local services."}, {"name": "Utils::Job", "description": "A dispatch class wrapping a std::function<void()> to be executed asynchronously within the core worker pool."}], "methods": [{"name": "Utils::SecurityToken::getSecurityToken", "description": "Retrieves a security token, either from cache or via the security agent, with thread safety."}, {"name": "size_t writeCurlResponse(void * ptr,size_t size,size_t nmemb,string stream)", "description": "A callback for libcurl to write response data into a string.", "scope": "Utils::SecurityToken", "scopeKind": "struct"}, {"name": "bool isThunderSecurityConfigured()", "description": "Performs an HTTP GET request to check if Thunder security subsystem is configured, based on the presence of 'Security' subsystem in response JSON.", "scope": "Utils::SecurityToken", "scopeKind": "struct"}, {"name": "Utils::getThunderControllerClient", "description": "Creates and returns a JSONRPC client connection to the Thunder controller, authenticated with a security token."}, {"name": "Utils::Job::Job", "description": "Constructor accepting a std::function<void()> to be dispatched."}, {"name": "Utils::Job::Dispatch", "description": "Executes the stored task."}, {"name": "uint32_t getServiceState(PluginHost::IShell * shell,const string & callsign,PluginHost::IShell::state & state)", "description": "Retrieves the current state of a plugin service via its callsign.", "scope": "Utils", "scopeKind": "namespace"}, {"name": "uint32_t activatePlugin(PluginHost::IShell * shell,const string & callsign)", "description": "Activates a plugin given its callsign, asynchronously.", "scope": "Utils", "scopeKind": "namespace"}, {"name": "void Dispatch()", "scope": "Utils::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "Job(std::function<void ()> work)", "scope": "Utils::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "__anona4824c430102()", "scope": "Utils::activatePlugin", "scopeKind": "function", "description": "unavailable"}, {"name": "void getSecurityToken(std::string & token)", "scope": "Utils::SecurityToken", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>> getThunderControllerClient(std::string callsign=\"\")", "scope": "Utils", "scopeKind": "namespace", "description": "unavailable"}], "calls": ["curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "curl_easy_cleanup", "JsonObject(jsonResp)", "responseJson.HasLabel", "responseJson[\"subsystems\"].Array()", "Core::SystemInfo::SetEnvironment", "make_shared", "Core::ProxyType", "Core::IDispatchType<void>", "Core::IDispatch", "PluginHost::IShell::QueryInterfaceByCallsign", "PluginHost::IShell::Activate", "event.SetEvent", "event.Lock"], "search-terms": ["SecurityToken", "ThunderSecurity", "PluginActivation", "getSecurityToken", "ThunderControllerClient", "ConfigurationCheck", "SecuritySubsystem", "async plugin activation", "HTTP curl security check"], "state": 2, "file_id": 4573, "knowledge_revision": 9194, "git_revision": "", "ctags": [{"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        void Dispatch() override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "Utils::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        Job(std::function<void()> work)$/", "language": "C++", "kind": "function", "signature": "(std::function<void ()> work)", "scope": "Utils::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    class Job : public Core::IDispatchType<void>$/", "language": "C++", "kind": "class", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "MAX_STRING_LENGTH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^#define MAX_STRING_LENGTH /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "SERVER_DETAILS", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^#define SERVER_DETAILS /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "SecurityToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    struct SecurityToken$/", "language": "C++", "kind": "struct", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "Utils", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^namespace Utils$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anona4824c430102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^                                                                                                /", "file": true, "language": "C++", "kind": "function", "signature": "() ", "scope": "Utils::activatePlugin", "scopeKind": "function"}, {"_type": "tag", "name": "_work", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        std::function<void()> _work;$/", "language": "C++", "typeref": "typename:std::function<void ()>", "kind": "member", "scope": "Utils::Job", "scopeKind": "class"}, {"_type": "tag", "name": "activatePlugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    uint32_t activatePlugin(PluginHost::IShell *shell, const string &callsign)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell,const string & callsign)", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "getSecurityToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        static void getSecurityToken(std::string &token)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(std::string & token)", "scope": "Utils::SecurityToken", "scopeKind": "struct"}, {"_type": "tag", "name": "getServiceState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    uint32_t getServiceState(PluginHost::IShell *shell, const string &callsign, PluginHost::IShe/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell,const string & callsign,PluginHost::IShell::state & state)", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "getThunderControllerClient", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>> getThun/", "language": "C++", "typeref": "typename:std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>>", "kind": "function", "signature": "(std::string callsign=\"\")", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "isThunderSecurityConfigured", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        static bool isThunderSecurityConfigured()$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "Utils::SecurityToken", "scopeKind": "struct"}, {"_type": "tag", "name": "writeCurlResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        static size_t writeCurlResponse(void *ptr, size_t size, size_t nmemb, string stream)$/", "language": "C++", "typeref": "typename:size_t", "kind": "function", "signature": "(void * ptr,size_t size,size_t nmemb,string stream)", "scope": "Utils::SecurityToken", "scopeKind": "struct"}], "hash": "25a45819cb3674ee51850ca1fb131ed6", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/helpers/UtilsController.h", "fields": [{"name": "std::function<void ()> _work", "scope": "Utils::Job", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"9194": ""}]}