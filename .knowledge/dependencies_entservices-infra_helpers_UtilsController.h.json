{"is_source_file": true, "format": "C++Header (.h)", "description": "This header file defines utility functions and classes for security token management, Thunder plugin communication, job dispatching, and plugin/service state management within a larger software project. It includes security token retrieval, Thunder RPC client creation, asynchronous job handling, and plugin activation/status functions.", "external_files": ["<mutex>", "<curl/curl.h>", "<securityagent/SecurityTokenUtil.h>", "<string>", "WPEFramework/JSONRPC/LinkType.h", "WPEFramework/Core/JSON/IElement.h", "WPEFramework/Core/JSON/Array.h", "WPEFramework/Core/SystemInfo.h", "WPEFramework/Core/ProxyType.h", "WPEFramework/Core/IDispatch.h", "WPEFramework/Core/IDispatchType.h", "PluginHost/IShell.h"], "external_methods": ["GetSecurityToken", "curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "curl_easy_cleanup", "JsonObject::HasLabel", "JsonObject::operator[]", "JsonArray::Length", "JsonArray::operator[]", "JsonArray::String", "Core::SystemInfo::SetEnvironment", "WPEFramework::JSONRPC::LinkType::LinkType", "Core::ProxyType::Create", "Core::IDispatchType::Dispatch", "PluginHost::IShell::QueryInterfaceByCallsign", "PluginHost::IShell::State", "PluginHost::IShell::Activate", "Core::Event", "Core::IWorkerPool::Instance", "Core::ProxyType"], "published": ["Utils::SecurityToken::getSecurityToken", "Utils::getThunderControllerClient", "Utils::Job", "getServiceState", "activatePlugin"], "classes": [{"name": "Utils::SecurityToken", "description": "Provides static methods for obtaining and managing security tokens, including fetching tokens via curl and checking Thunder security configuration."}, {"name": "Utils::Job", "description": "Represents a dispatchable work unit for asynchronous execution, wrapping a std::function<void()>."}], "methods": [{"name": "Utils::SecurityToken::getSecurityToken", "description": "Retrieves the security token, possibly from cache or via security utility functions if not already obtained."}, {"name": "Utils::getThunderControllerClient", "description": "Creates and returns a Thunder RPC client connection with security token authentication."}, {"name": "Utils::Job::Dispatch", "description": "Executes the stored work function asynchronously."}, {"name": "uint32_t getServiceState(PluginHost::IShell * shell,const string & callsign,PluginHost::IShell::state & state)", "description": "Queries the state of a specified service (by callsign) through the plugin host shell.", "scope": "Utils", "scopeKind": "namespace"}, {"name": "uint32_t activatePlugin(PluginHost::IShell * shell,const string & callsign)", "description": "Activates a plugin identified by callsign via the plugin shell asynchronously.", "scope": "Utils", "scopeKind": "namespace"}, {"name": "void Dispatch()", "scope": "Utils::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "Job(std::function<void ()> work)", "scope": "Utils::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "__anona4824c430102()", "scope": "Utils::activatePlugin", "scopeKind": "function", "description": "unavailable"}, {"name": "void getSecurityToken(std::string & token)", "scope": "Utils::SecurityToken", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>> getThunderControllerClient(std::string callsign=\"\")", "scope": "Utils", "scopeKind": "namespace", "description": "unavailable"}, {"name": "bool isThunderSecurityConfigured()", "scope": "Utils::SecurityToken", "scopeKind": "struct", "description": "unavailable"}, {"name": "size_t writeCurlResponse(void * ptr,size_t size,size_t nmemb,string stream)", "scope": "Utils::SecurityToken", "scopeKind": "struct", "description": "unavailable"}], "calls": ["GetSecurityToken", "curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "curl_easy_cleanup", "JsonObject.HasLabel", "JsonObject[\"subsystems\"]", "JsonArray.Length", "JsonArray[i]", "JsonArray.String", "Core::SystemInfo::SetEnvironment", "WPEFramework::JSONRPC::LinkType::LinkType", "Core::ProxyType::Create", "Core::IDispatchType::Dispatch", "PluginHost::IShell::QueryInterfaceByCallsign", "PluginHost::IShell::State", "PluginHost::IShell::Activate", "Core::Event::SetEvent", "Core::Event::Lock"], "search-terms": ["SecurityToken", "ThunderControllerClient", "Job dispatch", "plugin state", "activate plugin", "curl", "Security subsystem", "THUNDER_ACCESS", "SecurityTokenUtil"], "state": 2, "file_id": 5649, "knowledge_revision": 11283, "git_revision": "", "ctags": [{"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        void Dispatch() override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "Utils::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        Job(std::function<void()> work)$/", "language": "C++", "kind": "function", "signature": "(std::function<void ()> work)", "scope": "Utils::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    class Job : public Core::IDispatchType<void>$/", "language": "C++", "kind": "class", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "MAX_STRING_LENGTH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^#define MAX_STRING_LENGTH /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "SERVER_DETAILS", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^#define SERVER_DETAILS /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "SecurityToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    struct SecurityToken$/", "language": "C++", "kind": "struct", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "Utils", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^namespace Utils$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anona4824c430102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^                                                                                                /", "file": true, "language": "C++", "kind": "function", "signature": "() ", "scope": "Utils::activatePlugin", "scopeKind": "function"}, {"_type": "tag", "name": "_work", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        std::function<void()> _work;$/", "language": "C++", "typeref": "typename:std::function<void ()>", "kind": "member", "scope": "Utils::Job", "scopeKind": "class"}, {"_type": "tag", "name": "activatePlugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    uint32_t activatePlugin(PluginHost::IShell *shell, const string &callsign)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell,const string & callsign)", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "getSecurityToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        static void getSecurityToken(std::string &token)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(std::string & token)", "scope": "Utils::SecurityToken", "scopeKind": "struct"}, {"_type": "tag", "name": "getServiceState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    uint32_t getServiceState(PluginHost::IShell *shell, const string &callsign, PluginHost::IShe/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell,const string & callsign,PluginHost::IShell::state & state)", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "getThunderControllerClient", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^    std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>> getThun/", "language": "C++", "typeref": "typename:std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>>", "kind": "function", "signature": "(std::string callsign=\"\")", "scope": "Utils", "scopeKind": "namespace"}, {"_type": "tag", "name": "isThunderSecurityConfigured", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        static bool isThunderSecurityConfigured()$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "Utils::SecurityToken", "scopeKind": "struct"}, {"_type": "tag", "name": "writeCurlResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/UtilsController.h", "pattern": "/^        static size_t writeCurlResponse(void *ptr, size_t size, size_t nmemb, string stream)$/", "language": "C++", "typeref": "typename:size_t", "kind": "function", "signature": "(void * ptr,size_t size,size_t nmemb,string stream)", "scope": "Utils::SecurityToken", "scopeKind": "struct"}], "hash": "25a45819cb3674ee51850ca1fb131ed6", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/helpers/UtilsController.h", "fields": [{"name": "std::function<void ()> _work", "scope": "Utils::Job", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"11283": ""}]}