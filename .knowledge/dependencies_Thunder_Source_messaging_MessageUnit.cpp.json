{"is_source_file": true, "format": "C++", "description": "This is a C++ source file implementing the MessageUnit class within the WPEFramework::Messaging namespace. It includes methods for serializing messages, updating control states, managing the lifecycle (open, close), and pushing messages to a dispatcher or directly output. It defines internal handler classes for iteration purposes and interacts with other components via included headers.", "external_files": ["MessageUnit.h", "Core::Messaging::IControl", "Core::Messaging::IStore", "Core::File", "Core::Directory", "MessageDispatcher"], "external_methods": ["Core::Messaging::IControl::Iterate", "Core::SingletonType<MessageUnit>::Instance", "Core::File::IsDirectory", "Core::Directory::Destroy", "Core::Directory::CreatePath", "Core::Directory::Permission", "Core::Messaging::IStore::Set", "Core::Messaging::MessageInfo::Serialize", "Core::Messaging::MessageInfo::Type", "Core::Messaging::IEvent::Serialize", "Core::Messaging::Metadata::Applicable", "Core::Messaging::Metadata::IsEnabled", "Core::Messaging::Metadata::Serialize", "Core::Messaging::IControl::Enable", "Core::Messaging::IControl::Metadata", "Core::Error::ERROR_OPENING_FAILED", "Core::Error::ERROR_NONE", "TRACE_L1"], "published": ["MessageUnit::Instance()", "MessageUnit::Open(string, string, bool, flush)", "MessageUnit::Open(uint32_t)", "MessageUnit::Close()", "MessageUnit::Default(const Core::Messaging::Metadata&)", "MessageUnit::Push(const Core::Messaging::MessageInfo&, const Core::Messaging::IEvent*)"], "classes": [{"name": "MessageUnit", "description": "The MessageUnit class manages message serialization, control updates, lifecycle, and message dispatching within the WPEFramework messaging system. It implements singleton pattern, controls opening/closing, and handles message pushing either directly or via dispatcher."}, {"name": "Handler", "description": "Internal handler classes defined within methods to process control iteration. They handle serialization, state updates, or destruction of controls."}], "methods": [{"name": "uint16_t Serialize(uint8_t * buffer,const uint16_t length)", "description": "Serializes controls into a buffer, handling memory boundaries and offsets.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Update()", "description": "Updates control states based on Metadata, enabling or disabling controls as necessary.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "Update (overload with Settings)", "description": "Updates control states based on stored Settings object."}, {"name": "MessageUnit & Instance()", "description": "Returns the singleton instance of MessageUnit.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "uint32_t Open(const string & pathName,const string & configuration,const bool background,const flush flushMode)", "description": "Opens and initializes the MessageUnit, setting environment variables, creating necessary directories, and starting dispatcher.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "Open (with instanceId)", "description": "Opens MessageUnit with a specific instance ID, used typically in OOP components."}, {"name": "void Close()", "description": "Closes the MessageUnit, destroying controls and dispatcher.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "bool Default(const Core::Messaging::Metadata & control) const", "description": "Checks whether a control is enabled by default according to settings.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Push(const Core::Messaging::MessageInfo & messageInfo,const Core::Messaging::IEvent * message)", "description": "Pushes a message of any type and info to the dispatcher or outputs directly based on configuration.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Handle(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "Handler(const Core::Messaging::Metadata & info,const bool enable)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "Handler(const Settings & settings)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "Handler(uint8_t * buffer,const uint16_t length)", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t Offset() const", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Open(const uint32_t instanceId)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class", "description": "unavailable"}, {"name": "void Update(const Core::Messaging::Metadata & control,const bool enable)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::Messaging::IControl::Iterate", "Core::SingletonType<MessageUnit>::Instance", "Core::File::IsDirectory", "Core::Directory::Destroy", "Core::Directory::CreatePath", "Core::Directory::Permission", "Core::Messaging::IStore::Set", "Core::Messaging::MessageInfo::Serialize", "Core::Messaging::IEvent::Serialize", "control->Metadata", "control->Enable", "control->Destroy"], "search-terms": ["MessageUnit.cpp", "Serialize", "Update", "Dispatcher", "Control", "Messaging", "Instance", "Open", "Close", "Push", "Metadata"], "state": 2, "file_id": 1425, "knowledge_revision": 3366, "git_revision": "", "ctags": [{"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        void MessageUnit::Close()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Default", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        \\/* virtual *\\/ bool MessageUnit::Default(const Core::Messaging::Metadata& control) cons/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const Core::Messaging::Metadata & control) const", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Handle", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                void Handle (Core::Messaging::IControl* control) override$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Close::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handle", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                void Handle (Core::Messaging::IControl* control) override$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handle", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                void Handle (Core::Messaging::IControl* control) override$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                Handler(const Core::Messaging::Metadata& info, const bool enable)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Core::Messaging::Metadata & info,const bool enable)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                Handler(const Settings& settings) : _settings(settings) {}$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Settings & settings)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                Handler(uint8_t* buffer, const uint16_t length)$/", "file": true, "language": "C++", "kind": "function", "signature": "(uint8_t * buffer,const uint16_t length)", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^            class Handler : public Core::Messaging::IControl::IHandler {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::MessageUnit::Close", "scopeKind": "function"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^            class Handler : public Core::Messaging::IControl::IHandler {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::MessageUnit::Serialize", "scopeKind": "function"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^            class Handler : public Core::Messaging::IControl::IHandler {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::MessageUnit::Update", "scopeKind": "function"}, {"_type": "tag", "name": "Instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        MessageUnit& MessageUnit::Instance() {$/", "language": "C++", "typeref": "typename:MessageUnit &", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Messaging", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^    namespace Messaging {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Offset", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint16_t Offset() const {$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "() const", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        uint32_t MessageUnit::Open(const string& pathName, const string& configuration, const bo/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const string & pathName,const string & configuration,const bool background,const flush flushMode)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        uint32_t MessageUnit::Open(const uint32_t instanceId)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint32_t instanceId)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Push", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        \\/* virtual *\\/ void MessageUnit::Push(const Core::Messaging::MessageInfo& messageInfo, /", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::Messaging::MessageInfo & messageInfo,const Core::Messaging::IEvent * message)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Serialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        uint16_t MessageUnit::Serialize(uint8_t* buffer, const uint16_t length)$/", "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "(uint8_t * buffer,const uint16_t length)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Update", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        void MessageUnit::Update()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Update", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        void MessageUnit::Update(const Core::Messaging::Metadata& control, const bool enable)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::Messaging::Metadata & control,const bool enable)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_buffer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint8_t* _buffer;$/", "file": true, "language": "C++", "typeref": "typename:uint8_t *", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_enable", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                const bool _enable;$/", "file": true, "language": "C++", "typeref": "typename:const bool", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_info", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                const Core::Messaging::Metadata& _info;$/", "file": true, "language": "C++", "typeref": "typename:const Core::Messaging::Metadata &", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_length", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint16_t _length;$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_offset", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint16_t _offset;$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_settings", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                const Settings& _settings;$/", "file": true, "language": "C++", "typeref": "typename:const Settings &", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}], "hash": "4045cc5adec71f57f158287a758dfbd3", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/messaging/MessageUnit.cpp", "fields": [{"name": "uint8_t * _buffer", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "const bool _enable", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "const Core::Messaging::Metadata & _info", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t _length", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t _offset", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "const Settings & _settings", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"3366": ""}]}