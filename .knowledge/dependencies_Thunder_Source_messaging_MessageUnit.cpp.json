{"is_source_file": true, "format": "C++", "description": "This file implements the MessageUnit class in the WPEFramework's Messaging namespace. It handles serialization, updating control settings, opening, closing, and pushing messages. The code defines nested handler classes used for controlling and updating messaging controls, manages a singleton instance of MessageUnit, and interacts with the file system for setup.", "external_files": ["MessageUnit.h"], "external_methods": ["Core::Messaging::IControl::Iterate", "Core::SingletonType<MessageUnit>::Instance", "Core::File::IsDirectory", "Core::Directory::Destroy", "Core::Directory::CreatePath", "Core::Directory::Permission", "Core::Messaging::IStore::Set", "Core::Messaging::IControl::Destroy"], "published": ["MessageUnit::Instance", "MessageUnit::Open", "MessageUnit::Close", "MessageUnit::Default", "MessageUnit::Push"], "classes": [{"name": "MessageUnit", "description": "Main class managing messaging controls, serialization, and message dispatching within WPEFramework."}], "methods": [{"name": "uint16_t Serialize(uint8_t * buffer,const uint16_t length)", "description": "Serializes messaging controls into a buffer.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Update()", "description": "Updates control states based on provided metadata and settings.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Update(const Core::Messaging::Metadata & control,const bool enable)", "description": "Updates control states based on internal settings.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "MessageUnit & Instance()", "description": "Returns singleton instance of MessageUnit.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "uint32_t Open(const string & pathName,const string & configuration,const bool background,const flush flushMode)", "description": "Initializes the messaging system with a specified path and configuration.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "uint32_t Open(const uint32_t instanceId)", "description": "Initializes messaging with a specific instance ID in OOP components.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Close()", "description": "Closes and cleans up messaging resources.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "bool Default(const Core::Messaging::Metadata & control) const", "description": "Checks if a given control should be enabled by default.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Push(const Core::Messaging::MessageInfo & messageInfo,const Core::Messaging::IEvent * message)", "description": "Pushes a message with its metadata and content to the messaging system.", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"name": "void Handle(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "Handler(const Core::Messaging::Metadata & info,const bool enable)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "Handler(const Settings & settings)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "Handler(uint8_t * buffer,const uint16_t length)", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t Offset() const", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::Messaging::IControl::Iterate", "Core::SingletonType<MessageUnit>::Instance", "Core::File::IsDirectory", "Core::Directory::Destroy", "Core::Directory::CreatePath", "Core::Directory::Permission", "Core::Messaging::IStore::Set", "Core::Messaging::IControl::Destroy"], "search-terms": ["MessageUnit", "MessageDispatcher", "Serialize", "Control::Handle", "Update", "Singleton", "Open", "Close", "Push", "Messaging"], "state": 2, "file_id": 2701, "knowledge_revision": 5915, "git_revision": "", "ctags": [{"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        void MessageUnit::Close()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Default", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        \\/* virtual *\\/ bool MessageUnit::Default(const Core::Messaging::Metadata& control) cons/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const Core::Messaging::Metadata & control) const", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Handle", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                void Handle (Core::Messaging::IControl* control) override$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Close::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handle", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                void Handle (Core::Messaging::IControl* control) override$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handle", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                void Handle (Core::Messaging::IControl* control) override$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Core::Messaging::IControl * control)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                Handler(const Core::Messaging::Metadata& info, const bool enable)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Core::Messaging::Metadata & info,const bool enable)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                Handler(const Settings& settings) : _settings(settings) {}$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Settings & settings)", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                Handler(uint8_t* buffer, const uint16_t length)$/", "file": true, "language": "C++", "kind": "function", "signature": "(uint8_t * buffer,const uint16_t length)", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^            class Handler : public Core::Messaging::IControl::IHandler {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::MessageUnit::Close", "scopeKind": "function"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^            class Handler : public Core::Messaging::IControl::IHandler {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::MessageUnit::Serialize", "scopeKind": "function"}, {"_type": "tag", "name": "Handler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^            class Handler : public Core::Messaging::IControl::IHandler {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Messaging::MessageUnit::Update", "scopeKind": "function"}, {"_type": "tag", "name": "Instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        MessageUnit& MessageUnit::Instance() {$/", "language": "C++", "typeref": "typename:MessageUnit &", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Messaging", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^    namespace Messaging {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Offset", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint16_t Offset() const {$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "() const", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        uint32_t MessageUnit::Open(const string& pathName, const string& configuration, const bo/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const string & pathName,const string & configuration,const bool background,const flush flushMode)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        uint32_t MessageUnit::Open(const uint32_t instanceId)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint32_t instanceId)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Push", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        \\/* virtual *\\/ void MessageUnit::Push(const Core::Messaging::MessageInfo& messageInfo, /", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::Messaging::MessageInfo & messageInfo,const Core::Messaging::IEvent * message)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Serialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        uint16_t MessageUnit::Serialize(uint8_t* buffer, const uint16_t length)$/", "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "(uint8_t * buffer,const uint16_t length)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Update", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        void MessageUnit::Update()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "Update", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^        void MessageUnit::Update(const Core::Messaging::Metadata& control, const bool enable)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Core::Messaging::Metadata & control,const bool enable)", "scope": "WPEFramework::Messaging::MessageUnit", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_buffer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint8_t* _buffer;$/", "file": true, "language": "C++", "typeref": "typename:uint8_t *", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_enable", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                const bool _enable;$/", "file": true, "language": "C++", "typeref": "typename:const bool", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_info", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                const Core::Messaging::Metadata& _info;$/", "file": true, "language": "C++", "typeref": "typename:const Core::Messaging::Metadata &", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_length", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint16_t _length;$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_offset", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                uint16_t _offset;$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class"}, {"_type": "tag", "name": "_settings", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/messaging/MessageUnit.cpp", "pattern": "/^                const Settings& _settings;$/", "file": true, "language": "C++", "typeref": "typename:const Settings &", "kind": "member", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class"}], "hash": "4045cc5adec71f57f158287a758dfbd3", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/messaging/MessageUnit.cpp", "fields": [{"name": "uint8_t * _buffer", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "const bool _enable", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "const Core::Messaging::Metadata & _info", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t _length", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "uint16_t _offset", "scope": "WPEFramework::Messaging::MessageUnit::Serialize::Handler", "scopeKind": "class", "description": "unavailable"}, {"name": "const Settings & _settings", "scope": "WPEFramework::Messaging::MessageUnit::Update::Handler", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"5915": ""}]}