{"is_source_file": true, "format": "C++ header file", "description": "This file defines the OttServicesImplementation class, which provides an implementation of the IOttServices interface, including methods for initialization, permission management, and plugin lifecycle control within the WPEFramework plugin architecture. It contains class declarations, member functions, and private data members related to OttServices plugin internal logic.", "external_files": ["core/core.h", "core/JSON.h", "plugins/IShell.h", "Module.h", "IOttServices.h", "PermissionsClient.h"], "external_methods": ["Core::JSON::Container::Add", "PluginHost::IShell*", "Core::hresult", "string", "std::vector", "std::unique_ptr"], "published": ["Initialize", "Deinitialize", "Ping", "GetPermissions", "InvalidatePermissions", "UpdatePermissionsCache"], "classes": [{"name": "OttServicesImplementation", "description": "Implementation of the IOttServices interface managing permission queries, cache, and plugin lifecycle within the WPEFramework."}], "methods": [{"name": "Initialize", "description": "Initializes the plugin with the provided service shell."}, {"name": "Deinitialize", "description": "Deinitializes the plugin."}, {"name": "Ping", "description": "Checks plugin responsiveness and returns a reply message."}, {"name": "GetPermissions", "description": "Retrieves permissions for a given app ID, either as JSON string or vector."}, {"name": "InvalidatePermissions", "description": "Invalidates cached permissions for a specified app."}, {"name": "UpdatePermissionsCache", "description": "Updates the permissions cache for a given app and returns the count of updates."}, {"name": "Config()", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct", "description": "unavailable"}], "calls": ["Core::JSON::Container::Add", "PluginHost::IShell*", "PermissionsClient", "std::atomic<uint32_t>::operator++", "std::atomic<uint32_t>::operator--"], "search-terms": ["OttServicesImplementation", "IOttServices", "PermissionsClient", "GetPermissions", "PermissionsEndpoint", "InvalodatePermissions", "UpdatePermissionsCache"], "state": 2, "file_id": 52, "knowledge_revision": 294, "git_revision": "b980f4e3e253a8299a669f5f0622cb22913a253d", "revision_history": [{"162": ""}, {"173": "0122b584310d777b8d07f9a9be695f2cb90c09dd"}, {"191": "c8e47b2a6d37c6d5c56d0ecafffe3d8cbec64b9e"}, {"257": "648fe4facac7e3617f078e1af2f5ab5734b54229"}, {"294": "b980f4e3e253a8299a669f5f0622cb22913a253d"}], "ctags": [{"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^            Config() : Core::JSON::Container(), PermissionsEndpoint(), UseTls(true) {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        struct Config : public Core::JSON::Container {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OttServicesImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^    class OttServicesImplementation : public Exchange::IOttServices {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "PermissionsEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^            Core::JSON::String PermissionsEndpoint;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "UseTls", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^            Core::JSON::Boolean UseTls;$/", "language": "C++", "typeref": "typename:Core::JSON::Boolean", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_perms", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        std::unique_ptr<PermissionsClient> _perms;$/", "language": "C++", "typeref": "typename:std::unique_ptr<PermissionsClient>", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_permsEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        std::string _permsEndpoint;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_permsUseTls", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        bool _permsUseTls;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_refCount", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        mutable std::atomic<uint32_t> _refCount {1};$/", "language": "C++", "typeref": "typename:std::atomic<uint32_t>", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        PluginHost::IShell* _service;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_state", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        string _state;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}], "hash": "40aeba31b694e86a0d5eac787416d144", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/OttServices/OttServicesImplementation.h", "fields": [{"name": "Core::JSON::String PermissionsEndpoint", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct", "description": "unavailable"}, {"name": "Core::JSON::Boolean UseTls", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::unique_ptr<PermissionsClient> _perms", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string _permsEndpoint", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "bool _permsUseTls", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::atomic<uint32_t> _refCount", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * _service", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "string _state", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}]}