{"is_source_file": true, "format": "C++ header file", "description": "This file defines the interface and implementation class for OttServices plugin within a WPEFramework-based project. It declares the OttServicesImplementation class that provides business logic, configuration, and permissions management functionalities for OTT services, including methods for initialization, configuration, ping, permission retrieval, and cache invalidation.", "external_files": ["<core/core.h>", "<core/JSON.h>", "<plugins/IShell.h>", "Module.h", "<interfaces/IOttServices.h>", "<interfaces/IConfiguration.h>", "PermissionsClient.h"], "external_methods": ["PluginHost::IShell::", "Core::JSON::Container::", "Core::hresult", "Exchange::IOttServices::", "Exchange::IConfiguration::"], "published": ["Initialize", "Deinitialize", "Configure", "Ping", "GetPermissions", "InvalidatePermissions", "UpdatePermissionsCache"], "classes": [{"name": "OttServicesImplementation", "description": "Implements the IOttServices and IConfiguration interfaces for managing OTT services, permissions, and configuration within the plugin framework."}], "methods": [{"name": "OttServicesImplementation", "description": "Constructor for OttServicesImplementation class."}, {"name": "~OttServicesImplementation", "description": "Destructor for OttServicesImplementation class."}, {"name": "Initialize", "description": "Initializes the plugin with the provided service shell."}, {"name": "Deinitialize", "description": "Cleans up resources when the plugin is no longer needed."}, {"name": "Configure", "description": "Configures the plugin using the provided shell."}, {"name": "Ping", "description": "Checks connectivity or responsiveness, returning a reply message."}, {"name": "GetPermissions", "description": "Retrieves permissions for a specified app ID as JSON."}, {"name": "GetPermissions", "description": "Retrieves permissions for a specified app ID as a vector of strings."}, {"name": "InvalidatePermissions", "description": "Invalidates cached permissions for a given app ID."}, {"name": "UpdatePermissionsCache", "description": "Updates the permissions cache for a specific app ID, returning the count of updated entries."}, {"name": "CollectAuthMetadata", "description": "Collects authorization metadata such as bearer token, device ID, account ID, and partner ID."}, {"name": "Config()", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct", "description": "unavailable"}], "calls": ["PluginHost::IShell::", "Core::JSON::Container::Add", "PermissionsClient::", "Core::JSON::Boolean", "Core::JSON::String"], "search-terms": ["OttServicesImplementation", "PermissionsClient", "IOttServices", "IConfiguration", "permissionsEndpoint", "UseTls", "CollectAuthMetadata", "InvalidePermissions", "UpdatePermissionsCache"], "state": 2, "file_id": 52, "knowledge_revision": 432, "git_revision": "ee01dfa922d65deb1655acc4f9ef7a881f6c3e05", "revision_history": [{"162": ""}, {"173": "0122b584310d777b8d07f9a9be695f2cb90c09dd"}, {"191": "c8e47b2a6d37c6d5c56d0ecafffe3d8cbec64b9e"}, {"257": "648fe4facac7e3617f078e1af2f5ab5734b54229"}, {"294": "b980f4e3e253a8299a669f5f0622cb22913a253d"}, {"327": "e3dea931296a543a65493075a65aaa817cbdc9a1"}, {"397": "a7a470609e5ec86bfb827285d49e4d69ba63ed5b"}, {"412": "ee01dfa922d65deb1655acc4f9ef7a881f6c3e05"}, {"432": "ee01dfa922d65deb1655acc4f9ef7a881f6c3e05"}], "ctags": [{"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^            Config() : Core::JSON::Container(), PermissionsEndpoint(), UseTls(true) {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct"}, {"_type": "tag", "name": "Config", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        struct Config : public Core::JSON::Container {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OttServicesImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^    class OttServicesImplementation : public Exchange::IOttServices, public Exchange::IConfigura/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "PermissionsEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^            Core::JSON::String PermissionsEndpoint;$/", "language": "C++", "typeref": "typename:Core::JSON::String", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "UseTls", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^            Core::JSON::Boolean UseTls;$/", "language": "C++", "typeref": "typename:Core::JSON::Boolean", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_perms", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        std::unique_ptr<PermissionsClient> _perms;$/", "language": "C++", "typeref": "typename:std::unique_ptr<PermissionsClient>", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_permsEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        std::string _permsEndpoint;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_permsUseTls", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        bool _permsUseTls;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        PluginHost::IShell* _service;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_state", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/OttServices/OttServicesImplementation.h", "pattern": "/^        string _state;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class"}], "hash": "cc0226fb70926790aed9bff61b2d3f55", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/OttServices/OttServicesImplementation.h", "fields": [{"name": "Core::JSON::String PermissionsEndpoint", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct", "description": "unavailable"}, {"name": "Core::JSON::Boolean UseTls", "scope": "WPEFramework::Plugin::OttServicesImplementation::Config", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::unique_ptr<PermissionsClient> _perms", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string _permsEndpoint", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "bool _permsUseTls", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * _service", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "string _state", "scope": "WPEFramework::Plugin::OttServicesImplementation", "scopeKind": "class", "description": "unavailable"}]}