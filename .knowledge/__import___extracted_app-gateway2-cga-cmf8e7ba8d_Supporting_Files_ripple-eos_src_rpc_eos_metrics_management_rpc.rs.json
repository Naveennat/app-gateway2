{"is_source_file": true, "format": "Rust", "description": "This source file implements a metrics management RPC service, including data structures for metrics context, validation logic, and RPC method implementations for adding and removing context related to metrics management, integrated with a distributor state.", "external_files": ["jsonrpsee::{core::RpcResult, proc_macros::rpc}", "serde::{Deserialize, Deserializer, Serialize}", "thunder_ripple_sdk::ripple_sdk::{api::gateway::rpc_gateway_api::CallContext, async_trait::async_trait}"], "external_methods": ["serde_json::to_value", "serde::de::Error::custom"], "published": ["MetricsManagement"], "classes": [{"name": "MetricsManagementImpl", "description": "Implementation of the MetricsManagement RPC server that manages metrics context in the distributor state."}], "methods": [{"name": "add_context( &self, _ctx: CallContext, context_params: MetricsContextParams, ) -> RpcResult<()>", "description": "Adds a metrics context, updating the session ID if present.", "scope": "MetricsManagementImpl", "scopeKind": "implementation"}, {"name": "remove_context( &self, _ctx: CallContext, request: MetricsContextKeys, ) -> RpcResult<()>", "description": "Removes a metrics context based on provided keys, specifically handling device session ID.", "scope": "MetricsManagementImpl", "scopeKind": "implementation"}, {"name": "new(state: &DistributorState) -> Self", "description": "Creates a new instance of MetricsManagementImpl with the provided distributor state.", "scope": "MetricsManagementImpl", "scopeKind": "implementation"}, {"name": "add_context( &self, ctx: CallContext, context_params: MetricsContextParams, ) -> RpcResult<()>", "scope": "MetricsManagement", "scopeKind": "interface", "description": "unavailable"}, {"name": "is_valid_key(&self, key: &str) -> bool", "scope": "MetricsContext", "scopeKind": "implementation", "description": "unavailable"}, {"name": "remove_context(&self, ctx: CallContext, request: MetricsContextKeys) -> RpcResult<()>", "scope": "MetricsManagement", "scopeKind": "interface", "description": "unavailable"}, {"name": "validate_metrics_context_keys<'de, D>(deserializer: D) -> Result<Vec<String>, D::Error> where D: Deserializer<'de>,", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["MetricsManagementServer::add_context", "MetricsManagementServer::remove_context"], "search-terms": ["rpc metrics management", "MetricsContext", "MetricsManagement", "DistributorState", "device_session_id"], "state": 2, "file_id": 1799, "knowledge_revision": 4389, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "MetricsContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^impl MetricsContext {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "MetricsContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^pub struct MetricsContext {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "MetricsContextKeys", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^pub struct MetricsContextKeys {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "MetricsContextParams", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^pub struct MetricsContextParams {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "MetricsManagement", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^pub trait MetricsManagement {$/", "language": "Rust", "kind": "interface"}, {"_type": "tag", "name": "MetricsManagementImpl", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^impl MetricsManagementImpl {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "MetricsManagementImpl", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^impl MetricsManagementServer for MetricsManagementImpl {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "MetricsManagementImpl", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^pub struct MetricsManagementImpl {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "add_context", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    async fn add_context($/", "language": "Rust", "kind": "method", "signature": "( &self, _ctx: CallContext, context_params: MetricsContextParams, ) -> RpcResult<()>", "scope": "MetricsManagementImpl", "scopeKind": "implementation"}, {"_type": "tag", "name": "add_context", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    async fn add_context($/", "language": "Rust", "kind": "method", "signature": "( &self, ctx: CallContext, context_params: MetricsContextParams, ) -> RpcResult<()>", "scope": "MetricsManagement", "scopeKind": "interface"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    context: MetricsContext,$/", "language": "Rust", "kind": "field", "scope": "MetricsContextParams", "scopeKind": "struct"}, {"_type": "tag", "name": "device_session_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    pub device_session_id: Option<String>,$/", "language": "Rust", "kind": "field", "scope": "MetricsContext", "scopeKind": "struct"}, {"_type": "tag", "name": "is_valid_key", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    fn is_valid_key(&self, key: &str) -> bool {$/", "language": "Rust", "kind": "method", "signature": "(&self, key: &str) -> bool", "scope": "MetricsContext", "scopeKind": "implementation"}, {"_type": "tag", "name": "keys", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    pub keys: Vec<String>,$/", "language": "Rust", "kind": "field", "scope": "MetricsContextKeys", "scopeKind": "struct"}, {"_type": "tag", "name": "new", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    pub fn new(state: &DistributorState) -> Self {$/", "language": "Rust", "kind": "method", "signature": "(state: &DistributorState) -> Self", "scope": "MetricsManagementImpl", "scopeKind": "implementation"}, {"_type": "tag", "name": "remove_context", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    async fn remove_context($/", "language": "Rust", "kind": "method", "signature": "( &self, _ctx: CallContext, request: MetricsContextKeys, ) -> RpcResult<()>", "scope": "MetricsManagementImpl", "scopeKind": "implementation"}, {"_type": "tag", "name": "remove_context", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    async fn remove_context(&self, ctx: CallContext, request: MetricsContextKeys) -> RpcResult<(/", "language": "Rust", "kind": "method", "signature": "(&self, ctx: CallContext, request: MetricsContextKeys) -> RpcResult<()>", "scope": "MetricsManagement", "scopeKind": "interface"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^    pub state: DistributorState,$/", "language": "Rust", "kind": "field", "scope": "MetricsManagementImpl", "scopeKind": "struct"}, {"_type": "tag", "name": "validate_metrics_context_keys", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "pattern": "/^fn validate_metrics_context_keys<'de, D>(deserializer: D) -> Result<Vec<String>, D::Error>$/", "language": "Rust", "kind": "function", "signature": "<'de, D>(deserializer: D) -> Result<Vec<String>, D::Error> where D: Deserializer<'de>,"}], "hash": "d0f33bed488f0e41bbd788e8b484343b", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/rpc/eos_metrics_management_rpc.rs", "fields": [{"name": "pub trait MetricsManagement {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "context: MetricsContext,", "scope": "MetricsContextParams", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub device_session_id: Option<String>,", "scope": "MetricsContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub keys: Vec<String>,", "scope": "MetricsContextKeys", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub state: DistributorState,", "scope": "MetricsManagementImpl", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"4389": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}