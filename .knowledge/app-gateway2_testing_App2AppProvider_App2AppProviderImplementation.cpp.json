{"is_source_file": true, "format": "C++", "description": "This source file implements several components related to JSON-RPC communication, provider registry management, correlation ID handling, and a gateway client for app-to-app communication within a plugin-based framework, likely for device or application management.", "external_files": ["App2AppProviderImplementation.h", "UtilsLogging.h"], "external_methods": ["PluginHost::IShell::QueryInterfaceByCallsign", "PluginHost::ILocalDispatcher::Invoke", "PluginHost::IDispatcher::Invoke", "Core::JSONRPC::Message::DefaultVersion", "Core::JSON::DecUInt32", "LOGERR", "LOGWARN", "LOGINFO", "Time::Now", "Time::Now().Ticks()"], "published": ["App2App::ProviderRegistry", "App2App::CorrelationMap", "App2App::GatewayClient", "App2App::ProviderContext", "App2App::ConsumerContext", "App2App::Response", "App2App::Request"], "classes": [{"name": "JSONRPCDirectLink", "description": "A class facilitating JSON-RPC message construction, sending, and response handling for remote procedure calls via a dispatcher.", "methods": [{"name": "Invoke", "description": "Performs a JSON-RPC invocation with given parameters and handles response, supporting different Thunder framework versions."}]}, {"name": "ProviderRegistry", "description": "Manages registration and resolution of providers based on capabilities.", "methods": [{"name": "Register", "description": "Registers a provider capability with its context."}, {"name": "Unregister", "description": "Unregisters a provider capability if owned by specified app ID."}, {"name": "Resolve", "description": "Resolves a provider capability to its context."}]}, {"name": "CorrelationMap", "description": "Manages correlation IDs for tracking pending consumer requests.", "methods": [{"name": "Create", "description": "Creates and stores a new correlation ID for a consumer context."}, {"name": "Take", "description": "Retrieves and removes a consumer context associated with a correlation ID."}, {"name": "Peek", "description": "Retrieves without removing a consumer context by correlation ID."}]}, {"name": "GatewayClient", "description": "A client class responsible for sending responses from the gateway to consumer apps, utilizing JSON-RPC.", "methods": [{"name": "UpdateToken", "description": "Updates the security token used for communication."}, {"name": "Respond", "description": "Sends a response message back to a consumer application via JSON-RPC."}]}], "methods": [{"name": "Core::ProxyType<Core::JSONRPC::Message> Message() const", "description": "Constructs and returns a JSONRPC message object.", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"name": "bool ToMessage(Core::JSON::IElement * parameters,Core::ProxyType<Core::JSONRPC::Message> & message) const", "description": "Converts parameters into a JSON message format.", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"name": "bool FromMessage(Core::JSON::IElement * response,const Core::ProxyType<Core::JSONRPC::Message> & message,bool isResponseString=false) const", "description": "Parses a JSON message into a response object.", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"name": "CorrelationMap()", "scope": "App2App::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string Create(const ConsumerContext & ctx)", "scope": "App2App::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "bool FromMessage(RESPONSE & response,const Core::ProxyType<Core::JSONRPC::Message> & message,bool isResponseString=false) const", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "GatewayClient(PluginHost::IShell * service,const std::string & gatewayCallsign,const std::string & token)", "scope": "App2App::GatewayClient", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string GenerateCorrelationId() const", "scope": "App2App::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Invoke(const uint32_t waitTime,const std::string & token,const string & method,const PARAMETERS & parameters,RESPONSE & response,bool isResponseString=false)", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "JSONRPCDirectLink(PluginHost::IShell * service)", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "JSONRPCDirectLink(PluginHost::IShell * service,const std::string & callsign)", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool Peek(const std::string & correlationId,ConsumerContext & out) const", "scope": "App2App::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "ProviderRegistry()", "scope": "App2App::ProviderRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Register(const std::string & capability,const ProviderContext & ctx)", "scope": "App2App::ProviderRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Resolve(const std::string & capability,ProviderContext & out) const", "scope": "App2App::ProviderRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Respond(const ConsumerContext & ctx,const Core::JSON::JsonObject & payload)", "scope": "App2App::GatewayClient", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Take(const std::string & correlationId,ConsumerContext & out)", "scope": "App2App::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "bool ToMessage(PARAMETERS & parameters,Core::ProxyType<Core::JSONRPC::Message> & message) const", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool Unregister(const std::string & capability,const std::string & appId)", "scope": "App2App::ProviderRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "void UpdateToken(const std::string & token)", "scope": "App2App::GatewayClient", "scopeKind": "class", "description": "unavailable"}, {"name": "~CorrelationMap()", "scope": "App2App::CorrelationMap", "scopeKind": "class", "description": "unavailable"}, {"name": "~GatewayClient()", "scope": "App2App::GatewayClient", "scopeKind": "class", "description": "unavailable"}, {"name": "~JSONRPCDirectLink()", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "~ProviderRegistry()", "scope": "App2App::ProviderRegistry", "scopeKind": "class", "description": "unavailable"}], "calls": ["PluginHost::IShell::QueryInterfaceByCallsign", "PluginHost::ILocalDispatcher::Invoke", "PluginHost::IDispatcher::Invoke", "Core::JSONRPC::Message::DefaultVersion", "Core::JSON::DecUInt32", "LOGERR", "LOGWARN", "LOGINFO", "Time::Now", "Time::Now().Ticks()"], "search-terms": ["JSONRPCDirectLink", "ProviderRegistry", "CorrelationMap", "GatewayClient", "App2App", "Response", "Request"], "state": 2, "file_id": 377, "knowledge_revision": 756, "git_revision": "93de3ebb5592146b46b0acbe2225f4567d32bfdf", "revision_history": [{"747": "93de3ebb5592146b46b0acbe2225f4567d32bfdf"}, {"756": "93de3ebb5592146b46b0acbe2225f4567d32bfdf"}], "ctags": [{"_type": "tag", "name": "App2App", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^namespace App2App {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "CorrelationMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^CorrelationMap::CorrelationMap() : _lock(), _pending() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "App2App::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^std::string CorrelationMap::Create(const ConsumerContext& ctx) {$/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const ConsumerContext & ctx)", "scope": "App2App::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "FromMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    bool FromMessage(Core::JSON::IElement* response, const Core::ProxyType<Core::JSONRPC::Messag/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(Core::JSON::IElement * response,const Core::ProxyType<Core::JSONRPC::Message> & message,bool isResponseString=false) const", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "FromMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    bool FromMessage(RESPONSE& response, const Core::ProxyType<Core::JSONRPC::Message>& message,/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(RESPONSE & response,const Core::ProxyType<Core::JSONRPC::Message> & message,bool isResponseString=false) const", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "GatewayClient", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^GatewayClient::GatewayClient(PluginHost::IShell* service, const std::string& gatewayCallsign, co/", "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * service,const std::string & gatewayCallsign,const std::string & token)", "scope": "App2App::GatewayClient", "scopeKind": "class"}, {"_type": "tag", "name": "GenerateCorrelationId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^std::string CorrelationMap::GenerateCorrelationId() const {$/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "() const", "scope": "App2App::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    uint32_t Invoke(const uint32_t waitTime, const std::string& token, const string& method, con/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const uint32_t waitTime,const std::string & token,const string & method,const PARAMETERS & parameters,RESPONSE & response,bool isResponseString=false)", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "JSONRPCDirectLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    JSONRPCDirectLink(PluginHost::IShell* service)$/", "file": true, "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "JSONRPCDirectLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    JSONRPCDirectLink(PluginHost::IShell* service, const std::string& callsign)$/", "file": true, "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * service,const std::string & callsign)", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "JSONRPCDirectLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^struct JSONRPCDirectLink {$/", "file": true, "language": "C++", "kind": "struct", "scope": "__anon0be7c8cb0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "Message", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    Core::ProxyType<Core::JSONRPC::Message> Message() const {$/", "file": true, "language": "C++", "typeref": "typename:Core::ProxyType<Core::JSONRPC::Message>", "kind": "function", "signature": "() const", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "Peek", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^bool CorrelationMap::Peek(const std::string& correlationId, ConsumerContext& out) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & correlationId,ConsumerContext & out) const", "scope": "App2App::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "ProviderRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^ProviderRegistry::ProviderRegistry() : _lock(), _byCapability() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "App2App::ProviderRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^bool ProviderRegistry::Register(const std::string& capability, const ProviderContext& ctx) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & capability,const ProviderContext & ctx)", "scope": "App2App::ProviderRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "Resolve", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^bool ProviderRegistry::Resolve(const std::string& capability, ProviderContext& out) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & capability,ProviderContext & out) const", "scope": "App2App::ProviderRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "Respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^uint32_t GatewayClient::Respond(const ConsumerContext& ctx, const Core::JSON::JsonObject& payloa/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ConsumerContext & ctx,const Core::JSON::JsonObject & payload)", "scope": "App2App::GatewayClient", "scopeKind": "class"}, {"_type": "tag", "name": "Take", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^bool CorrelationMap::Take(const std::string& correlationId, ConsumerContext& out) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & correlationId,ConsumerContext & out)", "scope": "App2App::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "ToMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    bool ToMessage(Core::JSON::IElement* parameters, Core::ProxyType<Core::JSONRPC::Message>& me/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(Core::JSON::IElement * parameters,Core::ProxyType<Core::JSONRPC::Message> & message) const", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "ToMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    bool ToMessage(PARAMETERS& parameters, Core::ProxyType<Core::JSONRPC::Message>& message) con/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PARAMETERS & parameters,Core::ProxyType<Core::JSONRPC::Message> & message) const", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^bool ProviderRegistry::Unregister(const std::string& capability, const std::string& appId) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & capability,const std::string & appId)", "scope": "App2App::ProviderRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "UpdateToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^void GatewayClient::UpdateToken(const std::string& token) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & token)", "scope": "App2App::GatewayClient", "scopeKind": "class"}, {"_type": "tag", "name": "__anon0be7c8cb0111", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_callsign", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    std::string _callsign;$/", "file": true, "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "_dispatcher", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    PluginHost::IDispatcher* _dispatcher {nullptr};$/", "file": true, "language": "C++", "typeref": "typename:PluginHost::IDispatcher *", "kind": "member", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "_dispatcher", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    PluginHost::ILocalDispatcher* _dispatcher {nullptr};$/", "file": true, "language": "C++", "typeref": "typename:PluginHost::ILocalDispatcher *", "kind": "member", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    uint32_t _id {0};$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "~CorrelationMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^CorrelationMap::~CorrelationMap() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "App2App::CorrelationMap", "scopeKind": "class"}, {"_type": "tag", "name": "~GatewayClient", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^GatewayClient::~GatewayClient() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "App2App::GatewayClient", "scopeKind": "class"}, {"_type": "tag", "name": "~JSONRPCDirectLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^    ~JSONRPCDirectLink() {$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct"}, {"_type": "tag", "name": "~ProviderRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "pattern": "/^ProviderRegistry::~ProviderRegistry() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "App2App::ProviderRegistry", "scopeKind": "class"}], "hash": "b277ff849449d01c78bda2d72e53dc85", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway2_testing/App2AppProvider/App2AppProviderImplementation.cpp", "fields": [{"name": "std::string _callsign", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "PluginHost::IDispatcher * _dispatcher", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "PluginHost::ILocalDispatcher * _dispatcher", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t _id", "scope": "__anon0be7c8cb0111::JSONRPCDirectLink", "scopeKind": "struct", "description": "unavailable"}]}