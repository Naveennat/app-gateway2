{"is_source_file": true, "format": "C++", "description": "This file implements the DownloadManager class, which manages download tasks including starting, pausing, resuming, cancelling, and deleting downloads. It handles download queues, threading, retries, and status notification in a plugin system.", "external_files": ["DownloadManagerImplementation.h"], "external_methods": ["DownloadManagerHttpClient::downloadFile", "DownloadManagerHttpClient::pause", "DownloadManagerHttpClient::resume", "DownloadManagerHttpClient::cancel", "DownloadManagerHttpClient::getProgress", "DownloadManagerHttpClient::setRateLimit", "DownloadManagerHttpClient::getStatusCode"], "published": ["DownloadManagerImplementation::Register", "DownloadManagerImplementation::Unregister", "DownloadManagerImplementation::Download", "DownloadManagerImplementation::Pause", "DownloadManagerImplementation::Resume", "DownloadManagerImplementation::Cancel", "DownloadManagerImplementation::Delete", "DownloadManagerImplementation::Progress", "DownloadManagerImplementation::GetStorageDetails", "DownloadManagerImplementation::RateLimit"], "classes": [{"name": "DownloadManagerImplementation", "description": "Main class managing download operations including queuing, thread execution, and notifications."}, {"name": "DownloadInfo", "description": "Struct or class encapsulating download job details such as URL, ID, retries, priority, etc."}], "methods": [{"name": "void downloaderRoutine(int waitTime)", "description": "Thread routine that processes download queue, manages retries, and invokes HTTP client downloads.", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"name": "void notifyDownloadStatus(const string & id,const string & locator,const DownloadReason reason)", "description": "Notifies registered observers about download status changes.", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"name": "DownloadManagerImplementation::DownloadInfoPtr pickDownloadJob(void)", "description": "Selects the next download request from priority or regular queue.", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Cancel(const string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Deinitialize(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Delete(const string & fileLocator)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Download(const string & url,const Exchange::IDownloadManager::Options & options,string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "DownloadManagerImplementation()", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetStorageDetails(uint32_t & quotaKB,uint32_t & usedKB)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Initialize(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Pause(const string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Progress(const string & downloadId,uint8_t & percent)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult RateLimit(const string & downloadId,const uint32_t & limit)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Register(Exchange::IDownloadManager::INotification * notification)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Resume(const string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Unregister(Exchange::IDownloadManager::INotification * notification)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~DownloadManagerImplementation()", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["LOGINFO", "LOGERR", "LOGWARN", "LOGDBG", "mHttpClient->downloadFile", "mHttpClient->pause", "mHttpClient->resume", "mHttpClient->cancel", "mHttpClient->getProgress", "mHttpClient->setRateLimit"], "search-terms": ["DownloadManager", "DownloadHttpClient", "DownloadQueue", "ThreadedDownload", "DownloadNotification", "RetryLogic"], "state": 2, "file_id": 5024, "knowledge_revision": 9972, "git_revision": "", "ctags": [{"_type": "tag", "name": "Cancel", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Cancel(const string &downloadId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DOWNLOADER_DEFAULT_PATH_LOCATION", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^#define DOWNLOADER_DEFAULT_PATH_LOCATION /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DOWNLOADER_DOWNLOAD_ID_START", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^#define DOWNLOADER_DOWNLOAD_ID_START /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Deinitialize(PluginHost::IShell* service)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Delete", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Delete(const string &fileLocator)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & fileLocator)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Download", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Download(const string& url,$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & url,const Exchange::IDownloadManager::Options & options,string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DownloadManagerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    DownloadManagerImplementation::DownloadManagerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetStorageDetails", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::GetStorageDetails(uint32_t &quotaKB, uint32_t &/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(uint32_t & quotaKB,uint32_t & usedKB)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Initialize(PluginHost::IShell* service)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Pause", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Pause(const string &downloadId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Progress", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Progress(const string &downloadId, uint8_t &per/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & downloadId,uint8_t & percent)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "RateLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::RateLimit(const string &downloadId, const uint3/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & downloadId,const uint32_t & limit)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Register(Exchange::IDownloadManager::INotificat/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IDownloadManager::INotification * notification)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Resume", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Resume(const string &downloadId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & downloadId)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    Core::hresult DownloadManagerImplementation::Unregister(Exchange::IDownloadManager::INotific/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IDownloadManager::INotification * notification)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "downloaderRoutine", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    void DownloadManagerImplementation::downloaderRoutine(int waitTime)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(int waitTime)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "notifyDownloadStatus", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    void DownloadManagerImplementation::notifyDownloadStatus(const string& id, const string& loc/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & id,const string & locator,const DownloadReason reason)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "pickDownloadJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    DownloadManagerImplementation::DownloadInfoPtr DownloadManagerImplementation::pickDownloadJo/", "language": "C++", "typeref": "typename:DownloadManagerImplementation::DownloadInfoPtr", "kind": "function", "signature": "(void)", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~DownloadManagerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "pattern": "/^    DownloadManagerImplementation::~DownloadManagerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DownloadManagerImplementation", "scopeKind": "class"}], "hash": "df1c422a4176898bc25ecb5d8433e224", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/DownloadManager/DownloadManagerImplementation.cpp", "revision_history": [{"9972": ""}]}