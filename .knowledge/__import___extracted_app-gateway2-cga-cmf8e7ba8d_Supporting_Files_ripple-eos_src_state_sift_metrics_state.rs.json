{"is_source_file": true, "format": "Rust", "description": "This file defines the `SiftMetricsState` struct and associated methods for managing metrics and device session information in a Rust-based application. It includes functions to initialize state, retrieve persistent data, update metrics context, handle app sessions, and send metrics data. The code interacts with external modules for device info, storage, logging, and network communication, indicating it is part of a larger metrics and analytics subsystem for a device management platform.", "external_files": ["crate::model::metrics", "crate::rpc::eos_device_rpc", "env_file_reader", "log", "ripple_sdk::service::service_client", "thunder_ripple_sdk::ripple_sdk::api::gateway::rpc_gateway_api", "thunder_ripple_sdk::ripple_sdk::api::ripple_cache", "thunder_ripple_sdk::ripple_sdk::api::storage_manager", "thunder_ripple_sdk::ripple_sdk::utils::serde_utils", "thunder_ripple_sdk::ripple_sdk::api::gateway::rpc_gateway_api", "thunder_ripple_sdk::ripple_sdk::api::ripple_cache", "thunder_ripple_sdk::ripple_sdk::api::storage_manager", "thunder_ripple_sdk::ripple_sdk::utils::serde_utils", "thunder_ripple_sdk::ripple_sdk", "thunder_ripple_sdk::processors::thunder_device_info", "thunder_ripple_sdk::ripple_sdk::api::firebolt::fb_lifecycle_management", "thunder_ripple_sdk::ripple_sdk::api::apps", "thunder_ripple_sdk::thunder_state", "rand", "tokio::sync::mpsc", "uuid"], "external_methods": ["crate::model::metrics::AppDataGovernanceState", "crate::model::metrics::BehavioralMetricContext", "crate::model::metrics::BehavioralMetricPayload", "crate::model::metrics::MetricsContext", "crate::rpc::eos_device_rpc::get_mac", "read_file", "log::trace", "log::debug", "log::error", "log::info", "log::warn", "ServiceClient", "RpcRequest::get_new_internal", "RippleCache::get", "StorageManager::get_string_from_namespace", "StorageManager::get_bool_from_namespace", "SerdeClearString::as_clear_string", "ThunderDeviceInfoRequestProcessor::get_serial_number", "ThunderDeviceInfoRequestProcessor::model_info", "ThunderDeviceInfoRequestProcessor::get_firmware_version", "StorageManager::get_string", "StorageManager::get_string_from_namespace", "StorageManager::get_bool_from_namespace", "rand::thread_rng", "rand::Rng::gen_range", "tokio::sync::mpsc::channel", "tokio::sync::mpsc::Sender::try_send", "tokio::sync::mpsc::Receiver", "get_mac", "async fn initialize", "async fn get_persistent_store_string", "async fn get_persistent_store_bool", "async fn update_app_context", "send_metric"], "published": ["SiftMetricsState", "send_metric", "update_app_context"], "classes": [{"name": "DeviceSessionIdentifier", "description": "Represents a unique identifier for a device session, wrapping a UUID."}, {"name": "SiftAppSession", "description": "Holds session information for an app, including session IDs and metrics version."}, {"name": "SiftMetricsState", "description": "Main class managing metrics state, including device info, app sessions, and methods to initialize and update metrics."}], "methods": [{"name": "ripple_version_from_etc() -> Option<String>", "description": "Reads the ripple version from a specific file, with environment variable overrides.", "scope": "", "scopeKind": ""}, {"name": "os_version_from_etc() -> Option<String>", "description": "Reads the OS version from a specific file, with environment variable overrides.", "scope": "", "scopeKind": ""}, {"name": "SiftMetricsState::new", "description": "Constructs a new `SiftMetricsState` instance with provided configuration and state."}, {"name": "check_send(&self)", "description": "Attempts to send a metrics event if the channel has capacity.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "get_app_session(&self, app_id: &str) -> Option<SiftAppSession>", "description": "Retrieves an app session by app ID.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "get_context(&self) -> MetricsContext", "description": "Returns the current metrics context.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "get_option_string(s: String) -> Option<String>", "description": "Helper to convert a String to Option<String> if not empty.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "update_data_governance_tags( &self, platform_state: &DistributorState, cache: &RippleCache, )", "description": "Updates data governance tags based on privacy settings and configuration.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "initialize(state: &mut DistributorState)", "description": "Asynchronously initializes metrics, collecting device info and persistent storage data.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "update_account_session(state: &DistributorState)", "description": "Updates the metrics context with current account session info.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "update_session_id(&self, value: Option<String>)", "description": "Updates the device session ID in the metrics context.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "set_app_session(&self, session: CompletedSessionResponse)", "description": "Stores app session info.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "set_app_metrics_version(&self, app_id: &str, version: String) -> Result<(), AppError>", "description": "Sets the app metrics version for a given app ID.", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"name": "default() -> Self", "scope": "DeviceSessionIdentifier", "scopeKind": "implementation", "description": "unavailable"}, {"name": "from(device_session_identifier: DeviceSessionIdentifier) -> Self", "scope": "String", "scopeKind": "implementation", "description": "unavailable"}, {"name": "from(uuid_str: String) -> Self", "scope": "DeviceSessionIdentifier", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_persistent_store_bool( state: &DistributorState, key: &'static str, ) -> Option<bool>", "scope": "SiftMetricsState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_persistent_store_string( state: &DistributorState, key: &'static str, ) -> Option<String>", "scope": "SiftMetricsState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_receiver(&self) -> Result<mpsc::Receiver<i64>, RippleError>", "scope": "SiftMetricsState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "new( config: AppsanityConfig, thunder: ThunderState, service_client: Option<ServiceClient>, ) -> Self", "scope": "SiftMetricsState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "send_metric( platform_state: &DistributorState, mut payload: BehavioralMetricPayload, ctx: &CallContext, ) -> RippleResponse", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unset(s: &str) -> String", "scope": "SiftMetricsState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "update_app_context( ps: &DistributorState, ctx: &CallContext, payload: &mut impl IUpdateContext, ) -> bool", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "update_tags( data_governance_config: &DataGovernanceConfig, data: Option<bool>, tags: &mut Vec<String>, data_event_type: DataEventType, storage_property: StorageProperty, )", "scope": "SiftMetricsState::update_data_governance_tags", "scopeKind": "method", "description": "unavailable"}], "calls": ["read_file", "get_mac", "ThunderDeviceInfoRequestProcessor::get_serial_number", "ThunderDeviceInfoRequestProcessor::model_info", "ThunderDeviceInfoRequestProcessor::get_firmware_version", "StorageManager::get_string", "StorageManager::get_string_from_namespace", "StorageManager::get_bool_from_namespace", "rand::thread_rng", "rand::Rng::gen_range", "mpsc::channel", "mpsc::Sender::try_send", "thunder_state.get_client().request", "trace!", "warn!", "info!", "error!"], "search-terms": ["SiftMetricsState", "device_session_id", "app_session", "persistent_store", "metrics_context", "update_account_session", "device_info", "device-manifest", "data_governance", "app_sessions", "ripple_version", "metrics_logging_percentage"], "state": 2, "file_id": 1792, "knowledge_revision": 4382, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "DEVICE_OS_VER_FILE_DEFAULT", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    static DEVICE_OS_VER_FILE_DEFAULT: &str = \"\\/etc\\/skyversion.txt\";$/", "language": "Rust", "kind": "variable", "scope": "os_version_from_etc", "scopeKind": "function"}, {"_type": "tag", "name": "DEVICE_OS_VER_VAR_NAME_DEFAULT", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    static DEVICE_OS_VER_VAR_NAME_DEFAULT: &str = \"SKY_VERSION\";$/", "language": "Rust", "kind": "variable", "scope": "os_version_from_etc", "scopeKind": "function"}, {"_type": "tag", "name": "DeviceSessionIdentifier", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^impl Default for DeviceSessionIdentifier {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DeviceSessionIdentifier", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^impl From<String> for DeviceSessionIdentifier {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DeviceSessionIdentifier", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^pub struct DeviceSessionIdentifier {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "RIPPLE_VER_FILE_DEFAULT", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    static RIPPLE_VER_FILE_DEFAULT: &str = \"\\/etc\\/rippleversion.txt\";$/", "language": "Rust", "kind": "variable", "scope": "ripple_version_from_etc", "scopeKind": "function"}, {"_type": "tag", "name": "RIPPLE_VER_VAR_NAME_DEFAULT", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    static RIPPLE_VER_VAR_NAME_DEFAULT: &str = \"RIPPLE_VER\";$/", "language": "Rust", "kind": "variable", "scope": "ripple_version_from_etc", "scopeKind": "function"}, {"_type": "tag", "name": "SiftAppSession", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^pub struct SiftAppSession {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "SiftMetricsState", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^impl SiftMetricsState {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "SiftMetricsState", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^pub struct SiftMetricsState {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "String", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^impl From<DeviceSessionIdentifier> for String {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "app_metrics_version", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub app_metrics_version: Option<String>,$/", "language": "Rust", "kind": "field", "scope": "SiftAppSession", "scopeKind": "struct"}, {"_type": "tag", "name": "app_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub app_session: Arc<RwLock<HashMap<String, SiftAppSession>>>,$/", "language": "Rust", "kind": "field", "scope": "SiftMetricsState", "scopeKind": "struct"}, {"_type": "tag", "name": "app_session_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub app_session_id: String,$/", "language": "Rust", "kind": "field", "scope": "SiftAppSession", "scopeKind": "struct"}, {"_type": "tag", "name": "app_user_session_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub app_user_session_id: Option<String>,$/", "language": "Rust", "kind": "field", "scope": "SiftAppSession", "scopeKind": "struct"}, {"_type": "tag", "name": "check_send", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn check_send(&self) {$/", "language": "Rust", "kind": "method", "signature": "(&self)", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "default", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    fn default() -> Self {$/", "language": "Rust", "kind": "method", "signature": "() -> Self", "scope": "DeviceSessionIdentifier", "scopeKind": "implementation"}, {"_type": "tag", "name": "device_session_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub device_session_id: DeviceSessionIdentifier,$/", "language": "Rust", "kind": "field", "scope": "SiftMetricsState", "scopeKind": "struct"}, {"_type": "tag", "name": "device_session_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub device_session_id: Uuid,$/", "language": "Rust", "kind": "field", "scope": "DeviceSessionIdentifier", "scopeKind": "struct"}, {"_type": "tag", "name": "from", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    fn from(device_session_identifier: DeviceSessionIdentifier) -> Self {$/", "language": "Rust", "kind": "method", "signature": "(device_session_identifier: DeviceSessionIdentifier) -> Self", "scope": "String", "scopeKind": "implementation"}, {"_type": "tag", "name": "from", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    fn from(uuid_str: String) -> Self {$/", "language": "Rust", "kind": "method", "signature": "(uuid_str: String) -> Self", "scope": "DeviceSessionIdentifier", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_app_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    fn get_app_session(&self, app_id: &str) -> Option<SiftAppSession> {$/", "language": "Rust", "kind": "method", "signature": "(&self, app_id: &str) -> Option<SiftAppSession>", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_context", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn get_context(&self) -> MetricsContext {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> MetricsContext", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_option_string", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    fn get_option_string(s: String) -> Option<String> {$/", "language": "Rust", "kind": "method", "signature": "(s: String) -> Option<String>", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_persistent_store_bool", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    async fn get_persistent_store_bool($/", "language": "Rust", "kind": "method", "signature": "( state: &DistributorState, key: &'static str, ) -> Option<bool>", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_persistent_store_string", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    async fn get_persistent_store_string($/", "language": "Rust", "kind": "method", "signature": "( state: &DistributorState, key: &'static str, ) -> Option<String>", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_receiver", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn get_receiver(&self) -> Result<mpsc::Receiver<i64>, RippleError> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Result<mpsc::Receiver<i64>, RippleError>", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub async fn initialize(state: &mut DistributorState) {$/", "language": "Rust", "kind": "method", "signature": "(state: &mut DistributorState)", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "new", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn new($/", "language": "Rust", "kind": "method", "signature": "( config: AppsanityConfig, thunder: ThunderState, service_client: Option<ServiceClient>, ) -> Self", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "os_version_from_etc", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^fn os_version_from_etc() -> Option<String> {$/", "language": "Rust", "kind": "function", "signature": "() -> Option<String>"}, {"_type": "tag", "name": "receiver", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    receiver: Arc<RwLock<Option<mpsc::Receiver<i64>>>>,$/", "language": "Rust", "kind": "field", "scope": "SiftMetricsState", "scopeKind": "struct"}, {"_type": "tag", "name": "ripple_version_from_etc", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^fn ripple_version_from_etc() -> Option<String> {$/", "language": "Rust", "kind": "function", "signature": "() -> Option<String>"}, {"_type": "tag", "name": "send_metric", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^pub async fn send_metric($/", "language": "Rust", "kind": "function", "signature": "( platform_state: &DistributorState, mut payload: BehavioralMetricPayload, ctx: &CallContext, ) -> RippleResponse"}, {"_type": "tag", "name": "sender", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    sender: mpsc::Sender<i64>,$/", "language": "Rust", "kind": "field", "scope": "SiftMetricsState", "scopeKind": "struct"}, {"_type": "tag", "name": "service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub service: SiftService,$/", "language": "Rust", "kind": "field", "scope": "SiftMetricsState", "scopeKind": "struct"}, {"_type": "tag", "name": "set_app_metrics_version", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn set_app_metrics_version(&self, app_id: &str, version: String) -> Result<(), AppError>/", "language": "Rust", "kind": "method", "signature": "(&self, app_id: &str, version: String) -> Result<(), AppError>", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "set_app_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn set_app_session(&self, session: CompletedSessionResponse) {$/", "language": "Rust", "kind": "method", "signature": "(&self, session: CompletedSessionResponse)", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "start_time", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub start_time: DateTime<Utc>,$/", "language": "Rust", "kind": "field", "scope": "SiftMetricsState", "scopeKind": "struct"}, {"_type": "tag", "name": "unset", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    fn unset(s: &str) -> String {$/", "language": "Rust", "kind": "method", "signature": "(s: &str) -> String", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_account_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub async fn update_account_session(state: &DistributorState) {$/", "language": "Rust", "kind": "method", "signature": "(state: &DistributorState)", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_app_context", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^pub async fn update_app_context($/", "language": "Rust", "kind": "function", "signature": "( ps: &DistributorState, ctx: &CallContext, payload: &mut impl IUpdateContext, ) -> bool"}, {"_type": "tag", "name": "update_data_governance_tags", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn update_data_governance_tags($/", "language": "Rust", "kind": "method", "signature": "( &self, platform_state: &DistributorState, cache: &RippleCache, )", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_session_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub fn update_session_id(&self, value: Option<String>) {$/", "language": "Rust", "kind": "method", "signature": "(&self, value: Option<String>)", "scope": "SiftMetricsState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_tags", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^        fn update_tags($/", "language": "Rust", "kind": "function", "signature": "( data_governance_config: &DataGovernanceConfig, data: Option<bool>, tags: &mut Vec<String>, data_event_type: DataEventType, storage_property: StorageProperty, )", "scope": "SiftMetricsState::update_data_governance_tags", "scopeKind": "method"}, {"_type": "tag", "name": "version", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "pattern": "/^    pub version: Option<String>,$/", "language": "Rust", "kind": "field", "scope": "SiftMetricsState", "scopeKind": "struct"}], "hash": "fcf2608b94a52904baf5bcdcde651d40", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/sift_metrics_state.rs", "fields": [{"name": "static DEVICE_OS_VER_FILE_DEFAULT: &str = \"\\/etc\\/skyversion.txt\";", "scope": "os_version_from_etc", "scopeKind": "function", "description": "unavailable"}, {"name": "static DEVICE_OS_VER_VAR_NAME_DEFAULT: &str = \"SKY_VERSION\";", "scope": "os_version_from_etc", "scopeKind": "function", "description": "unavailable"}, {"name": "static RIPPLE_VER_FILE_DEFAULT: &str = \"\\/etc\\/rippleversion.txt\";", "scope": "ripple_version_from_etc", "scopeKind": "function", "description": "unavailable"}, {"name": "static RIPPLE_VER_VAR_NAME_DEFAULT: &str = \"RIPPLE_VER\";", "scope": "ripple_version_from_etc", "scopeKind": "function", "description": "unavailable"}, {"name": "pub app_metrics_version: Option<String>,", "scope": "SiftAppSession", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub app_session: Arc<RwLock<HashMap<String, SiftAppSession>>>,", "scope": "SiftMetricsState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub app_session_id: String,", "scope": "SiftAppSession", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub app_user_session_id: Option<String>,", "scope": "SiftAppSession", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub device_session_id: DeviceSessionIdentifier,", "scope": "SiftMetricsState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub device_session_id: Uuid,", "scope": "DeviceSessionIdentifier", "scopeKind": "struct", "description": "unavailable"}, {"name": "receiver: Arc<RwLock<Option<mpsc::Receiver<i64>>>>,", "scope": "SiftMetricsState", "scopeKind": "struct", "description": "unavailable"}, {"name": "sender: mpsc::Sender<i64>,", "scope": "SiftMetricsState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub service: SiftService,", "scope": "SiftMetricsState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub start_time: DateTime<Utc>,", "scope": "SiftMetricsState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub version: Option<String>,", "scope": "SiftMetricsState", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"4382": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}