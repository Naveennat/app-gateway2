{"is_source_file": true, "format": "C++ header file", "description": "This file defines the declaration of the App2AppProviderImplementation class, which implements the IApp2AppProvider interface. It manages provider registration, invocation, and response handling for an application gateway, including connection cleanup and correlation ID management.", "external_files": ["Module.h", "IApp2AppProvider.h", "IAppGateway.h", "UtilsLogging.h"], "external_methods": ["Exchange::IAppGateway* App2AppProviderImplementation(const App2AppProviderImplementation&)", "App2AppProviderImplementation& operator=(const App2AppProviderImplementation&)", "void AddRef() const", "uint32_t Release() const", "void* QueryInterface(const uint32_t id)", "Core::hresult RegisterProvider(const Context& context, bool reg, const string& capability, Error& error)", "Core::hresult InvokeProvider(const Context& context, const string& capability, Error& error)", "Core::hresult HandleProviderResponse(const string& payload, const string& capability, Error& error)", "Core::hresult HandleProviderError(const string& payload, const string& capability, Error& error)", "void CleanupByConnection(const uint32_t connectionId)"], "published": ["App2AppProviderImplementation"], "classes": [{"name": "App2AppProviderImplementation", "description": "Implementation of the IApp2AppProvider interface, responsible for managing app-to-app provider registration, invocation, error handling, and connection cleanup within the WPEFramework plugin namespace."}], "methods": [{"name": "AddRef", "description": "Increases the reference count on the implementation object."}, {"name": "Release", "description": "Decreases the reference count; deletes object when count reaches zero."}, {"name": "QueryInterface", "description": "Supports interface querying based on interface ID."}, {"name": "RegisterProvider", "description": "Registers or unregisters a provider for a given capability."}, {"name": "InvokeProvider", "description": "Tracks a consumer invocation by storing a correlation context."}, {"name": "HandleProviderResponse", "description": "Handles a provider's response payload, forwarding it appropriately."}, {"name": "HandleProviderError", "description": "Handles an error payload from a provider, forwarding error information."}, {"name": "CleanupByConnection", "description": "Removes all providers and correlations associated with a specific connection ID."}], "calls": ["Exchange::IAppGateway* App2AppProviderImplementation(const App2AppProviderImplementation&)", "void AddRef() const", "uint32_t Release() const", "void* QueryInterface(const uint32_t id)", "Core::hresult RegisterProvider(const Context& , bool ,const string& , Error& )", "Core::hresult InvokeProvider(const Context& , const string& , Error& )", "Core::hresult HandleProviderResponse(const string& , const string& , Error& )", "Core::hresult HandleProviderError(const string& , const string& , Error& )", "void CleanupByConnection(const uint32_t)"], "search-terms": ["App2AppProviderImplementation", "IApp2AppProvider", "ConnectionId", "Monitor", "CorrelationId", "Provider", "Consumer", "Capability"], "state": 2, "file_id": 36, "knowledge_revision": 121, "git_revision": "58d33dac9a68a41e0b91cd81d2fd0b26d40bf96c", "revision_history": [{"110": ""}, {"118": ""}, {"120": "58d33dac9a68a41e0b91cd81d2fd0b26d40bf96c"}, {"121": "58d33dac9a68a41e0b91cd81d2fd0b26d40bf96c"}], "ctags": [{"_type": "tag", "name": "App2AppProviderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^class App2AppProviderImplementation final : public Exchange::IApp2AppProvider {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ConsumerContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    struct ConsumerContext {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "ProviderEntry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    struct ProviderEntry {$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_capabilityToProvider", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    std::unordered_map<string, ProviderEntry> _capabilityToProvider;           \\/\\/ capability -/", "language": "C++", "typeref": "typename:std::unordered_map<string,ProviderEntry>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_capsByConnection", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    std::unordered_map<uint32_t, std::unordered_set<string>> _capsByConnection; \\/\\/ connectionI/", "language": "C++", "typeref": "typename:std::unordered_map<uint32_t,std::unordered_set<string>>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_correlations", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    std::unordered_map<string, ConsumerContext> _correlations;                 \\/\\/ correlationI/", "language": "C++", "typeref": "typename:std::unordered_map<string,ConsumerContext>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_gateway", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    Exchange::IAppGateway* _gateway; \\/\\/ retained while implementation lives$/", "language": "C++", "typeref": "typename:Exchange::IAppGateway *", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_lock", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    mutable std::mutex _lock;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_refCount", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^    mutable std::atomic<uint32_t> _refCount;$/", "language": "C++", "typeref": "typename:std::atomic<uint32_t>", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "appId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        string appId;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "appId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        string appId;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ProviderEntry", "scopeKind": "struct"}, {"_type": "tag", "name": "capability", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        string capability;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        uint32_t connectionId{0};$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "connectionId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        uint32_t connectionId{0};$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ProviderEntry", "scopeKind": "struct"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        Core::Time createdAt;$/", "language": "C++", "typeref": "typename:Core::Time", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct"}, {"_type": "tag", "name": "registeredAt", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        Core::Time registeredAt;$/", "language": "C++", "typeref": "typename:Core::Time", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ProviderEntry", "scopeKind": "struct"}, {"_type": "tag", "name": "requestId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/App2AppProvider/App2AppProviderImplementation.h", "pattern": "/^        uint32_t requestId{0};$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct"}], "hash": "ccdf9dacdeafb379f93ba8ce40207c32", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/App2AppProvider/App2AppProviderImplementation.h", "fields": [{"name": "std::unordered_map<string,ProviderEntry> _capabilityToProvider", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<uint32_t,std::unordered_set<string>> _capsByConnection", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<string,ConsumerContext> _correlations", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppGateway * _gateway", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex _lock", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::atomic<uint32_t> _refCount", "scope": "WPEFramework::Plugin::App2AppProviderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "string appId", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "string capability", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t connectionId", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "Core::Time createdAt", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}, {"name": "Core::Time registeredAt", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ProviderEntry", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t requestId", "scope": "WPEFramework::Plugin::App2AppProviderImplementation::ConsumerContext", "scopeKind": "struct", "description": "unavailable"}]}