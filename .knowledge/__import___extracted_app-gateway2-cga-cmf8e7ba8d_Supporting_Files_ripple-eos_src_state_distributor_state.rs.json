{"is_source_file": true, "format": "Rust", "description": "This file defines the DistributorState struct and associated logic, including methods, implementations, and unit tests, for managing distributor-related application state in a Rust-based system.", "external_files": ["super::sift_metrics_state::SiftMetricsState", "crate::rpc::eos_authentication_rpc::TokenResult", "crate::service::appsanity_metrics::initiate_metrics", "crate::service::appsanity_privacy::PrivacyService", "crate::service::ott_token::OttTokenService", "crate::service::thor_permission::ThorPermissionService", "crate::service::xvp_sync_and_monitor::SyncAndMonitorService", "gateway::appsanity_gateway::AppsanityConfig", "manager::data_governor::DataGovernanceState", "ripple_sdk::service::service_client::ServiceClient", "serde_json::Value", "thunder_ripple_sdk::client::thunder_client::ThunderClient", "thunder_ripple_sdk::processors::thunder_persistent_store::ThunderStorageRequestProcessor", "thunder_ripple_sdk::ripple_sdk::api::apps::AppEvent", "thunder_ripple_sdk::ripple_sdk::api::config::FEATURE_DISTRIBUTOR_SESSION", "thunder_ripple_sdk::ripple_sdk::api::context::FeatureUpdate", "thunder_ripple_sdk::ripple_sdk::api::context::RippleContextUpdateRequest", "thunder_ripple_sdk::ripple_sdk::api::device::device_peristence::SetStorageProperty", "thunder_ripple_sdk::ripple_sdk::api::device::device_peristence::{DeleteStorageProperty, GetStorageProperty}", "thunder_ripple_sdk::ripple_sdk::api::device::device_request::AccountToken", "thunder_ripple_sdk::ripple_sdk::api::distributor::distributor_privacy::{ExclusionPolicy, PrivacySettings, SetPropertyParams}", "thunder_ripple_sdk::ripple_sdk::api::gateway::rpc_gateway_api::RpcRequest", "thunder_ripple_sdk::ripple_sdk::api::manifest::device_manifest::{DefaultValues, DeviceManifest}", "thunder_ripple_sdk::ripple_sdk::api::ripple_cache::RippleCache", "thunder_ripple_sdk::ripple_sdk::api::session::AccountSession", "thunder_ripple_sdk::ripple_sdk::api::storage_manager::IStorageOperator", "thunder_ripple_sdk::ripple_sdk::async_trait::async_trait", "thunder_ripple_sdk::ripple_sdk::extn::client::extn_client::ExtnClient", "thunder_ripple_sdk::ripple_sdk::extn::extn_client_message::ExtnResponse", "thunder_ripple_sdk::ripple_sdk::framework::RippleResponse", "thunder_ripple_sdk::ripple_sdk::utils::error::RippleError", "thunder_ripple_sdk::thunder_state::ThunderState"], "external_methods": ["ThunderStorageRequestProcessor::set_in_peristent_store", "ThunderStorageRequestProcessor::get_value_in_persistent_store", "ThunderStorageRequestProcessor::delete_key_in_persistent_store", "RippleContextUpdateRequest::Token", "RippleContextUpdateRequest::UpdateFeatures", "RippleResponse::Ok", "RippleResponse::Err", "serde_json::to_value"], "published": ["DistributorState", "AuthService"], "classes": [{"name": "DistributorState", "description": "Manages the application state related to a distributor, including configuration, privacy, security tokens, and interaction with external services. Provides methods for state updates, token management, privacy updates, persistence, and other operational functions."}, {"name": "AuthService", "description": "Handles authentication-related services, including permission and token management, encapsulating related services and providing accessors."}], "methods": [{"name": "AuthService::new", "description": "Creates a new instance of AuthService with specified permission and token services."}, {"name": "AuthService::get_ott_token_service", "description": "Returns the OttTokenService associated with the AuthService."}, {"name": "AuthService::get_thor_permission_service", "description": "Returns the ThorPermissionService associated with the AuthService."}, {"name": "DistributorState::new", "description": "Constructs a new DistributorState instance with given parameters, initializing all internal fields."}, {"name": "DistributorState::get_client", "description": "Returns the ExtnClient from the ThunderState."}, {"name": "DistributorState::get_service_client", "description": "Provides a clone of the optional ServiceClient."}, {"name": "DistributorState::get_thunder", "description": "Returns a clone of the ThunderState."}, {"name": "DistributorState::get_thunder_client", "description": "Returns a ThunderClient obtained from the ThunderState."}, {"name": "DistributorState::get_auth_service", "description": "Returns a clone of the Box-wrapped AuthService."}, {"name": "DistributorState::get_root_device_token", "description": "Returns the current root device token, if available."}, {"name": "DistributorState::update_root_device_token", "description": "Updates the root device token with a new value."}, {"name": "DistributorState::update_privacy", "description": "Updates the privacy settings and cache with new privacy data."}, {"name": "DistributorState::update_privacy_setting", "description": "Updates a specific privacy setting and its cache value."}, {"name": "DistributorState::update_account_session", "description": "Stores a new account session."}, {"name": "DistributorState::update_token", "description": "Updates the token in the current account session."}, {"name": "DistributorState::get_account_session", "description": "Retrieves the current account session, if any."}, {"name": "DistributorState::get_partner_exclusions", "description": "Asynchronously fetches partner exclusion policies based on current account session."}, {"name": "DistributorState::handle_first_account_session_update", "description": "Handles setup actions upon first account session update, including context requests and feature updates."}, {"name": "DistributorState::get_privacy", "description": "Returns the current privacy settings."}, {"name": "DistributorState::get_cache", "description": "Returns a clone of the RippleCache."}, {"name": "DistributorState::get_default", "description": "Returns default device configuration values."}, {"name": "DistributorState::persist", "description": "Persists a storage property request asynchronously."}, {"name": "DistributorState::pull", "description": "Retrieves a storage property asynchronously."}, {"name": "DistributorState::delete", "description": "Deletes a storage property asynchronously."}, {"name": "DistributorState::emit", "description": "Emits an app event with specified name, result, and optional context."}, {"name": "DistributorState::on_privacy_updated", "description": "Handles updates to privacy by updating metrics."}, {"name": "delete(&self, request: DeleteStorageProperty) -> RippleResponse", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "emit(&self, event_name: &str, result: &Value, context: Option<Value>)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_account_session(&self) -> Option<AccountSession>", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_auth_service(&self) -> Box<AuthService>", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_cache(&self) -> RippleCache", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_client(&self) -> ExtnClient", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_default(&self) -> DefaultValues", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_ott_token_service(&self) -> Arc<OttTokenService>", "scope": "AuthService", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_partner_exclusions(&self) -> Result<ExclusionPolicy, RippleError>", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_privacy(&self) -> PrivacySettings", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_root_device_token(&self) -> Option<TokenResult>", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_service_client(&self) -> Option<ServiceClient>", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_thor_permission_service(&self) -> Arc<ThorPermissionService>", "scope": "AuthService", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_thunder(&self) -> ThunderState", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "get_thunder_client(&self) -> ThunderClient", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "handle_first_account_session_update(&self, session: &AccountSession)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "mock() -> Self", "scope": "tests::DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "new( device_manifest: &DeviceManifest, thunder: ThunderState, config: AppsanityConfig, auth_service: Box<AuthService>, service_client: Option<ServiceClient>, ) -> Self", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "new( thor_permission_service: ThorPermissionService, ott_token_service: OttTokenService, ) -> Box<Self>", "scope": "AuthService", "scopeKind": "implementation", "description": "unavailable"}, {"name": "on_privacy_updated(&self, cache: RippleCache)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "persist(&self, request: SetStorageProperty) -> RippleResponse", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "pull(&self, request: GetStorageProperty) -> Result<ExtnResponse, RippleError>", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "update_account_session(&self, ref_session: &AccountSession)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "update_privacy(&self, data: PrivacySettings)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "update_privacy_setting(&self, data: SetPropertyParams)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "update_root_device_token(&self, token: TokenResult)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}, {"name": "update_token(&self, token: String)", "scope": "DistributorState", "scopeKind": "implementation", "description": "unavailable"}], "calls": ["ThunderStorageRequestProcessor::set_in_peristent_store", "ThunderStorageRequestProcessor::get_value_in_persistent_store", "ThunderStorageRequestProcessor::delete_key_in_persistent_store", "self.get_client().request_transient", "self.get_client().request_transient", "SyncAndMonitorService::start", "initiate_metrics", "RibpleContextUpdateRequest::Token", "RibpleContextUpdateRequest::UpdateFeatures", "RippleResponse::Ok", "RippleResponse::Err", "serde_json::to_value"], "search-terms": ["DistributorState", "PrivacySettings", "RippleCache", "ThunderState", "persist", "update_privacy", "account_session", "get_partner_exclusions", "first_account_session"], "state": 2, "file_id": 1791, "knowledge_revision": 4388, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^impl AuthService {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^pub struct AuthService {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "DistributorState", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    impl Mockable for DistributorState {$/", "language": "Rust", "kind": "implementation", "scope": "tests", "scopeKind": "module"}, {"_type": "tag", "name": "DistributorState", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^impl DistributorState {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DistributorState", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^impl IStorageOperator for DistributorState {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DistributorState", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^pub struct DistributorState {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "account_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub account_session: Arc<RwLock<Option<AccountSession>>>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "auth_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub auth_service: Box<AuthService>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "cache", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub cache: Arc<RippleCache>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub config: Arc<AppsanityConfig>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "data_governance", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub data_governance: Arc<DataGovernanceState>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    async fn delete(&self, request: DeleteStorageProperty) -> RippleResponse {$/", "language": "Rust", "kind": "method", "signature": "(&self, request: DeleteStorageProperty) -> RippleResponse", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "device_manifest", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub device_manifest: Arc<DeviceManifest>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "emit", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    fn emit(&self, event_name: &str, result: &Value, context: Option<Value>) {$/", "language": "Rust", "kind": "method", "signature": "(&self, event_name: &str, result: &Value, context: Option<Value>)", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_account_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_account_session(&self) -> Option<AccountSession> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Option<AccountSession>", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_auth_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_auth_service(&self) -> Box<AuthService> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Box<AuthService>", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_cache", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    fn get_cache(&self) -> RippleCache {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> RippleCache", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_client", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_client(&self) -> ExtnClient {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> ExtnClient", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_default", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    fn get_default(&self) -> DefaultValues {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> DefaultValues", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_ott_token_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub(crate) fn get_ott_token_service(&self) -> Arc<OttTokenService> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Arc<OttTokenService>", "scope": "AuthService", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_partner_exclusions", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub async fn get_partner_exclusions(&self) -> Result<ExclusionPolicy, RippleError> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Result<ExclusionPolicy, RippleError>", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_privacy", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_privacy(&self) -> PrivacySettings {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> PrivacySettings", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_root_device_token", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_root_device_token(&self) -> Option<TokenResult> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Option<TokenResult>", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_service_client", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_service_client(&self) -> Option<ServiceClient> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Option<ServiceClient>", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_thor_permission_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub(crate) fn get_thor_permission_service(&self) -> Arc<ThorPermissionService> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Arc<ThorPermissionService>", "scope": "AuthService", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_thunder", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_thunder(&self) -> ThunderState {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> ThunderState", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_thunder_client", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn get_thunder_client(&self) -> ThunderClient {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> ThunderClient", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "handle_first_account_session_update", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn handle_first_account_session_update(&self, session: &AccountSession) {$/", "language": "Rust", "kind": "method", "signature": "(&self, session: &AccountSession)", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "metrics", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub metrics: Arc<SiftMetricsState>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "mock", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^        fn mock() -> Self {$/", "language": "Rust", "kind": "method", "signature": "() -> Self", "scope": "tests::DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "new", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn new($/", "language": "Rust", "kind": "method", "signature": "( device_manifest: &DeviceManifest, thunder: ThunderState, config: AppsanityConfig, auth_service: Box<AuthService>, service_client: Option<ServiceClient>, ) -> Self", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "new", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub(crate) fn new($/", "language": "Rust", "kind": "method", "signature": "( thor_permission_service: ThorPermissionService, ott_token_service: OttTokenService, ) -> Box<Self>", "scope": "AuthService", "scopeKind": "implementation"}, {"_type": "tag", "name": "on_privacy_updated", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    fn on_privacy_updated(&self, cache: RippleCache) {$/", "language": "Rust", "kind": "method", "signature": "(&self, cache: RippleCache)", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "ott_token_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub(crate) ott_token_service: Arc<OttTokenService>,$/", "language": "Rust", "kind": "field", "scope": "AuthService", "scopeKind": "struct"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    async fn persist(&self, request: SetStorageProperty) -> RippleResponse {$/", "language": "Rust", "kind": "method", "signature": "(&self, request: SetStorageProperty) -> RippleResponse", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "privacy", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub privacy: Arc<RwLock<PrivacySettings>>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "privacy_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub privacy_service: Arc<PrivacyService>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "pull", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    async fn pull(&self, request: GetStorageProperty) -> Result<ExtnResponse, RippleError> {$/", "language": "Rust", "kind": "method", "signature": "(&self, request: GetStorageProperty) -> Result<ExtnResponse, RippleError>", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "root_device_token", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub root_device_token: Arc<RwLock<Option<TokenResult>>>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "service_client", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub service_client: Option<ServiceClient>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "tests", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^pub mod tests {$/", "language": "Rust", "kind": "module"}, {"_type": "tag", "name": "thor_permission_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub(crate) thor_permission_service: Arc<ThorPermissionService>,$/", "language": "Rust", "kind": "field", "scope": "AuthService", "scopeKind": "struct"}, {"_type": "tag", "name": "thunder", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub thunder: Arc<ThunderState>,$/", "language": "Rust", "kind": "field", "scope": "DistributorState", "scopeKind": "struct"}, {"_type": "tag", "name": "update_account_session", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn update_account_session(&self, ref_session: &AccountSession) {$/", "language": "Rust", "kind": "method", "signature": "(&self, ref_session: &AccountSession)", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_privacy", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn update_privacy(&self, data: PrivacySettings) {$/", "language": "Rust", "kind": "method", "signature": "(&self, data: PrivacySettings)", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_privacy_setting", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn update_privacy_setting(&self, data: SetPropertyParams) {$/", "language": "Rust", "kind": "method", "signature": "(&self, data: SetPropertyParams)", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_root_device_token", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn update_root_device_token(&self, token: TokenResult) {$/", "language": "Rust", "kind": "method", "signature": "(&self, token: TokenResult)", "scope": "DistributorState", "scopeKind": "implementation"}, {"_type": "tag", "name": "update_token", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "pattern": "/^    pub fn update_token(&self, token: String) {$/", "language": "Rust", "kind": "method", "signature": "(&self, token: String)", "scope": "DistributorState", "scopeKind": "implementation"}], "hash": "d2cf4c041fa3c5e7a66a2ccf6f4ff125", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/state/distributor_state.rs", "fields": [{"name": "pub account_session: Arc<RwLock<Option<AccountSession>>>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub auth_service: Box<AuthService>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub cache: Arc<RippleCache>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub config: Arc<AppsanityConfig>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub data_governance: Arc<DataGovernanceState>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub device_manifest: Arc<DeviceManifest>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub metrics: Arc<SiftMetricsState>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub(crate) ott_token_service: Arc<OttTokenService>,", "scope": "AuthService", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub privacy: Arc<RwLock<PrivacySettings>>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub privacy_service: Arc<PrivacyService>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub root_device_token: Arc<RwLock<Option<TokenResult>>>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub service_client: Option<ServiceClient>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub(crate) thor_permission_service: Arc<ThorPermissionService>,", "scope": "AuthService", "scopeKind": "struct", "description": "unavailable"}, {"name": "pub thunder: Arc<ThunderState>,", "scope": "DistributorState", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"4388": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}