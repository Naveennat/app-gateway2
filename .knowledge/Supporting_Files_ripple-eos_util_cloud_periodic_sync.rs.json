{"is_source_file": true, "format": "Rust", "description": "This file defines a Rust structure `CloudPeriodicSync` for managing periodic cloud synchronization tasks. It includes methods to start the sync process and to trigger syncs with specified settings. The implementation relies on Tokio for asynchronous tasks, channels for message passing, and logs for debugging and error reporting.", "external_files": ["super::cloud_sync_monitor_utils::StateRequest", "crate::state::distributor_state::DistributorState", "crate::util::sync_settings::SyncSettings", "tokio::sync::mpsc", "tokio::sync::oneshot", "tokio::time", "thunder_ripple_sdk::ripple_sdk::log"], "external_methods": ["debug", "error"], "published": ["CloudPeriodicSync"], "classes": [{"name": "CloudPeriodicSync", "description": "A struct that manages the periodic cloud synchronization process, holding a Sender for SyncSettings messages."}], "methods": [{"name": "start(dist_state: &DistributorState, state_tx: Sender<StateRequest>) -> Self", "description": "Initializes the CloudPeriodicSync, spawns a task to handle periodic synchronizations based on configuration and sets up the interval for cloud data fetches.", "scope": "CloudPeriodicSync", "scopeKind": "implementation"}, {"name": "sync(&self, sync_settings: SyncSettings)", "description": "Sends a sync request to the internal monitor channel with provided SyncSettings.", "scope": "CloudPeriodicSync", "scopeKind": "implementation"}], "calls": ["tokio::spawn", "rx.recv", "sync_settings.get_values_from_cloud", "stc.send", "listener.callback.send"], "search-terms": ["CloudPeriodicSync", "start", "sync", "tokio::spawn", "mpsc::channel", "interval", "SyncSettings", "distributor_state"], "state": 2, "file_id": 364, "knowledge_revision": 1077, "git_revision": "046761b9656aa3448e0e16f1a3a9c084965a6b28", "ctags": [{"_type": "tag", "name": "CloudPeriodicSync", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/cloud_periodic_sync.rs", "pattern": "/^impl CloudPeriodicSync {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "CloudPeriodicSync", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/cloud_periodic_sync.rs", "pattern": "/^pub struct CloudPeriodicSync {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "monitor_tx", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/cloud_periodic_sync.rs", "pattern": "/^    monitor_tx: Sender<SyncSettings>,$/", "language": "Rust", "kind": "field", "scope": "CloudPeriodicSync", "scopeKind": "struct"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/cloud_periodic_sync.rs", "pattern": "/^    pub fn start(dist_state: &DistributorState, state_tx: Sender<StateRequest>) -> Self {$/", "language": "Rust", "kind": "method", "signature": "(dist_state: &DistributorState, state_tx: Sender<StateRequest>) -> Self", "scope": "CloudPeriodicSync", "scopeKind": "implementation"}, {"_type": "tag", "name": "sync", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/util/cloud_periodic_sync.rs", "pattern": "/^    pub async fn sync(&self, sync_settings: SyncSettings) {$/", "language": "Rust", "kind": "method", "signature": "(&self, sync_settings: SyncSettings)", "scope": "CloudPeriodicSync", "scopeKind": "implementation"}], "hash": "94abd3dfcd1577d39fadebfdff8d0f4f", "format-version": 4, "code-base-name": "app-gateway2", "filename": "Supporting_Files/ripple-eos/util/cloud_periodic_sync.rs", "fields": [{"name": "monitor_tx: Sender<SyncSettings>,", "scope": "CloudPeriodicSync", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"1077": "046761b9656aa3448e0e16f1a3a9c084965a6b28"}]}