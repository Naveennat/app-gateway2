{"is_source_file": true, "format": "C++", "description": "This file implements the WebSocket endpoint class WSEndpoint with template parameters for roles, messaging interfaces, ping-pong mechanisms, and encryption. It contains class definitions, member functions for connection management, message handling, event loop control, and registration of handlers, along with explicit template instantiations for different configurations.", "external_files": ["WSEndpoint.h", "CommunicationInterface/BinaryInterface.h", "CommunicationInterface/CommandInterface.h", "CommunicationInterface/JsonRpcInterface.h", "Roles/SingleClientServer.h", "Roles/Client.h", "PingPong/PingPongEnabled.h", "PingPong/PingPongDisabled.h", "Encryption/TlsEnabled.h", "Encryption/NoEncryption.h", "UtilsLogging.h"], "external_methods": ["websocketpp::lib::error_code::message()", "websocketpp::endpoint<>::set_message_handler", "websocketpp::endpoint<>::set_open_handler", "websocketpp::endpoint<>::set_close_handler", "websocketpp::endpoint<>::set_fail_handler", "websocketpp::endpoint<>::init_asio", "websocketpp::endpoint<>::start_perpetual", "websocketpp::endpoint<>::stop_perpetual", "websocketpp::endpoint<>::close", "websocketpp::endpoint<>::run", "websocketpp::endpoint<>::get_con_from_hdl"], "published": ["WSEndpoint<WSEndpoint>::send"], "classes": [{"name": "WSEndpoint", "description": "Template class implementing a WebSocket server endpoint with customizable roles, messaging, ping-pong, and encryption."}], "methods": [{"name": "WSEndpoint()", "description": "Constructor initializing the WebSocket endpoint, setting logging, handler registration, and encryption setup.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "~WSEndpoint()", "description": "Destructor stopping event loop and closing connections.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void closeConnection()", "description": "Closes the current WebSocket connection if it is open.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void startEventLoop()", "description": "Starts the WebSocket event loop in a new thread.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void stopEventLoop()", "description": "Joins the event loop thread if it's running.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void registerHandlers()", "description": "Registers message and connection event handlers with the WebSocket endpoint.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "bool send(const std::string & message)", "description": "Sends a text message over the WebSocket connection.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void onMessage(ConnectionHandler,typename WebsocketppEndpoint::message_ptr msg)", "description": "Handles incoming messages and processes them if they are text messages.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void onOpen(ConnectionHandler handler)", "description": "Handles new connection establishment, setting the connection handler and starting ping.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void onFail(ConnectionHandler handler)", "description": "Handles connection failure, logs error, and updates authentication state.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "void onClose(ConnectionHandler)", "description": "Handles connection closure.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "WSEndpoint<Role,MessagingInterface,PingPong,Encryption>::ConnectionPtr getConnection(ConnectionHandler handler)", "description": "Retrieves the connection object from the handler.", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"name": "__anon13796a7d0102()", "scope": "WebSockets::WSEndpoint::startEventLoop", "scopeKind": "function", "description": "unavailable"}], "search-terms": ["WSEndpoint", "WebSocket", "connection management", "message handling", "encryption setup", "ping-pong", "threaded event loop", "handler registration", "explicit template instantiation"], "state": 2, "file_id": 7389, "knowledge_revision": 14778, "git_revision": "", "ctags": [{"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::WSEndpoint()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<Client, BinaryInterface, PingPongEnabled, NoEncryption>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<Client, BinaryInterface, PingPongEnabled, TlsEnabled>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<Client, CommandInterface, PingPongEnabled, TlsEnabled>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<Client, JsonRpcInterface, PingPongDisabled, NoEncryption>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<Client, JsonRpcInterface, PingPongEnabled, NoEncryption>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<Client, JsonRpcInterface, PingPongEnabled, TlsEnabled>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<SingleClientServer, CommandInterface, PingPongEnabled, NoEncryption>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<SingleClientServer, JsonRpcInterface, PingPongEnabled, NoEncryption>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^template class WSEndpoint<SingleClientServer, JsonRpcInterface, PingPongEnabled, TlsEnabled>;$/", "language": "C++", "typeref": "meta:class", "kind": "variable", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WebSockets", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^namespace WebSockets   {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon13796a7d0102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^        eventLoopThread_ = std::thread([this]() {$/", "file": true, "language": "C++", "kind": "function", "signature": "() ", "scope": "WebSockets::WSEndpoint::startEventLoop", "scopeKind": "function"}, {"_type": "tag", "name": "closeConnection", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::closeConnection()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "getConnection", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::getConnection(ConnectionHandler hand/", "language": "C++", "typeref": "typename:WSEndpoint<Role,MessagingInterface,PingPong,Encryption>::ConnectionPtr", "kind": "function", "signature": "(ConnectionHandler handler)", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "onClose", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::onClose(ConnectionHandler)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ConnectionHandler)", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "onFail", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::onFail(ConnectionHandler handle/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ConnectionHandler handler)", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "onMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::onMessage(ConnectionHandler, ty/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ConnectionHandler,typename WebsocketppEndpoint::message_ptr msg)", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "onOpen", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::onOpen(ConnectionHandler handle/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ConnectionHandler handler)", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "registerHandlers", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::registerHandlers()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "send", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^bool WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::send(const std::string& message/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & message)", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "startEventLoop", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::startEventLoop()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "stopEventLoop", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^void WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::stopEventLoop()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}, {"_type": "tag", "name": "~WSEndpoint", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "pattern": "/^WSEndpoint<Role, MessagingInterface, PingPong, Encryption>::~WSEndpoint()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WebSockets::WSEndpoint", "scopeKind": "class"}], "hash": "4d647bd69f82e10ef1c6eba4b7b33f83", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/helpers/WebSockets/WSEndpoint.cpp", "fields": [{"name": "meta:class WSEndpoint", "scope": "WebSockets", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"14778": ""}]}