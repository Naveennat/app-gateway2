{"is_source_file": true, "format": "C++", "description": "This file defines a mock implementation of the IAnalyticsBackend interface for testing purposes within the WPEFramework plugin architecture. It includes methods for configuring storage, sending events, and making HTTP POST requests with libcurl. The class AnalyticsBackendMock is the main component, with internal logic to handle local store operations and HTTP communication.", "external_files": ["IAnalyticsBackend.h", "UtilsLogging.h", "<plugins/JSONRPC.h>", "<curl/curl.h>"], "external_methods": ["curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "curl_slist_append", "curl_slist_free_all", "curl_easy_cleanup", "LOGINFO", "LOGERR"], "published": ["Create"], "classes": [{"name": "AnalyticsBackendMock", "description": "A mock implementation of the IAnalyticsBackend interface for testing; handles event configuration, local storage, and HTTP communications."}], "methods": [{"name": "const std::string & Name() const", "description": "Returns the name identifier of the backend, 'AnalyticsBackendMock'.", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"name": "uint32_t Configure(PluginHost::IShell * shell,ISystemTimePtr sysTime,ILocalStorePtr store)", "description": "Configures the mock backend with storage and system time, sets up local storage tables and limits. Returns status codes.", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"name": "uint32_t SendEvent(const Event & event)", "description": "Prepares an event as JSON, stores it locally, retrieves stored events, clears the store, and sends the data via an HTTP POST request. Returns status codes.", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"name": "AnalyticsBackendMock()", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Plugin::IAnalyticsBackend * Create()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "size_t CurlWriteCallback(void * contents,size_t size,size_t nmemb,void * userp)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}], "calls": ["curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_getinfo", "curl_slist_append", "curl_slist_free_all", "curl_easy_cleanup", "mStore->Open", "mStore->CreateTable", "mStore->SetLimit", "mStore->AddEntry", "mStore->GetEntriesCount", "mStore->GetEntries", "mStore->RemoveEntries", "eventJson.ToString", "eventEntry.FromString", "LOGINFO", "LOGERR"], "search-terms": ["AnalyticsBackendMock", "SendEvent", "Configure", "CURL", "local store", "mock implementation", "HTTP POST", "json event", "libcurl"], "state": 2, "file_id": 6998, "knowledge_revision": 14038, "git_revision": "", "ctags": [{"_type": "tag", "name": "AnalyticsBackendMock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^        AnalyticsBackendMock(): mStore(nullptr), mSysTime(nullptr) {$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"_type": "tag", "name": "AnalyticsBackendMock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^    class AnalyticsBackendMock : public IAnalyticsBackend {$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^        uint32_t Configure(PluginHost::IShell* shell, ISystemTimePtr sysTime, ILocalStorePtr sto/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell,ISystemTimePtr sysTime,ILocalStorePtr store)", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^    WPEFramework::Plugin::IAnalyticsBackend* Create()$/", "language": "C++", "typeref": "typename:WPEFramework::Plugin::IAnalyticsBackend *", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "CurlWriteCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^    static size_t CurlWriteCallback(void *contents, size_t size, size_t nmemb, void *userp)$/", "file": true, "language": "C++", "typeref": "typename:size_t", "kind": "function", "signature": "(void * contents,size_t size,size_t nmemb,void * userp)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Name", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^        const std::string& Name() const override {$/", "file": true, "language": "C++", "typeref": "typename:const std::string &", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SERVER_URL", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^#define SERVER_URL /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "SendEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^        uint32_t SendEvent(const Event& event) override {$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Event & event)", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"_type": "tag", "name": "TABLE_LIMIT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^    #define TABLE_LIMIT /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "TABLE_NAME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^    #define TABLE_NAME /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "mStore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^        ILocalStorePtr mStore;$/", "file": true, "language": "C++", "typeref": "typename:ILocalStorePtr", "kind": "member", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}, {"_type": "tag", "name": "mSysTime", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "pattern": "/^        ISystemTimePtr mSysTime;$/", "file": true, "language": "C++", "typeref": "typename:ISystemTimePtr", "kind": "member", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class"}], "hash": "83822f38ca26ef4a32fc50c9d513b149", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/Analytics/Tests/AnalyticsBackendMock/AnalyticsBackendMock.cpp", "fields": [{"name": "ILocalStorePtr mStore", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class", "description": "unavailable"}, {"name": "ISystemTimePtr mSysTime", "scope": "WPEFramework::Plugin::AnalyticsBackendMock", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"14038": ""}]}