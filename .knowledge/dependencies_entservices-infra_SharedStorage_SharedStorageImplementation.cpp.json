{"is_source_file": true, "format": "C++", "description": "This file implements the SharedStorageImplementation class, which manages shared storage, notifications, and interactions with persistent store interfaces within the WPEFramework Plugin namespace. It includes functionality for registering/unregistering notifications, configuring connections to persistent storage services, accessing remote storage objects based on scope, and manipulating storage data (set, get, delete).", "external_files": ["SharedStorageImplementation.h", "UtilsLogging.h"], "external_methods": ["Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::ERROR_NOT_SUPPORTED", "Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::ERROR_NONE"], "published": ["SharedStorageImplementation::instance", "SharedStorageImplementation::Register", "SharedStorageImplementation::Unregister", "SharedStorageImplementation::Configure", "SharedStorageImplementation::SetValue", "SharedStorageImplementation::GetValue", "SharedStorageImplementation::DeleteKey", "SharedStorageImplementation::DeleteNamespace", "SharedStorageImplementation::GetKeys", "SharedStorageImplementation::GetNamespaces", "SharedStorageImplementation::GetStorageSizes", "SharedStorageImplementation::SetNamespaceStorageLimit", "SharedStorageImplementation::GetNamespaceStorageLimit", "SharedStorageImplementation::FlushCache", "SharedStorageImplementation::ValueChanged", "SharedStorageImplementation::dispatchEvent", "SharedStorageImplementation::Dispatch"], "classes": [{"name": "SharedStorageImplementation", "description": "Implements shared storage management, including notification registration, configuration with services, data storage operations, and event handling within the WPEFramework plugin infrastructure."}], "methods": [{"name": "SharedStorageImplementation()", "description": "Constructor initializes members, sets up logging.", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"name": "SharedStorageImplementation::~SharedStorageImplementation", "description": "Destructor releases all acquired resources and interfaces."}, {"name": "SharedStorageImplementation::instance", "description": "Returns a singleton instance or sets it if provided."}, {"name": "SharedStorageImplementation::Register", "description": "Registers a notification callback if not already registered."}, {"name": "SharedStorageImplementation::Unregister", "description": "Unregisters a notification callback."}, {"name": "SharedStorageImplementation::Configure", "description": "Configures the service, queries persistent store interfaces, and establishes connections."}, {"name": "SharedStorageImplementation::getRemoteStoreObject", "description": "Returns the appropriate storage interface based on scope."}, {"name": "SharedStorageImplementation::ValueChanged", "description": "Dispatches a value changed event to listeners."}, {"name": "SharedStorageImplementation::dispatchEvent", "description": "Submits an event to the worker pool for dispatching."}, {"name": "SharedStorageImplementation::Dispatch", "description": "Iterates over notifications and calls OnValueChanged on each."}, {"name": "SharedStorageImplementation::SetValue", "description": "Sets a value in the shared storage."}, {"name": "SharedStorageImplementation::GetValue", "description": "Retrieves a value from the shared storage."}, {"name": "SharedStorageImplementation::DeleteKey", "description": "Deletes a specific key from shared storage."}, {"name": "SharedStorageImplementation::DeleteNamespace", "description": "Deletes an entire namespace."}, {"name": "SharedStorageImplementation::GetKeys", "description": "Retrieves all keys within a namespace."}, {"name": "SharedStorageImplementation::GetNamespaces", "description": "Retrieves all namespaces."}, {"name": "SharedStorageImplementation::GetStorageSizes", "description": "Gets storage size information for a namespace."}, {"name": "SharedStorageImplementation::SetNamespaceStorageLimit", "description": "Sets storage limit for a namespace."}, {"name": "SharedStorageImplementation::GetNamespaceStorageLimit", "description": "Gets storage limit for a namespace."}, {"name": "SharedStorageImplementation::FlushCache", "description": "Flushes the cache to persistent storage."}, {"name": "uint32_t Configure(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t DeleteKey(const ISharedStorage::ScopeType eScope,const string & ns,const string & key,Success & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t DeleteNamespace(const ISharedStorage::ScopeType eScope,const string & ns,Success & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void Dispatch(Event event,const JsonObject & params)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult FlushCache()", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetKeys(const ISharedStorageInspector::ScopeType eScope,const string & ns,RPC::IStringIterator * & keys,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetNamespaceStorageLimit(const ISharedStorageLimit::ScopeType eScope,const string & ns,StorageLimit & storageLimit)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetNamespaces(const ISharedStorageInspector::ScopeType eScope,RPC::IStringIterator * & namespaces,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetStorageSizes(const ISharedStorageInspector::ScopeType eScope,INamespaceSizeIterator * & storageList,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetValue(const ISharedStorage::ScopeType eScope,const string & ns,const string & key,string & value,uint32_t & ttl,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Register(ISharedStorage::INotification * notification)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult SetNamespaceStorageLimit(const ISharedStorageLimit::ScopeType eScope,const string & ns,const uint32_t storageLimit,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t SetValue(const ISharedStorage::ScopeType eScope,const string & ns,const string & key,const string & value,const uint32_t ttl,Success & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Unregister(ISharedStorage::INotification * notification)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void ValueChanged(const Exchange::ISharedStorage::ScopeType eScope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void dispatchEvent(Event event,const JsonObject & params)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IStore2 * getRemoteStoreObject(const Exchange::ISharedStorageLimit::ScopeType eScope)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "SharedStorageImplementation * instance(SharedStorageImplementation * SharedStorageImpl)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~SharedStorageImplementation()", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::WorkerPool::Instance().Submit", "notification->AddRef", "notification->Release", "service->QueryInterfaceByCallsign<>()", "LOGINFO", "LOGERR", "TRACE", "ASSERT", "std::find"], "search-terms": ["SharedStorageImplementation", "PersistentStore", "configure", "SetValue", "GetValue", "DeleteKey", "DeleteNamespace", "Notification", "ScopeType", "getRemoteStoreObject", "valueChanged", "register", "unregister", "cache", "limits", "Namespaces", "Keys"], "state": 2, "file_id": 8710, "knowledge_revision": 17306, "git_revision": "", "ctags": [{"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::Configure(PluginHost::IShell* service)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DeleteKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::DeleteKey(const ISharedStorage::ScopeType eScope, cons/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ISharedStorage::ScopeType eScope,const string & ns,const string & key,Success & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DeleteNamespace", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::DeleteNamespace(const ISharedStorage::ScopeType eScope/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ISharedStorage::ScopeType eScope,const string & ns,Success & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    void SharedStorageImplementation::Dispatch(Event event, const JsonObject &params)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Event event,const JsonObject & params)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "FlushCache", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    Core::hresult SharedStorageImplementation::FlushCache()$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetKeys", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::GetKeys(const ISharedStorageInspector::ScopeType eScop/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ISharedStorageInspector::ScopeType eScope,const string & ns,RPC::IStringIterator * & keys,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetNamespaceStorageLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    Core::hresult SharedStorageImplementation::GetNamespaceStorageLimit(const ISharedStorageLimi/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const ISharedStorageLimit::ScopeType eScope,const string & ns,StorageLimit & storageLimit)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetNamespaces", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::GetNamespaces(const ISharedStorageInspector::ScopeType/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ISharedStorageInspector::ScopeType eScope,RPC::IStringIterator * & namespaces,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetStorageSizes", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    Core::hresult SharedStorageImplementation::GetStorageSizes(const ISharedStorageInspector::Sc/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const ISharedStorageInspector::ScopeType eScope,INamespaceSizeIterator * & storageList,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::GetValue(const ISharedStorage::ScopeType eScope, const/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ISharedStorage::ScopeType eScope,const string & ns,const string & key,string & value,uint32_t & ttl,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::Register(ISharedStorage::INotification* notification)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(ISharedStorage::INotification * notification)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SetNamespaceStorageLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    Core::hresult SharedStorageImplementation::SetNamespaceStorageLimit(const ISharedStorageLimi/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const ISharedStorageLimit::ScopeType eScope,const string & ns,const uint32_t storageLimit,bool & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::SetValue(const ISharedStorage::ScopeType eScope, const/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ISharedStorage::ScopeType eScope,const string & ns,const string & key,const string & value,const uint32_t ttl,Success & success)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SharedStorageImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    SharedStorageImplementation::SharedStorageImplementation() : $/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    uint32_t SharedStorageImplementation::Unregister(ISharedStorage::INotification* notification/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(ISharedStorage::INotification * notification)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ValueChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    void SharedStorageImplementation::ValueChanged(const Exchange::ISharedStorage::ScopeType eSc/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Exchange::ISharedStorage::ScopeType eScope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "dispatchEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    void SharedStorageImplementation::dispatchEvent(Event event, const JsonObject &params)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(Event event,const JsonObject & params)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "getRemoteStoreObject", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    Exchange::IStore2* SharedStorageImplementation::getRemoteStoreObject(const Exchange::IShared/", "language": "C++", "typeref": "typename:Exchange::IStore2 *", "kind": "function", "signature": "(const Exchange::ISharedStorageLimit::ScopeType eScope)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    SharedStorageImplementation* SharedStorageImplementation::instance(SharedStorageImplementati/", "language": "C++", "typeref": "typename:SharedStorageImplementation *", "kind": "function", "signature": "(SharedStorageImplementation * SharedStorageImpl)", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~SharedStorageImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "pattern": "/^    SharedStorageImplementation::~SharedStorageImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::SharedStorageImplementation", "scopeKind": "class"}], "hash": "f79aa9f1ac486cf334ddcb05b6bdacc3", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/SharedStorage/SharedStorageImplementation.cpp", "revision_history": [{"17306": ""}]}