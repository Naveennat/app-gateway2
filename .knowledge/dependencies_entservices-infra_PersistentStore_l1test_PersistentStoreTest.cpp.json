{"is_source_file": true, "format": "C++", "description": "This file contains unit tests for the PersistentStore class, using Google Test and Google Mock frameworks. It tests behaviors like moving files during initialization with legacy paths and current paths, and verifies file content handling.", "external_files": ["<gmock/gmock.h>", "<gtest/gtest.h>", "../PersistentStore.h", "ServiceMock.h"], "external_methods": ["::testing::Eq", "::testing::IsFalse", "::testing::IsTrue", "::testing::NiceMock", "::testing::Return", "::testing::Test", "WPEFramework::Core::Service<NiceMock<ServiceMock>>::Create<NiceMock<ServiceMock>>()", "WPEFramework::Core::Service<PersistentStore>::Create<IPlugin>()", "WPEFramework::Core::File::Destroy()", "WPEFramework::Core::Directory::CreatePath()", "WPEFramework::Core::File::Create()", "WPEFramework::Core::File::Write()", "WPEFramework::Core::File::Open()", "WPEFramework::Core::File::Read()"], "published": [], "classes": [{"name": "APersistentStore", "description": "A test fixture class setting up mocks and the plugin instance for PersistentStore related tests."}], "methods": [{"name": "APersistentStore()", "description": "Constructor initializing mock service and plugin instances.", "scope": "APersistentStore", "scopeKind": "class"}, {"name": "~APersistentStore()", "description": "Destructor releasing the plugin and service resources.", "scope": "APersistentStore", "scopeKind": "class"}, {"name": "TEST_F(APersistentStore,MovesFileWhenInitializedWithNewAndPreviousPath)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["WPEFramework::Core::File::Destroy()", "WPEFramework::Core::Directory::CreatePath()", "WPEFramework::Core::File::Create()", "WPEFramework::Core::File::Write()", "plugin->Initialize(service)", "plugin->Deinitialize(service)", "WPEFramework::Core::File::Exists()", "WPEFramework::Core::File::Open()", "WPEFramework::Core::File::Read()"], "search-terms": ["PersistentStoreTest.cpp", "MovesFileWhenInitializedWithNewAndPreviousPath", "kFileContent", "config[\"path\"]", "config[\"legacypath\"]", "Google Test", "Mock"], "state": 2, "file_id": 8484, "knowledge_revision": 17218, "git_revision": "", "ctags": [{"_type": "tag", "name": "APersistentStore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^    APersistentStore()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "APersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "APersistentStore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^class APersistentStore : public Test {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^TEST_F(APersistentStore, MovesFileWhenInitializedWithNewAndPreviousPath)$/", "language": "C++", "kind": "function", "signature": "(APersistentStore,MovesFileWhenInitializedWithNewAndPreviousPath)"}, {"_type": "tag", "name": "kFile1", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^const auto kFile1 = \"\\/tmp\\/persistentstore\\/l0test\\/persistentstoretest1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kFile2", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^const auto kFile2 = \"\\/tmp\\/persistentstore\\/l0test\\/persistentstoretest2\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kFileContent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^const uint8_t kFileContent[12]{ 0x00, 0x01, 0x00, 0x00, 0x00, 0x06, 0xFE, 0x03, 0x01, 0xC1, 0x00/", "language": "C++", "typeref": "typename:const uint8_t[12]", "kind": "variable"}, {"_type": "tag", "name": "kFileContentSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^const auto kFileContentSize = sizeof(kFileContent) \\/ sizeof(uint8_t);$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^    IPlugin* plugin;$/", "file": true, "language": "C++", "typeref": "typename:IPlugin *", "kind": "member", "scope": "APersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "service", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^    NiceMock<ServiceMock>* service;$/", "file": true, "language": "C++", "typeref": "typename:NiceMock<ServiceMock> *", "kind": "member", "scope": "APersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "~APersistentStore", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "pattern": "/^    ~APersistentStore() override$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "APersistentStore", "scopeKind": "class"}], "hash": "a4f5d5fe8e54fca60621aabe2b3d658c", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/PersistentStore/l1test/PersistentStoreTest.cpp", "fields": [{"name": "const auto kFile1", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kFile2", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const uint8_t[12] kFileContent", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kFileContentSize", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "IPlugin * plugin", "scope": "APersistentStore", "scopeKind": "class", "description": "unavailable"}, {"name": "NiceMock<ServiceMock> * service", "scope": "APersistentStore", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"17218": ""}]}