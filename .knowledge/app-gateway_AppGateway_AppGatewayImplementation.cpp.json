{"is_source_file": true, "format": "C++", "description": "Implementation of the AppGateway component, including configuration, resolution management, websocket initialization, request handling, and internal logic for command resolution within the WPEFramework plugin framework.", "external_files": ["<string>", "<plugins/JSONRPC.h>", "<plugins/IShell.h>", "AppGatewayImplementation.h", "UtilsLogging.h", "ContextUtils.h", "ObjectUtils.h", "<fstream>", "<streambuf>", "UtilsConnections.h", "UtilsCallsign.h", "UtilsFirebolt.h"], "external_methods": ["Core::JSON::Container::Add", "Core::JSON::Container::FromString", "Core::JSON::Container::Elements", "Core::JSON::Container::Next", "Core::JSON::Container::Current", "Core::JSON::Container::~Container", "Core::OptionalType::IsSet", "Core::OptionalType::Value", "Core::NodeId::NodeId", "Core::hresult", "Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::ERROR_BAD_REQUEST", "Core::ERROR_INTERNAL", "Core::ERROR_NOT_FOUND", "Core::ERROR_UNAUTHORIZED", "Core::ERROR_TIMEOUT", "Core::ERROR_CLOSED", "Core::ERROR_UNKNOWN", "Core::JSON::ArrayType<Core::JSON::String>", "Core::JSON::Object::FromString", "Core::JSON::Object::ToString", "Core::JSON::Object::operator[]", "Core::WorkerPool::Instance", "Core::IWorkerPool::Submit", "WebSocketConnectionManager::Config", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.Start", "mWsManager.Close", "ObjectUtils::HasBooleanEntry", "ContextUtils::ConvertAppGatewayToProviderContext", "ContextUtils::ConvertAppGatewayToNotificationContext", "ErrorUtils::CustomInitialize", "ErrorUtils::CustomInternal", "ErrorUtils::NotSupported", "ErrorUtils::NotAvailable", "JsonObject::FromString", "JsonObject::ToString", "JsonObject::operator[]"], "published": ["AppGatewayImplementation"], "classes": [{"name": "ResolutionPaths", "description": "Container class for managing resolution paths loaded from JSON configuration"}], "methods": [{"name": "Core::hresult Configure(Exchange::IAppGateway::IStringIterator * const & paths)", "description": "Configures the AppGateway with the shell, initializes resolver and websocket components", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeResolver()", "description": "Initializes the resolver, loads configuration paths from file, and applies override precedence", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeWebsocket()", "description": "Initializes the websocket server and sets message, auth, and disconnect handlers", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult InternalResolutionConfigure(std::vector<std::string> configPaths)", "description": "Processes a list of configuration paths to load resolution data, with later paths overriding earlier ones", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult Respond(const Context & context,const string & payload)", "description": "Handles a response payload to be sent back within the plugin framework", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult Resolve(const Context & context,const string & method,const string & params)", "description": "Resolves a method and parameters to an actual resolution URL or data", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult FetchResolvedData(const Context & context,const string & method,const string & params,const string & origin,string & resolution)", "description": "Retrieves resolution data for a given method and parameters, performing alias resolution and plugin calls", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "string UpdateContext(const Context & context,const string & method,const string & params)", "description": "Adds contextual information into request parameters if includeContext is enabled for the method", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t ProcessComRpcRequest(const Context & context,const string & alias,const string & method,const string & params,string & resolution)", "description": "Attempts to handle a request via COM-RPC via matching callsigns, attempts normalization if initial call fails", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t PreProcessEvent(const Context & context,const string & alias,const string & method,const string & origin,const string & params,string & resolution)", "description": "Prepares event calls, validates 'listen' boolean parameter, and structures response", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "uint32_t PreProcessProvider(const Context & context,const string & method,const string & params,const string & providerCapability,const ProviderMethodType & methodType,const string & origin,string & resolution)", "description": "Handles provider registration, invocation, and response/error handling based on provider capabilities", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "Core::hresult HandleEvent(const Context & context,const string & alias,const string & event,const string & origin,const bool listen)", "description": "Subscribes or unsubscribes to an event notification for a given app", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "void DispatchWsMsg(const std::string & method,const std::string & params,const int requestId,const uint32_t connectionId)", "description": "Dispatches a websocket message by resolving the app ID and performing internal resolution", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "void SendToLaunchDelegate(const Context & context,const string & payload)", "description": "Sends a payload to the internal gateway responder", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "AppGatewayImplementation()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Configure(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::vector<std::string> GetConfigPaths()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult InternalResolve(const Context & context,const string & method,const string & params,const string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "ResolutionPaths()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}, {"name": "__anond8b57c840102(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "bool __anond8b57c840202(const uint32_t connectionId, const std::string &token)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "__anond8b57c840302(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "~AppGatewayImplementation()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~ResolutionPaths()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::WorkerPool::Instance().Submit", "mWsManager.Start", "mService->QueryInterfaceByCallsign", "mResolverPtr->LoadConfig", "mResolverPtr->ResolveAlias", "mResolverPtr->HasEvent", "mResolverPtr->HasProviderCapability", "mResolverPtr->HasComRpcRequestSupport", "mResolverPtr->CallThunderPlugin", "mApp2AppProvider->RegisterProvider", "mApp2AppProvider->InvokeProvider", "mApp2AppProvider->HandleProviderResponse", "mApp2AppProvider->HandleProviderError", "mAppNotifications->Subscribe", "mAppNotifications->Cleanup"], "search-terms": ["AppGatewayImplementation", "InitializeResolver", "InternalResolutionConfigure", "WebSocket", "Resolve", "FetchResolvedData", "COM RPC", "ResolutionPaths", "Configure", "AppGateway"], "state": 2, "file_id": 190, "knowledge_revision": 904, "git_revision": "727800fc84f5393f5ac231785d3764465fe20036", "revision_history": [{"596": "29a5080329e5f08afebd86bd055b5f6119b1301a"}, {"607": "29a5080329e5f08afebd86bd055b5f6119b1301a"}, {"717": "727800fc84f5393f5ac231785d3764465fe20036"}, {"899": "727800fc84f5393f5ac231785d3764465fe20036"}, {"904": "727800fc84f5393f5ac231785d3764465fe20036"}], "ctags": [{"_type": "tag", "name": "APPGATEWAY_SOCKET_ADDRESS", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^#define APPGATEWAY_SOCKET_ADDRESS /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "AppGatewayImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        AppGatewayImplementation::AppGatewayImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::Configure(Exchange::IAppGateway::IStringIterator/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGateway::IStringIterator * const & paths)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::Configure(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_CONFIG_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^#define DEFAULT_CONFIG_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DispatchWsMsg", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        void AppGatewayImplementation::DispatchWsMsg(const std::string &method,$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & method,const std::string & params,const int requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "FetchResolvedData", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::FetchResolvedData(const Context &context, const /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & params,const string & origin,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetConfigPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            std::vector<std::string> GetConfigPaths() {$/", "file": true, "language": "C++", "typeref": "typename:std::vector<std::string>", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}, {"_type": "tag", "name": "HandleEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::HandleEvent(const Context &context, const string/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & alias,const string & event,const string & origin,const bool listen)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeResolver", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::InitializeResolver() {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeWebsocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::InitializeWebsocket(){$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InternalResolutionConfigure", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::InternalResolutionConfigure(std::vector<std::str/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(std::vector<std::string> configPaths)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InternalResolve", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::InternalResolve(const Context &context, const st/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & params,const string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "PreProcessEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::PreProcessEvent(const Context &context, const string&/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Context & context,const string & alias,const string & method,const string & origin,const string & params,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "PreProcessProvider", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::PreProcessProvider(const Context &context, const stri/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Context & context,const string & method,const string & params,const string & providerCapability,const ProviderMethodType & methodType,const string & origin,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ProcessComRpcRequest", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        uint32_t AppGatewayImplementation::ProcessComRpcRequest(const Context &context, const st/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const Context & context,const string & alias,const string & method,const string & params,string & resolution)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ResolutionPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            ResolutionPaths()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}, {"_type": "tag", "name": "ResolutionPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        class ResolutionPaths : public Core::JSON::Container$/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Resolve", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::Resolve(const Context &context, const string &me/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayImplementation::Respond(const Context &context, const string &pa/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SendToLaunchDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        void AppGatewayImplementation::SendToLaunchDelegate(const Context& context, const string/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "UpdateContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        string AppGatewayImplementation::UpdateContext(const Context &context, const string& met/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const Context & context,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anond8b57c840102", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anond8b57c840202", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t connectionId, const std::string &token) ", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anond8b57c840302", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "paths", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            Core::JSON::ArrayType<Core::JSON::String> paths;$/", "file": true, "language": "C++", "typeref": "typename:Core::JSON::ArrayType<Core::JSON::String>", "kind": "member", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}, {"_type": "tag", "name": "~AppGatewayImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^        AppGatewayImplementation::~AppGatewayImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~ResolutionPaths", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.cpp", "pattern": "/^            ~ResolutionPaths()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class"}], "hash": "8886ef58cd12418896442fb49b0531cd", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/AppGateway/AppGatewayImplementation.cpp", "fields": [{"name": "Core::JSON::ArrayType<Core::JSON::String> paths", "scope": "WPEFramework::Plugin::ResolutionPaths", "scopeKind": "class", "description": "unavailable"}]}