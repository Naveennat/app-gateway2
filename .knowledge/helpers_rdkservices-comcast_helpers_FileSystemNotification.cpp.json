{"is_source_file": true, "format": "C++", "description": "This file implements the FileSystemNotification class, which utilizes inotify to watch for filesystem changes such as file creation and deletion within specified directories. It manages starting/stopping the watch, handling inotify events, and managing directory watch registrations.", "external_files": ["FileSystemNotification.h", "utils.h"], "external_methods": ["inotify_init", "inotify_rm_watch", "inotify_add_watch", "read", "close", "strerror"], "published": ["FileSystemNotification"], "classes": [{"name": "FileSystemNotification", "description": "A class that monitors filesystem changes using inotify, allowing registration of directory watches and handling file creation/deletion events."}], "methods": [{"name": "FileSystemNotification()", "description": "Constructor that initializes the inotify file descriptor.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"name": "~FileSystemNotification()", "description": "Destructor that stops the monitoring thread, clears directory watches, and closes the inotify file descriptor.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"name": "bool start()", "description": "Starts the observation by launching a thread that runs the event loop.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"name": "bool stop()", "description": "Stops the observation, joins the thread, and cleans up.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"name": "void loop()", "description": "Main event loop that reads inotify events and processes them.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"name": "void handleDirectoryNotif(inotify_event * event)", "description": "Handles individual inotify events, invoking callbacks for file creation/deletion or removing watches for ignored events.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"name": "bool addDirectoryWatch(const std::string & path,const FileChangeCallback & onFileCreationCallback,const FileChangeCallback & onFileDeletionCallback)", "description": "Registers a directory for monitoring, specifying callbacks for file creation and deletion.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"name": "void clear()", "description": "Removes all directory watches and clears internal data.", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}], "calls": ["inotify_init", "close", "read", "inotify_rm_watch", "inotify_add_watch", "strerror"], "search-terms": ["FileSystemNotification", "inotify", "directoryWatches", "watch", "event handling"], "state": 2, "file_id": 8474, "knowledge_revision": 17621, "git_revision": "bc95ad096bdaa0d2d554ecfc4389c78048005d56", "ctags": [{"_type": "tag", "name": "FileSystemNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^FileSystemNotification::FileSystemNotification()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^namespace Plugin       {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "addDirectoryWatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^bool FileSystemNotification::addDirectoryWatch(const std::string &path,$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & path,const FileChangeCallback & onFileCreationCallback,const FileChangeCallback & onFileDeletionCallback)", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "clear", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^void FileSystemNotification::clear()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "handleDirectoryNotif", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^void FileSystemNotification::handleDirectoryNotif(inotify_event *event)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(inotify_event * event)", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "loop", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^void FileSystemNotification::loop()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^bool FileSystemNotification::start()$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "stop", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^bool FileSystemNotification::stop()$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "~FileSystemNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "pattern": "/^FileSystemNotification::~FileSystemNotification()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}], "hash": "2c436b70e29f6f9e8f2f321f4bdb5242", "format-version": 4, "code-base-name": "app-gateway2", "filename": "helpers/rdkservices-comcast/helpers/FileSystemNotification.cpp", "revision_history": [{"17621": "bc95ad096bdaa0d2d554ecfc4389c78048005d56"}]}