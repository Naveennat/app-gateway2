{"is_source_file": true, "format": "C++", "description": "This file 'DeviceBridgeUtils.cpp' contains utility functions related to device bridge operations, including performing HTTP requests via libcurl, managing WebSocket client interactions, processing JSON responses to identify foreground applications, and handling persistent storage through JSON-RPC calls. It also includes some application-specific logic such as launching apps and querying app status.", "external_files": ["../helpers/WebSockets/SimpleWSClient.h", "../helpers/utils.h", "<curl/curl.h>", "<core/JSON.h>"], "external_methods": ["LOGERR", "LOGINFO"], "published": [], "classes": [], "methods": [{"name": "size_t writeCurlResponse(void * ptr,size_t size,size_t nmemb,string * stream)", "description": "A callback function to handle the response data received via CURL and append it to a string stream.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "string getCurlResponse(const string & url,const string & requestData=\"\")", "description": "Performs an HTTP request (GET or POST) using libcurl and returns the response as a string.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "const std::string getHostForegroupAppID()", "description": "Connects to a WebSocket server to retrieve the app ID of the foreground application.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "bool checkHostInstalledAppIsCherry(const string & appID)", "description": "Checks whether a given app ID corresponds to a 'cherry' app by querying installed apps.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "bool launchAMP(const std::string & appID,const std::string & appContentData)", "description": "Launches an app with specified app ID and content data, using a curl request.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "std::string callPersistentStoreRPC(const std::string & method,const std::string & appID,const std::string & key,const std::string & scope=\"\",const std::string & value=\"\")", "description": "Performs a JSON-RPC call to the persistent storage, either via Thunder platform or local curl request.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "std::string getAppToken(const std::string & appID,const std::string & key,const std::string & scope)", "description": "Retrieves a token associated with an app ID from persistent storage.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "bool setAppToken(const std::string & appID,const std::string & key,const std::string & value,const std::string & scope)", "description": "Stores a token associated with an app ID into persistent storage.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"name": "bool deleteAppToken(const std::string & appID,const std::string & key,const std::string & scope)", "description": "Deletes a token associated with an app ID from persistent storage.", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}], "calls": ["curl_easy_init", "curl_easy_setopt", "curl_easy_perform", "curl_easy_cleanup", "client.connectAndSendRequest", "client.getResponse"], "search-terms": ["DeviceBridgeUtils", "getHostForegroupAppID", "launchAMP", "PersistentStore", "JSONRPC", "WebSockets"], "state": 2, "file_id": 6445, "knowledge_revision": 12795, "git_revision": "656612693ac36914a0cc6df82aaadeb43262f518", "ctags": [{"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "callPersistentStoreRPC", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^std::string callPersistentStoreRPC(const std::string &method, const std::string &appID, const st/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const std::string & method,const std::string & appID,const std::string & key,const std::string & scope=\"\",const std::string & value=\"\")", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "checkHostInstalledAppIsCherry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^bool checkHostInstalledAppIsCherry(const string &appID) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & appID)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "deleteAppToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^bool deleteAppToken(const std::string &appID, const std::string &key, const std::string &scope) /", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & appID,const std::string & key,const std::string & scope)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "getAppToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^std::string getAppToken(const std::string &appID, const std::string &key, const std::string &sco/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const std::string & appID,const std::string & key,const std::string & scope)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "getCurlResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^string getCurlResponse(const string &url, const string &requestData = \"\") {$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const string & url,const string & requestData=\"\")", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "getHostForegroupAppID", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^const std::string getHostForegroupAppID() {$/", "language": "C++", "typeref": "typename:const std::string", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "launchAMP", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^bool launchAMP(const std::string &appID, const std::string &appContentData) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & appID,const std::string & appContentData)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "setAppToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^bool setAppToken(const std::string &appID, const std::string &key, const std::string &value, con/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & appID,const std::string & key,const std::string & value,const std::string & scope)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "writeCurlResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "pattern": "/^static size_t writeCurlResponse(void *ptr, size_t size, size_t nmemb, string *stream) {$/", "file": true, "language": "C++", "typeref": "typename:size_t", "kind": "function", "signature": "(void * ptr,size_t size,size_t nmemb,string * stream)", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}], "hash": "4e5ed27a762536f97ea6b2813d5d1612", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/DeviceBridge/DeviceBridgeUtils.cpp", "revision_history": [{"12795": "656612693ac36914a0cc6df82aaadeb43262f518"}]}