{"is_source_file": true, "format": "C++", "description": "This file defines the implementation of the DobbyEventListener class, which is responsible for listening to container events such as start, stop, failure, and state changes, and forwarding these events to a runtime manager via registered callbacks. It includes methods for initialization, deinitialization, and event handling notifications.", "external_files": ["DobbyEventListener.h", "UtilsLogging.h", "tracing/Logging.h", "<interfaces/IRuntimeManager.h>"], "external_methods": ["LOGINFO", "LOGERR", "Core::hresult", "Core::ERROR_NONE", "mOCIContainerObject->Register", "mOCIContainerObject->Unregister"], "published": ["DobbyEventListener::initialize", "DobbyEventListener::deinitialize", "DobbyEventListener::OCIContainerNotification::OnContainerStarted", "DobbyEventListener::OCIContainerNotification::OnContainerStopped", "DobbyEventListener::OCIContainerNotification::OnContainerFailed", "DobbyEventListener::OCIContainerNotification::OnContainerStateChanged"], "classes": [{"name": "DobbyEventListener", "description": "Main class responsible for listening to container events and forwarding notifications to the runtime manager.", "methods": [{"name": "DobbyEventListener", "description": "Constructor that initializes the notification handler and logger."}, {"name": "~DobbyEventListener", "description": "Destructor that logs the deletion of the instance."}, {"name": "initialize", "description": "Initializes the listener with the service shell, event handler, and OCI container object, and registers for notifications."}, {"name": "deinitialize", "description": "Unregisters notifications and cleans up the OCI container reference."}], "nested_classes": [{"name": "OCIContainerNotification", "description": "Inner class implementing the notification callbacks for container events, such as start, stop, fail, and state changes.", "methods": [{"name": "OnContainerStarted", "description": "Handles container start event, constructs JSON data, and sends to runtime manager."}, {"name": "OnContainerStopped", "description": "Handles container stop event, constructs JSON data, and sends to runtime manager."}, {"name": "OnContainerFailed", "description": "Handles container failure event, constructs JSON data including error code, and sends to runtime manager."}, {"name": "OnContainerStateChanged", "description": "Handles container state change events, maps container states to runtime states, and forwards event with data."}]}]}], "methods": [{"name": "DobbyEventListener()", "description": "Constructor", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"name": "~DobbyEventListener()", "description": "Destructor", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"name": "bool initialize(PluginHost::IShell * service,IEventHandler * eventHandler,Exchange::IOCIContainer * ociContainerObject)", "description": "Initializes the event listener and registers notification callbacks.", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"name": "bool deinitialize()", "description": "Unregisters notifications and cleans up references.", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"name": "void OnContainerFailed(const string & containerId,const string & name,uint32_t error)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnContainerStarted(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnContainerStateChanged(const string & containerId,Exchange::IOCIContainer::ContainerState state)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnContainerStopped(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}], "calls": ["mOCIContainerObject->Register", "mOCIContainerObject->Unregister", "LOGINFO", "LOGERR", "SEND_EVENT_TO_RUNTIME_MANAGER"], "search-terms": ["DobbyEventListener", "OCIContainerNotification", "container events", "RuntimeManager", "register notification", "container state change", "event handler"], "state": 2, "file_id": 7861, "knowledge_revision": 15925, "git_revision": "", "ctags": [{"_type": "tag", "name": "DobbyEventListener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        DobbyEventListener::DobbyEventListener()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerFailed", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerFailed(const string& conta/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name,uint32_t error)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStarted", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStarted(const string& cont/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStateChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStateChanged(const string&/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,Exchange::IOCIContainer::ContainerState state)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStopped", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStopped(const string& cont/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^    namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SEND_EVENT_TO_RUNTIME_MANAGER", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^#define SEND_EVENT_TO_RUNTIME_MANAGER(/", "file": true, "language": "C++", "kind": "macro", "signature": "(eventMethod,name,data)"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        bool DobbyEventListener::deinitialize()$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        bool DobbyEventListener::initialize(PluginHost::IShell* service, IEventHandler* eventHan/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::IShell * service,IEventHandler * eventHandler,Exchange::IOCIContainer * ociContainerObject)", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "~DobbyEventListener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        DobbyEventListener::~DobbyEventListener()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}], "hash": "81ed2ab38ed6a13c2210388d2ee4fe8e", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "revision_history": [{"15925": ""}]}