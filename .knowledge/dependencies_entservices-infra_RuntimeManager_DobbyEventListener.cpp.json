{"is_source_file": true, "format": "C++", "description": "This file implements the DobbyEventListener class, which handles OCI container events such as start, stop, failure, and state changes. It registers with an OCI container, listens for events, logs information, and forwards events to a runtime manager.", "external_files": ["DobbyEventListener.h", "UtilsLogging.h", "tracing/Logging.h", "interfaces/IRuntimeManager.h"], "external_methods": ["IOCIContainer::Register", "IOCIContainer::Unregister", "LOGERR", "LOGINFO", "Core::hresult", "Core::ERROR_NONE", "JsonObject::operator[]"], "published": ["DobbyEventListener", "DobbyEventListener::initialize", "DobbyEventListener::deinitialize"], "classes": [{"name": "DobbyEventListener", "description": "A listener class for OCI container events, handling notifications such as start, stop, failure, and state changes via callbacks."}, {"name": "DobbyEventListener::OCIContainerNotification", "description": "Nested class implementing OCI container event callbacks."}], "methods": [{"name": "DobbyEventListener::DobbyEventListener", "description": "Constructor, initializes members and logs creation."}, {"name": "DobbyEventListener::~DobbyEventListener", "description": "Destructor, logs deletion."}, {"name": "DobbyEventListener::initialize", "description": "Initializes the listener, registers with OCI container, and sets the event handler."}, {"name": "DobbyEventListener::deinitialize", "description": "Unregisters from OCI container and cleans up."}, {"name": "DobbyEventListener::OCIContainerNotification::OnContainerStarted", "description": "Handles container started event, constructs data and sends notification."}, {"name": "DobbyEventListener::OCIContainerNotification::OnContainerStopped", "description": "Handles container stopped event, constructs data and sends notification."}, {"name": "DobbyEventListener::OCIContainerNotification::OnContainerFailed", "description": "Handles container failure event, constructs data and sends notification."}, {"name": "DobbyEventListener::OCIContainerNotification::OnContainerStateChanged", "description": "Handles container state change event, maps container state to runtime state, constructs data, logs, and sends notification."}, {"name": "DobbyEventListener()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnContainerFailed(const string & containerId,const string & name,uint32_t error)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnContainerStarted(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnContainerStateChanged(const string & containerId,Exchange::IOCIContainer::ContainerState state)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnContainerStopped(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "bool deinitialize()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class", "description": "unavailable"}, {"name": "bool initialize(PluginHost::IShell * service,IEventHandler * eventHandler,Exchange::IOCIContainer * ociContainerObject)", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class", "description": "unavailable"}, {"name": "~DobbyEventListener()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class", "description": "unavailable"}], "calls": ["mOCIContainerObject->Register", "mOCIContainerObject->Unregister", "LOGERR", "LOGINFO", "SEND_EVENT_TO_RUNTIME_MANAGER"], "search-terms": ["DobbyEventListener", "OCIContainerNotification", "onOCIContainerStartedEvent", "onOCIContainerStoppedEvent", "onOCIContainerFailureEvent", "onOCIContainerStateChangedEvent", "Register", "Unregister", "ContainerState", "RuntimeManager"], "state": 2, "file_id": 4195, "knowledge_revision": 8460, "git_revision": "", "ctags": [{"_type": "tag", "name": "DobbyEventListener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        DobbyEventListener::DobbyEventListener()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerFailed", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerFailed(const string& conta/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name,uint32_t error)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStarted", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStarted(const string& cont/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStateChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStateChanged(const string&/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,Exchange::IOCIContainer::ContainerState state)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStopped", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStopped(const string& cont/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^    namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SEND_EVENT_TO_RUNTIME_MANAGER", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^#define SEND_EVENT_TO_RUNTIME_MANAGER(/", "file": true, "language": "C++", "kind": "macro", "signature": "(eventMethod,name,data)"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        bool DobbyEventListener::deinitialize()$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        bool DobbyEventListener::initialize(PluginHost::IShell* service, IEventHandler* eventHan/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::IShell * service,IEventHandler * eventHandler,Exchange::IOCIContainer * ociContainerObject)", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "~DobbyEventListener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        DobbyEventListener::~DobbyEventListener()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}], "hash": "81ed2ab38ed6a13c2210388d2ee4fe8e", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "revision_history": [{"8460": ""}]}