{"is_source_file": true, "format": "C++", "description": "This file implements a C++ class named DobbyEventListener that manages OCI container events, including registration, notification handling, and state change mappings, and communicates with a runtime manager.", "external_files": ["DobbyEventListener.h", "UtilsLogging.h", "tracing/Logging.h", "<interfaces/IRuntimeManager.h>"], "external_methods": ["mOCIContainerObject->Register", "mOCIContainerObject->Unregister", "LOGERR", "LOGINFO", "Core::hresult"], "published": ["DobbyEventListener"], "classes": [{"name": "DobbyEventListener", "description": "A class that listens to OCI container events and propagates them to the runtime manager, implementing registration, deinitialization, and event notification."}, {"name": "DobbyEventListener::OCIContainerNotification", "description": "Nested class within DobbyEventListener that handles specific container notifications such as start, stop, failure, and state changes."}], "methods": [{"name": "bool initialize(PluginHost::IShell * service,IEventHandler * eventHandler,Exchange::IOCIContainer * ociContainerObject)", "description": "Sets up the OCI container object for notifications and registers the notification handler.", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"name": "bool deinitialize()", "description": "Unregisters the OCI container notification handler and cleans up.", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"name": "void OnContainerStarted(const string & containerId,const string & name)", "description": "Handles container start event, constructs a JSON object, and sends an 'onOCIContainerStartedEvent'.", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"name": "void OnContainerStopped(const string & containerId,const string & name)", "description": "Handles container stop event and propagates it similarly.", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"name": "void OnContainerFailed(const string & containerId,const string & name,uint32_t error)", "description": "Handles container failure event with error code, prepares data, and notifies via runtime manager.", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"name": "void OnContainerStateChanged(const string & containerId,Exchange::IOCIContainer::ContainerState state)", "description": "Maps container state to runtime manager state, creates event data, and sends notification.", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"name": "DobbyEventListener()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class", "description": "unavailable"}, {"name": "~DobbyEventListener()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class", "description": "unavailable"}], "calls": ["mOCIContainerObject->Register", "mOCIContainerObject->Unregister", "LOGERR", "LOGINFO", "SEND_EVENT_TO_RUNTIME_MANAGER", "JsonObject::operator[]", "static_cast"], "search-terms": ["DobbyEventListener", "OCIContainerNotification", "onOCIContainerStartedEvent", "onOCIContainerStoppedEvent", "onOCIContainerFailureEvent", "onOCIContainerStateChangedEvent", "ContainerState", "RuntimeManager"], "state": 2, "file_id": 4728, "knowledge_revision": 9689, "git_revision": "", "ctags": [{"_type": "tag", "name": "DobbyEventListener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        DobbyEventListener::DobbyEventListener()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerFailed", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerFailed(const string& conta/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name,uint32_t error)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStarted", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStarted(const string& cont/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStateChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStateChanged(const string&/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,Exchange::IOCIContainer::ContainerState state)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnContainerStopped", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        void DobbyEventListener::OCIContainerNotification::OnContainerStopped(const string& cont/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & containerId,const string & name)", "scope": "WPEFramework::Plugin::DobbyEventListener::OCIContainerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^    namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SEND_EVENT_TO_RUNTIME_MANAGER", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^#define SEND_EVENT_TO_RUNTIME_MANAGER(/", "file": true, "language": "C++", "kind": "macro", "signature": "(eventMethod,name,data)"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        bool DobbyEventListener::deinitialize()$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        bool DobbyEventListener::initialize(PluginHost::IShell* service, IEventHandler* eventHan/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::IShell * service,IEventHandler * eventHandler,Exchange::IOCIContainer * ociContainerObject)", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}, {"_type": "tag", "name": "~DobbyEventListener", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "pattern": "/^        DobbyEventListener::~DobbyEventListener()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DobbyEventListener", "scopeKind": "class"}], "hash": "81ed2ab38ed6a13c2210388d2ee4fe8e", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RuntimeManager/DobbyEventListener.cpp", "revision_history": [{"9689": ""}]}