{"is_source_file": true, "format": "C++ header (.h)", "description": "This header file defines the `USBDeviceImplementation` class within the WPEFramework.Plugin namespace, which implements the `Exchange::IUSBDevice` interface. It includes method declarations for managing USB devices, handling hotplug events, retrieving device information, and driver binding/unbinding. The class also defines nested `Job` class for dispatching events and manages USB device notifications, USB context initialization, and event handling threads.", "external_files": ["Module.h", "interfaces/Ids.h", "interfaces/IUSBDevice.h", "tracing/Logging.h", "com/com.h", "core/core.h", "plugins/plugins.h", "libusb.h"], "external_methods": ["Core::proxy_cast", "Core::ProxyType<Core::IDispatch>::Create", "Core::CriticalSection", "Core::Thread", "Core::ProxyType", "Core::IDispatch", "Exchange::IUSBDevice", "Exchange::IUSBDevice::INotification"], "published": ["instance", "Register", "Unregister", "GetDeviceList", "GetDeviceInfo", "BindDriver", "UnbindDriver"], "classes": [{"name": "USBDeviceImplementation", "description": "Implementation of a USB device management class interfacing with libusb, handling device enumeration, notifications, hotplug events, and driver management."}, {"name": "Job", "description": "Nested class within USBDeviceImplementation to handle asynchronous dispatch of USB device events."}], "methods": [{"name": "USBDeviceImplementation", "description": "Constructor initializing the USB device implementation."}, {"name": "~USBDeviceImplementation", "description": "Destructor for cleaning up resources."}, {"name": "instance", "description": "Static method for singleton or instance management of USBDeviceImplementation."}, {"name": "Register", "description": "Registers a notification callback for USB device events."}, {"name": "Unregister", "description": "Unregisters a notification callback."}, {"name": "GetDeviceList", "description": "Retrieves the list of connected USB devices."}, {"name": "GetDeviceInfo", "description": "Obtains detailed information for a specific USB device by name."}, {"name": "BindDriver", "description": "Binds a driver to the specified USB device."}, {"name": "UnbindDriver", "description": "Unbinds the driver from the specified USB device."}, {"name": "dispatchEvent", "description": "Handles internal event dispatching to registered notifications."}, {"name": "void Dispatch()", "description": "Public method to dispatch USB device events.", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}, {"name": "libUSBInit", "description": "Initializes the libusb context."}, {"name": "libUSBClose", "description": "Closes the libusb context."}, {"name": "getUSBDevicClassFromInterfaceDescriptor", "description": "Retrieves the device class from a device interface descriptor."}, {"name": "getDevicePathFromDevice", "description": "Gets the device path and serial number from a libusb device."}, {"name": "getDeviceSerialNumber", "description": "Fetches the serial number for a libusb device."}, {"name": "getUSBDescriptorValue", "description": "Retrieves a string descriptor value from a device handle."}, {"name": "getUSBExtInfoStructFromDeviceDescriptor", "description": "Extracts extended device info from a device descriptor."}, {"name": "getUSBDeviceInfoStructFromDeviceDescriptor", "description": "Constructs a device info structure from a device descriptor."}, {"name": "getUSBDeviceStructFromDeviceDescriptor", "description": "Builds a USB device structure from a device descriptor."}, {"name": "libUSBHotPlugCallbackDeviceAttached", "description": "Callback invoked when a USB device is attached."}, {"name": "libUSBHotPlugCallbackDeviceDetached", "description": "Callback invoked when a USB device is detached."}, {"name": "libUSBEventsHandlingThread", "description": "Thread function to handle libusb event processing."}, {"name": "Core::ProxyType<Core::IDispatch> Create(USBDeviceImplementation * usbDeviceImplementation,Event event,Exchange::IUSBDevice::USBDevice usbDevice)", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "Job(USBDeviceImplementation * usbDeviceImplementation,Event event,Exchange::IUSBDevice::USBDevice & usbDevice)", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "~Job()", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::proxy_cast", "Core::ProxyType<Core::IDispatch>::Create", "Core::CriticalSection", "Core::Thread::Create", "Core::ProxyType", "Disconnect::Dispatch", "libusb_init", "libusb_exit", "libusb_get_device_descriptor", "libusb_open", "libusb_close", "libusb_get_string_descriptor_ascii", "libusb_hotplug_register_callback", "libusb_handle_events"], "search-terms": ["USBDevice", "libusb", "HotPlug", "USBDeviceInfo", "GetDeviceList", "BindDriver", "UnbindDriver"], "state": 2, "file_id": 7434, "knowledge_revision": 14833, "git_revision": "", "ctags": [{"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^            static Core::ProxyType<Core::IDispatch> Create(USBDeviceImplementation *usbDeviceImp/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::IDispatch>", "kind": "function", "signature": "(USBDeviceImplementation * usbDeviceImplementation,Event event,Exchange::IUSBDevice::USBDevice usbDevice)", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^            virtual void Dispatch() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^        enum Event {$/", "language": "C++", "kind": "enum", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^             Job(USBDeviceImplementation *usbDeviceImplementation, Event event, Exchange::IUSBDe/", "language": "C++", "kind": "function", "signature": "(USBDeviceImplementation * usbDeviceImplementation,Event event,Exchange::IUSBDevice::USBDevice & usbDevice)", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^        class EXTERNAL Job : public Core::IDispatch {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "LIBUSB_CONFIG_ATT_SELF_POWERED", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^#define LIBUSB_CONFIG_ATT_SELF_POWERED /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "STATUS_BIT_DEVICE_SELF_POWERED", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^#define STATUS_BIT_DEVICE_SELF_POWERED /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "STATUS_BIT_PORT_CONNECTION", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^#define STATUS_BIT_PORT_CONNECTION /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "STATUS_BIT_PORT_DEVICE_SUSPENDED", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^#define STATUS_BIT_PORT_DEVICE_SUSPENDED /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "STATUS_BIT_PORT_ENABLED", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^#define STATUS_BIT_PORT_ENABLED /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "STATUS_BIT_PORT_OVER_CURRENT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^#define STATUS_BIT_PORT_OVER_CURRENT /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "USBDEVICE_HOTPLUG_EVENT_DEVICE_ARRIVED", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^                USBDEVICE_HOTPLUG_EVENT_DEVICE_ARRIVED,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Event", "scopeKind": "enum"}, {"_type": "tag", "name": "USBDEVICE_HOTPLUG_EVENT_DEVICE_LEFT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^                USBDEVICE_HOTPLUG_EVENT_DEVICE_LEFT$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Event", "scopeKind": "enum"}, {"_type": "tag", "name": "USBDeviceImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^    class USBDeviceImplementation : public Exchange::IUSBDevice{$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_adminLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^        mutable Core::CriticalSection _adminLock;$/", "language": "C++", "typeref": "typename:Core::CriticalSection", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^            const Event _event;$/", "language": "C++", "typeref": "typename:const Event", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_handlingUSBDeviceEvents", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^        bool _handlingUSBDeviceEvents;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_hotPlugHandle", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^        libusb_hotplug_callback_handle _hotPlugHandle[2];$/", "language": "C++", "typeref": "typename:libusb_hotplug_callback_handle[2]", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_libUSBDeviceThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^        std::thread *_libUSBDeviceThread;$/", "language": "C++", "typeref": "typename:std::thread *", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_usbDevice", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^            const Exchange::IUSBDevice::USBDevice _usbDevice;$/", "language": "C++", "typeref": "typename:const Exchange::IUSBDevice::USBDevice", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_usbDeviceImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^            USBDeviceImplementation *_usbDeviceImplementation;$/", "language": "C++", "typeref": "typename:USBDeviceImplementation *", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_usbDeviceNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^        std::list<Exchange::IUSBDevice::INotification*> _usbDeviceNotification;$/", "language": "C++", "typeref": "typename:std::list<Exchange::IUSBDevice::INotification * >", "kind": "member", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "pattern": "/^            ~Job() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class"}], "hash": "3bf521171a5729bc6e741f4ab18ad963", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/USBDevice/USBDeviceImplementation.h", "fields": [{"name": "Core::CriticalSection _adminLock", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "const Event _event", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "bool _handlingUSBDeviceEvents", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "libusb_hotplug_callback_handle[2] _hotPlugHandle", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::thread * _libUSBDeviceThread", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "const Exchange::IUSBDevice::USBDevice _usbDevice", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "USBDeviceImplementation * _usbDeviceImplementation", "scope": "WPEFramework::Plugin::USBDeviceImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "std::list<Exchange::IUSBDevice::INotification * > _usbDeviceNotification", "scope": "WPEFramework::Plugin::USBDeviceImplementation", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"14833": ""}]}