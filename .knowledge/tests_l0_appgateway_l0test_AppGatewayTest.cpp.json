{"is_source_file": true, "format": "C++", "description": "This is a test source file for the AppGateway plugin in a C++ project, containing unit tests that verify lifecycle, JSON-RPC handling, resolver configuration, and context conversions for the AppGateway plugin.", "external_files": ["<core/core.h>", "<plugins/IDispatcher.h>", "<AppGateway.h>", "ServiceMock.h", "ContextUtils.h", "../../common/L0Bootstrap.hpp", "../../common/L0Expect.hpp", "../../common/L0TestTypes.hpp"], "external_methods": ["Test_Initialize_WithValidConfig_Succeeds", "Test_Initialize_Twice_Idempotent", "Test_Deinitialize_Twice_NoCrash", "Test_JsonRpc_Registration_And_Unregistration", "Test_Resolve_HappyPath_JSONRPC", "Test_Resolve_MissingFields_BadRequest", "Test_Resolve_ParamsEmpty_DefaultsToEmptyObject", "Test_Resolve_ImplementationError_Propagates", "Test_Resolver_Configure_WithBaseOnly_LoadsOK", "Test_Resolver_Configure_WithOverride_TakesPrecedence", "Test_Resolver_Resolve_UnknownMethod_ReturnsNotFound", "Test_Resolver_Resolve_MalformedParams_ReturnsBadRequest", "Test_Resolver_Configure_InvalidJson_ReturnsError", "Test_Responder_Register_Unregister_Notifications", "Test_Responder_Respond_Success_And_Unavailable", "Test_Responder_Emit_Success_And_Unavailable", "Test_Responder_Request_Success_And_Unavailable", "Test_Responder_GetGatewayConnectionContext_Known_And_Unknown", "Test_ContextUtils_BoundaryValues_Conversions", "Test_Json_Boundary_RequestId_ConnectionId", "Test_Json_Params_Empty_Equals_EmptyObject", "Test_Json_EmptyAppId_BadRequest"], "published": ["Test_Initialize_WithValidConfig_Succeeds", "Test_Initialize_Twice_Idempotent", "Test_Deinitialize_Twice_NoCrash", "Test_JsonRpc_Registration_And_Unregistration", "Test_Resolve_HappyPath_JSONRPC", "Test_Resolve_MissingFields_BadRequest", "Test_Resolve_ParamsEmpty_DefaultsToEmptyObject", "Test_Resolve_ImplementationError_Propagates", "Test_Resolver_Configure_WithBaseOnly_LoadsOK", "Test_Resolver_Configure_WithOverride_TakesPrecedence", "Test_Resolver_Resolve_UnknownMethod_ReturnsNotFound", "Test_Resolver_Resolve_MalformedParams_ReturnsBadRequest", "Test_Resolver_Configure_InvalidJson_ReturnsError", "Test_Responder_Register_Unregister_Notifications", "Test_Responder_Respond_Success_And_Unavailable", "Test_Responder_Emit_Success_And_Unavailable", "Test_Responder_Request_Success_And_Unavailable", "Test_Responder_GetGatewayConnectionContext_Known_And_Unknown", "Test_ContextUtils_BoundaryValues_Conversions", "Test_Json_Boundary_RequestId_ConnectionId", "Test_Json_Params_Empty_Equals_EmptyObject", "Test_Json_EmptyAppId_BadRequest"], "classes": [], "methods": [{"name": "uint32_t Test_Initialize_Deinitialize_HappyPath()", "description": "Tests the initialization and deinitialization lifecycle of the plugin, verifying return values and interface availability.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_JsonRpcResolve_Success()", "description": "Tests successful JSON-RPC resolve request and response handling.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_DirectResolver_Success()", "description": "Tests direct resolver interface's resolve method for a successful resolution.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_JsonRpcResolve_Error_NotPermitted()", "description": "Verifies that not permitted JSON-RPC requests return the appropriate error.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_JsonRpcResolve_Error_NotSupported()", "description": "Verifies that unsupported JSON-RPC methods return the correct error code.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_JsonRpcResolve_Error_NotAvailable()", "description": "Verifies that unavailable methods return the appropriate error.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_JsonRpcResolve_Error_MalformedInput()", "description": "Checks that malformed JSON input results in a bad request error.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_JsonRpcResolve_Error_MissingHandler_WhenResolverMissing()", "description": "Tests the behavior when the resolve handler is missing due to unresolved registration.", "scope": "", "scopeKind": ""}, {"name": "uint32_t Test_ContextUtils_Conversions()", "description": "Validates conversions between internal context structures and JSON representations.", "scope": "", "scopeKind": ""}, {"name": "PluginAndService(const L0Test::ServiceMock::Config & cfg={})", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::string ResolveParamsJson(const std::string & method,const std::string & paramsJson=\"{}\")", "scope": "__anon45ed92a70111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "int main()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "~PluginAndService()", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}], "calls": ["ps.plugin->Initialize(ps.service)", "dispatcher->Invoke", "dispatcher->Release", "ps.plugin->Deinitialize(ps.service)", "ExpectEqStr", "ExpectTrue"], "search-terms": ["AppGateway", "JSONRPC", "resolve", "deinitialize", "Initialize", "ContextUtils", "Resolver", "Responder", "l0test"], "state": 2, "file_id": 8723, "knowledge_revision": 17533, "git_revision": "cf028738bf66c813af92440a70b244b3fb69b6e5", "revision_history": [{"17460": "38797c4bc83e2126344582c481ee13353f4a311e"}, {"17533": "cf028738bf66c813af92440a70b244b3fb69b6e5"}], "ctags": [{"_type": "tag", "name": "Case", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^    struct Case {$/", "file": true, "language": "C++", "kind": "struct", "scope": "main", "scopeKind": "function"}, {"_type": "tag", "name": "PluginAndService", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^    explicit PluginAndService(const L0Test::ServiceMock::Config& cfg = {})$/", "file": true, "language": "C++", "kind": "function", "signature": "(const L0Test::ServiceMock::Config & cfg={})", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct"}, {"_type": "tag", "name": "PluginAndService", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^struct PluginAndService {$/", "file": true, "language": "C++", "kind": "struct", "scope": "__anon45ed92a70111", "scopeKind": "namespace"}, {"_type": "tag", "name": "ResolveParamsJson", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static std::string ResolveParamsJson(const std::string& method, const std::string& paramsJson = /", "file": true, "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const std::string & method,const std::string & paramsJson=\"{}\")", "scope": "__anon45ed92a70111", "scopeKind": "namespace"}, {"_type": "tag", "name": "Test_ContextUtils_Conversions", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_ContextUtils_Conversions()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_DirectResolver_Success", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_DirectResolver_Success()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_Initialize_Deinitialize_HappyPath", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_Initialize_Deinitialize_HappyPath()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_JsonRpcResolve_Error_MalformedInput", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_JsonRpcResolve_Error_MalformedInput()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_JsonRpcResolve_Error_MissingHandler_WhenResolverMissing", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_JsonRpcResolve_Error_MissingHandler_WhenResolverMissing()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_JsonRpcResolve_Error_NotAvailable", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_JsonRpcResolve_Error_NotAvailable()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_JsonRpcResolve_Error_NotPermitted", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_JsonRpcResolve_Error_NotPermitted()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_JsonRpcResolve_Error_NotSupported", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_JsonRpcResolve_Error_NotSupported()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "Test_JsonRpcResolve_Success", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^static uint32_t Test_JsonRpcResolve_Success()$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "__anon45ed92a70111", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "fn", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^        uint32_t (*fn)();$/", "file": true, "language": "C++", "typeref": "typename:uint32_t (*)()", "kind": "member", "scope": "main::Case", "scopeKind": "struct"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^int main()$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^        const char* name;$/", "file": true, "language": "C++", "typeref": "typename:const char *", "kind": "member", "scope": "main::Case", "scopeKind": "struct"}, {"_type": "tag", "name": "plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^    IPlugin* plugin { nullptr };$/", "file": true, "language": "C++", "typeref": "typename:IPlugin *", "kind": "member", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct"}, {"_type": "tag", "name": "service", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^    L0Test::ServiceMock* service { nullptr };$/", "file": true, "language": "C++", "typeref": "typename:L0Test::ServiceMock *", "kind": "member", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct"}, {"_type": "tag", "name": "~PluginAndService", "path": "/home/kavia/workspace/code-generation/app-gateway2/tests/l0/appgateway/l0test/AppGatewayTest.cpp", "pattern": "/^    ~PluginAndService()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct"}], "hash": "4a3235f99d9ff2e74fcd5c015914bdb5", "format-version": 4, "code-base-name": "app-gateway2", "filename": "tests/l0/appgateway/l0test/AppGatewayTest.cpp", "fields": [{"name": "uint32_t (*)() fn", "scope": "main::Case", "scopeKind": "struct", "description": "unavailable"}, {"name": "const char * name", "scope": "main::Case", "scopeKind": "struct", "description": "unavailable"}, {"name": "IPlugin * plugin", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}, {"name": "L0Test::ServiceMock * service", "scope": "__anon45ed92a70111::PluginAndService", "scopeKind": "struct", "description": "unavailable"}]}