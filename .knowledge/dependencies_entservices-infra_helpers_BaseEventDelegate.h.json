{"is_source_file": true, "format": "C++ header", "description": "This file defines the BaseEventDelegate class, which manages event notifications, including registration, dispatching, and removal of notification emitters. It supports thread-safe handling of notifications in a multithreaded environment, utilizing mutexes and sets to manage emitters per event name.", "external_files": ["StringUtils.h", "<interfaces/IAppNotifications.h>", "UtilsLogging.h", "UtilsCallsign.h"], "external_methods": ["StringUtils::toLower", "Core::IDispatch::Dispatch", "Core::ProxyType<Core::IDispatch>::Create", "Core::IWorkerPool::Instance().Submit"], "published": ["HandleEvent", "Dispatch", "DispatchToAppNotifications", "AddNotification", "IsNotificationRegistered", "GetEmittersForNotification", "RemoveNotification"], "classes": [{"name": "BaseEventDelegate", "description": "Manages registration and dispatching of event notifications, including thread-safe add/remove and retrieval of emitter objects for specific events. Contains an inner class, EventDelegateDispatchJob, for asynchronous dispatching."}, {"name": "BaseEventDelegate::EventDelegateDispatchJob", "description": "A nested class that represents a dispatch job, holding references to the delegate, event, and payload, and implementing the dispatch method to invoke notifications."}], "methods": [{"name": "void Dispatch()", "description": "Logs the event details, checks notification registration, and submits an asynchronous job to dispatch the event.", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}, {"name": "bool DispatchToAppNotifications(const string & event,const string & payload)", "description": "Retrieves emitters for an event, emits notifications to each emitter, and manages reference counts.", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"name": "void AddNotification(const string & event,Exchange::IAppNotificationHandler::IEmitter * cb)", "description": "Registers an emitter for a specific event, adding it to the internal map with proper thread safety.", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"name": "bool IsNotificationRegistered(const string & event)", "description": "Checks if a specific event name is currently registered.", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"name": "std::unordered_set<Exchange::IAppNotificationHandler::IEmitter * > GetEmittersForNotification(const string & event)", "description": "Retrieves all emitters registered for a given event.", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"name": "void RemoveNotification(const string & event,Exchange::IAppNotificationHandler::IEmitter * cb)", "description": "Removes a specific emitter from a registered event or all events associated with an emitter if no specific event name is provided.", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"name": "BaseEventDelegate()", "scope": "BaseEventDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyType<Core::IDispatch> Create(BaseEventDelegate * parent,const string & event,const string & payload)", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Dispatch(const string & event,const string & payload)", "scope": "BaseEventDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "EventDelegateDispatchJob(BaseEventDelegate * delegate,const string & event,const string & payload)", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class", "description": "unavailable"}, {"name": "~BaseEventDelegate()", "scope": "BaseEventDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "~EventDelegateDispatchJob()", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class", "description": "unavailable"}], "calls": ["LOGDBG", "LOGERR", "StringUtils::toLower", "Core::IDispatch::Dispatch", "Core::ProxyType<Core::IDispatch>::Create", "Core::IWorkerPool::Instance().Submit"], "search-terms": ["BaseEventDelegate", "EventDelegateDispatchJob", "notification management", "thread-safe event handling", "emitter registration"], "state": 2, "file_id": 1821, "knowledge_revision": 3764, "git_revision": "", "ctags": [{"_type": "tag", "name": "AddNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    void AddNotification(const string &event, Exchange::IAppNotificationHandler::IEmitter *cb)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & event,Exchange::IAppNotificationHandler::IEmitter * cb)", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "BaseEventDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    BaseEventDelegate() : mRegisteredNotifications(),$/", "language": "C++", "kind": "function", "signature": "()", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "BaseEventDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^class BaseEventDelegate$/", "language": "C++", "kind": "class"}, {"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^        static Core::ProxyType<Core::IDispatch> Create(BaseEventDelegate *parent,$/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::IDispatch>", "kind": "function", "signature": "(BaseEventDelegate * parent,const string & event,const string & payload)", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^        virtual void Dispatch()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    bool Dispatch(const string &event, const string &payload)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & event,const string & payload)", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "DispatchToAppNotifications", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    bool DispatchToAppNotifications(const string &event, const string &payload)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & event,const string & payload)", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "EventDelegateDispatchJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^        EventDelegateDispatchJob(BaseEventDelegate *delegate, const string &event, const string /", "language": "C++", "kind": "function", "signature": "(BaseEventDelegate * delegate,const string & event,const string & payload)", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}, {"_type": "tag", "name": "EventDelegateDispatchJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    class EXTERNAL EventDelegateDispatchJob : public Core::IDispatch$/", "language": "C++", "kind": "class", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "GetEmittersForNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    std::unordered_set<Exchange::IAppNotificationHandler::IEmitter *> GetEmittersForNotification/", "language": "C++", "typeref": "typename:std::unordered_set<Exchange::IAppNotificationHandler::IEmitter * >", "kind": "function", "signature": "(const string & event)", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "IsNotificationRegistered", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    bool IsNotificationRegistered(const string &event)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const string & event)", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "RemoveNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    void RemoveNotification(const string &event, Exchange::IAppNotificationHandler::IEmitter *cb/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & event,Exchange::IAppNotificationHandler::IEmitter * cb)", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "__BASEEVENTDELEGATE_H__", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^#define __BASEEVENTDELEGATE_H__$/", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "mDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^        BaseEventDelegate &mDelegate;$/", "language": "C++", "typeref": "typename:BaseEventDelegate &", "kind": "member", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}, {"_type": "tag", "name": "mEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^        string mEvent;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}, {"_type": "tag", "name": "mPayload", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^        string mPayload;$/", "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}, {"_type": "tag", "name": "mRegisterMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    std::mutex mRegisterMutex;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "mRegisteredNotifications", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    std::map<string, std::unordered_set<Exchange::IAppNotificationHandler::IEmitter *>> mRegiste/", "language": "C++", "typeref": "typename:std::map<string,std::unordered_set<Exchange::IAppNotificationHandler::IEmitter * >>", "kind": "member", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "~BaseEventDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^    ~BaseEventDelegate()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "BaseEventDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "~EventDelegateDispatchJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/BaseEventDelegate.h", "pattern": "/^        ~EventDelegateDispatchJob()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class"}], "hash": "2ca0bc222586ca0d1de13ea814c7692d", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/helpers/BaseEventDelegate.h", "fields": [{"name": "BaseEventDelegate & mDelegate", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class", "description": "unavailable"}, {"name": "string mEvent", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class", "description": "unavailable"}, {"name": "string mPayload", "scope": "BaseEventDelegate::EventDelegateDispatchJob", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mRegisterMutex", "scope": "BaseEventDelegate", "scopeKind": "class", "description": "unavailable"}, {"name": "std::map<string,std::unordered_set<Exchange::IAppNotificationHandler::IEmitter * >> mRegisteredNotifications", "scope": "BaseEventDelegate", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"3764": ""}]}