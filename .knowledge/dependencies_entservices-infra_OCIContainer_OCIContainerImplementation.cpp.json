{"is_source_file": true, "format": "C++", "description": "This file contains the implementation of the OCIContainerImplementation class, which manages container lifecycle operations, handles notifications, and dispatches events related to container state changes in the WPEFramework plugin.", "external_files": ["OCIContainerImplementation.h"], "external_methods": ["DobbyInterface::initialize", "DobbyInterface::terminate", "DobbyInterface::listContainers", "DobbyInterface::getContainerInfo", "DobbyInterface::getContainerState", "DobbyInterface::startContainer", "DobbyInterface::startContainerFromDobbySpec", "DobbyInterface::stopContainer", "DobbyInterface::pauseContainer", "DobbyInterface::resumeContainer", "DobbyInterface::hibernateContainer", "DobbyInterface::wakeupContainer", "DobbyInterface::executeCommand", "DobbyInterface::annotate", "DobbyInterface::removeAnnotation", "DobbyInterface::mount", "DobbyInterface::unmount"], "published": ["OCIContainerImplementation::EventNames", "OCIContainerImplementation::onContainerStarted", "OCIContainerImplementation::onContainerStopped", "OCIContainerImplementation::onContainerFailed", "OCIContainerImplementation::onContainerStateChange"], "classes": [{"name": "OCIContainerImplementation", "description": "Class implementing container lifecycle management and event dispatching for OCI containers within the WPEFramework plugin.", "methods": [{"name": "OCIContainerImplementation", "description": "Constructor initializing the Dobby interface and setting up the instance."}, {"name": "~OCIContainerImplementation", "description": "Destructor cleaning up resources and terminating the Dobby interface."}, {"name": "Register", "description": "Registers a notification callback for container events."}, {"name": "Unregister", "description": "Unregisters a notification callback for container events."}, {"name": "dispatchEvent", "description": "Dispatches an event for container state changes asynchronously."}, {"name": "Dispatch", "description": "Processes an event and notifies registered callbacks based on event type."}, {"name": "ListContainers", "description": "Lists all containers managed by Dobby."}, {"name": "GetContainerInfo", "description": "Retrieves detailed info for a specific container."}, {"name": "GetContainerState", "description": "Retrieves current state of a specific container."}, {"name": "StartContainer", "description": "Starts a container with the specified parameters."}, {"name": "StartContainerFromDobbySpec", "description": "Starts a container using a Dobby specification."}, {"name": "StopContainer", "description": "Stops a specified container."}, {"name": "PauseContainer", "description": "Pauses a specified container."}, {"name": "ResumeContainer", "description": "Resumes a paused container."}, {"name": "HibernateContainer", "description": "Hibernates a container with options."}, {"name": "WakeupContainer", "description": "Wakes up a hibernated container."}, {"name": "ExecuteCommand", "description": "Executes a command inside a container."}, {"name": "Annotate", "description": "Adds an annotation key-value pair to a container."}, {"name": "RemoveAnnotation", "description": "Removes an annotation key from a container."}, {"name": "Mount", "description": "Mounts a filesystem source to a target inside the container."}, {"name": "Unmount", "description": "Unmounts a filesystem from the container."}, {"name": "onContainerStarted", "description": "Handler invoked when a container has started."}, {"name": "onContainerStopped", "description": "Handler invoked when a container has stopped."}, {"name": "onContainerFailed", "description": "Handler invoked when a container has failed."}, {"name": "onContainerStateChange", "description": "Handler invoked when a container's state has changed."}]}], "methods": [{"name": "Core::hresult Annotate(const string & containerId,const string & key,const string & value,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void Dispatch(EventNames event,const JsonObject params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult ExecuteCommand(const string & containerId,const string & options,const string & command,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetContainerInfo(const string & containerId,string & info,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetContainerState(const string & containerId,ContainerState & state,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult HibernateContainer(const string & containerId,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult ListContainers(string & containers,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Mount(const string & containerId,const string & source,const string & target,const string & type,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "OCIContainerImplementation()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult PauseContainer(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Register(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult RemoveAnnotation(const string & containerId,const string & key,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult ResumeContainer(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult StartContainer(const string & containerId,const string & bundlePath,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult StartContainerFromDobbySpec(const string & containerId,const string & dobbySpec,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult StopContainer(const string & containerId,bool force,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Unmount(const string & containerId,const string & target,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Unregister(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult WakeupContainer(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void dispatchEvent(EventNames event,const JsonObject & params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void onContainerFailed(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void onContainerStarted(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void onContainerStateChange(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void onContainerStopped(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~OCIContainerImplementation()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["DobbyInterface::initialize", "DobbyInterface::terminate", "DobbyInterface::listContainers", "DobbyInterface::getContainerInfo", "DobbyInterface::getContainerState", "DobbyInterface::startContainer", "DobbyInterface::startContainerFromDobbySpec", "DobbyInterface::stopContainer", "DobbyInterface::pauseContainer", "DobbyInterface::resumeContainer", "DobbyInterface::hibernateContainer", "DobbyInterface::wakeupContainer", "DobbyInterface::executeCommand", "DobbyInterface::annotate", "DobbyInterface::removeAnnotation", "DobbyInterface::mount", "DobbyInterface::unmount", "Core::IWorkerPool::Instance().Submit", "Job::Create"], "search-terms": ["OCIContainerImplementation", "DobbyInterface", "ContainerState", "EventNames", "Container", "Notification", "listContainers", "startContainer", "stopContainer", "pauseContainer", "resumeContainer", "hibernateContainer", "wakeupContainer", "executeCommand", "annotations", "mount", "unmount"], "state": 2, "file_id": 5272, "knowledge_revision": 10581, "git_revision": "", "ctags": [{"_type": "tag", "name": "Annotate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Annotate(const string& containerId, const stri/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & key,const string & value,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::Dispatch(EventNames event, const JsonObject params)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(EventNames event,const JsonObject params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ExecuteCommand", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ExecuteCommand(const string& containerId, cons/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & options,const string & command,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetContainerInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::GetContainerInfo(const string& containerId, st/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,string & info,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetContainerState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::GetContainerState(const string& containerId, C/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,ContainerState & state,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "HibernateContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::HibernateContainer(const string& containerId, /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ListContainers", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ListContainers(string& containers, bool& succe/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(string & containers,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Mount", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Mount(const string& containerId, const string&/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & source,const string & target,const string & type,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OCIContainerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        OCIContainerImplementation::OCIContainerImplementation(): mDobbyInterface(nullptr)$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "PauseContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::PauseContainer(const string& containerId, bool/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Register(Exchange::IOCIContainer::INotificatio/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "RemoveAnnotation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::RemoveAnnotation(const string& containerId, co/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & key,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ResumeContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ResumeContainer(const string& containerId, boo/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StartContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StartContainer(const string& containerId, cons/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & bundlePath,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StartContainerFromDobbySpec", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StartContainerFromDobbySpec(const string& cont/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & dobbySpec,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StopContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StopContainer(const string& containerId, bool /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool force,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unmount", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Unmount(const string& containerId, const strin/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & target,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Unregister(Exchange::IOCIContainer::INotificat/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "WakeupContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::WakeupContainer(const string& containerId, boo/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "dispatchEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::dispatchEvent(EventNames event, const JsonObject &param/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(EventNames event,const JsonObject & params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerFailed", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerFailed(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStarted", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStarted(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStateChange(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStopped", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStopped(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~OCIContainerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        OCIContainerImplementation::~OCIContainerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}], "hash": "680fc011da010afd8a3db40b3aa752f9", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "revision_history": [{"10581": ""}]}