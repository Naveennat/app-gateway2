{"is_source_file": true, "format": "C++", "description": "This file implements the OCIContainerImplementation class, which manages OCI container operations such as start, stop, pause, resume, and event dispatching within the WPEFramework plugin architecture. It includes methods for container lifecycle management and event notification to registered observers.", "external_files": ["OCIContainerImplementation.h", "DobbyInterface.h"], "external_methods": ["DobbyInterface::initialize", "DobbyInterface::terminate", "DobbyInterface::listContainers", "DobbyInterface::getContainerInfo", "DobbyInterface::getContainerState", "DobbyInterface::startContainer", "DobbyInterface::startContainerFromDobbySpec", "DobbyInterface::stopContainer", "DobbyInterface::pauseContainer", "DobbyInterface::resumeContainer", "DobbyInterface::hibernateContainer", "DobbyInterface::wakeupContainer", "DobbyInterface::executeCommand", "DobbyInterface::annotate", "DobbyInterface::removeAnnotation", "DobbyInterface::mount", "DobbyInterface::unmount"], "published": ["WPEFramework::Plugin::OCIContainerImplementation::onContainerStarted", "WPEFramework::Plugin::OCIContainerImplementation::onContainerStopped", "WPEFramework::Plugin::OCIContainerImplementation::onContainerFailed", "WPEFramework::Plugin::OCIContainerImplementation::onContainerStateChange"], "classes": [{"name": "OCIContainerImplementation", "description": "A class that manages container lifecycle and event dispatching for OCI containers, including registration of notifications, container control functions, and internal event handling."}], "methods": [{"name": "Core::hresult Register(Exchange::IOCIContainer::INotification * notification)", "description": "Registers a notification callback to receive container events, avoiding duplicates.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Unregister(Exchange::IOCIContainer::INotification * notification)", "description": "Unregisters a previously registered notification callback.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void dispatchEvent(EventNames event,const JsonObject & params)", "description": "Schedules an event notification to be dispatched asynchronously to observers.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void Dispatch(EventNames event,const JsonObject params)", "description": "Dispatches container events to registered observers based on the event type and parameters.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult ListContainers(string & containers,bool & success,string & errorReason)", "description": "Lists all containers managed by the Dobby interface.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult GetContainerInfo(const string & containerId,string & info,bool & success,string & errorReason)", "description": "Retrieves information about a specific container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult GetContainerState(const string & containerId,ContainerState & state,bool & success,string & errorReason)", "description": "Retrieves the current state of a specific container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult StartContainer(const string & containerId,const string & bundlePath,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "description": "Starts a container with specified parameters.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult StartContainerFromDobbySpec(const string & containerId,const string & dobbySpec,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "description": "Starts a container using a Dobby specification.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult StopContainer(const string & containerId,bool force,bool & success,string & errorReason)", "description": "Stops a specific container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult PauseContainer(const string & containerId,bool & success,string & errorReason)", "description": "Pauses a running container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult ResumeContainer(const string & containerId,bool & success,string & errorReason)", "description": "Resumes a paused container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult HibernateContainer(const string & containerId,const string & options,bool & success,string & errorReason)", "description": "Hibernates a container with specific options.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult WakeupContainer(const string & containerId,bool & success,string & errorReason)", "description": "Wakes up a hibernated container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult ExecuteCommand(const string & containerId,const string & options,const string & command,bool & success,string & errorReason)", "description": "Executes a command within a container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Annotate(const string & containerId,const string & key,const string & value,bool & success,string & errorReason)", "description": "Adds an annotation key-value pair to a container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult RemoveAnnotation(const string & containerId,const string & key,bool & success,string & errorReason)", "description": "Removes an annotation key from a container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Mount(const string & containerId,const string & source,const string & target,const string & type,const string & options,bool & success,string & errorReason)", "description": "Mounts a filesystem source to a target inside the container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Unmount(const string & containerId,const string & target,bool & success,string & errorReason)", "description": "Unmounts a filesystem target inside the container.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerStarted(JsonObject & data)", "description": "Internal callback invoked when a container has started, triggers event dispatch.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerStopped(JsonObject & data)", "description": "Internal callback invoked when a container has stopped.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerFailed(JsonObject & data)", "description": "Internal callback invoked when a container fails.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerStateChange(JsonObject & data)", "description": "Internal callback invoked when a container's state has changed.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "OCIContainerImplementation()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~OCIContainerImplementation()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::IWorkerPool::Instance().Submit", "std::find", "LOGINFO", "LOGWARN", "LOGERR", "ASSERT", "new DobbyInterface", "delete"], "search-terms": ["OCIContainerImplementation", "DobbyInterface", "ContainerLifecycle", "EventDispatch", "NotificationRegistration"], "state": 2, "file_id": 8415, "knowledge_revision": 17155, "git_revision": "", "ctags": [{"_type": "tag", "name": "Annotate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Annotate(const string& containerId, const stri/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & key,const string & value,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::Dispatch(EventNames event, const JsonObject params)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(EventNames event,const JsonObject params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ExecuteCommand", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ExecuteCommand(const string& containerId, cons/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & options,const string & command,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetContainerInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::GetContainerInfo(const string& containerId, st/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,string & info,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetContainerState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::GetContainerState(const string& containerId, C/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,ContainerState & state,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "HibernateContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::HibernateContainer(const string& containerId, /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ListContainers", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ListContainers(string& containers, bool& succe/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(string & containers,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Mount", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Mount(const string& containerId, const string&/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & source,const string & target,const string & type,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OCIContainerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        OCIContainerImplementation::OCIContainerImplementation(): mDobbyInterface(nullptr)$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "PauseContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::PauseContainer(const string& containerId, bool/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Register(Exchange::IOCIContainer::INotificatio/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "RemoveAnnotation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::RemoveAnnotation(const string& containerId, co/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & key,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ResumeContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ResumeContainer(const string& containerId, boo/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StartContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StartContainer(const string& containerId, cons/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & bundlePath,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StartContainerFromDobbySpec", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StartContainerFromDobbySpec(const string& cont/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & dobbySpec,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StopContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StopContainer(const string& containerId, bool /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool force,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unmount", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Unmount(const string& containerId, const strin/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & target,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Unregister(Exchange::IOCIContainer::INotificat/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "WakeupContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::WakeupContainer(const string& containerId, boo/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "dispatchEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::dispatchEvent(EventNames event, const JsonObject &param/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(EventNames event,const JsonObject & params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerFailed", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerFailed(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStarted", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStarted(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStateChange(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStopped", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStopped(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~OCIContainerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        OCIContainerImplementation::~OCIContainerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}], "hash": "e942976f0e80218956fda9f73f12516d", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "revision_history": [{"17155": ""}]}