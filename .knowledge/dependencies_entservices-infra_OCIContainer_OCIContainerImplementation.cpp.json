{"is_source_file": true, "format": "C++", "description": "This file contains the implementation of the OCIContainerImplementation class, which manages OCI containers, handles notifications and events, and interfaces with a Dobby interface for container operations.", "external_files": ["OCIContainerImplementation.h"], "external_methods": ["Core::error_t (Core::hresult)", "Core::IWorkerPool::Instance().Submit()", "Job::Create()", "LOGINFO()", "LOGWARN()", "LOGERR()"], "published": ["OCIContainerImplementation::EventNames::OCICONTAINER_EVENT_CONTAINER_STARTED", "OCIContainerImplementation::EventNames::OCICONTAINER_EVENT_CONTAINER_STOPPED", "OCIContainerImplementation::EventNames::OCICONTAINER_EVENT_CONTAINER_FAILED", "OCIContainerImplementation::EventNames::OCICONTAINER_EVENT_STATE_CHANGED", "OCIContainerImplementation::onContainerStarted", "OCIContainerImplementation::onContainerStopped", "OCIContainerImplementation::onContainerFailed", "OCIContainerImplementation::onContainerStateChange"], "classes": [{"name": "OCIContainerImplementation", "description": "Implements container management functionalities, notification registration, event dispatching, and interfacing with the Dobby container runtime.", "methods": [{"name": "Register", "description": "Registers a notification callback for container events."}, {"name": "Unregister", "description": "Unregisters a previously registered notification callback."}, {"name": "dispatchEvent", "description": "Dispatches an event asynchronously to notify listeners."}, {"name": "Dispatch", "description": "Handles the event data, parses parameters, and calls the appropriate notification callbacks based on event type."}, {"name": "onContainerStarted", "description": "Callback invoked when a container is started; dispatches the corresponding event."}, {"name": "onContainerStopped", "description": "Callback invoked when a container is stopped; dispatches the corresponding event."}, {"name": "onContainerFailed", "description": "Callback invoked when a container fails; dispatches the corresponding event."}, {"name": "onContainerStateChange", "description": "Callback invoked when a container's state changes; dispatches the corresponding event."}, {"name": "ListContainers", "description": "Lists all containers using the Dobby interface."}, {"name": "GetContainerInfo", "description": "Retrieves detailed information about a specific container."}, {"name": "GetContainerState", "description": "Retrieves the current state of a specified container."}, {"name": "StartContainer", "description": "Starts a container with the given parameters."}, {"name": "StartContainerFromDobbySpec", "description": "Starts a container using a Dobby specification."}, {"name": "StopContainer", "description": "Stops a specified container."}, {"name": "PauseContainer", "description": "Pauses a running container."}, {"name": "ResumeContainer", "description": "Resumes a paused container."}, {"name": "HibernateContainer", "description": "Hibernates a container with specific options."}, {"name": "WakeupContainer", "description": "Wakes up a hibernated container."}, {"name": "ExecuteCommand", "description": "Executes a command inside the container."}, {"name": "Annotate", "description": "Adds an annotation key/value pair to the container."}, {"name": "RemoveAnnotation", "description": "Removes an annotation key from the container."}, {"name": "Mount", "description": "Mounts a filesystem into the container."}, {"name": "Unmount", "description": "Unmounts a filesystem from the container."}], "search-terms": ["OCIContainerImplementation", "DobbyInterface", "container management", "notifications", "OCI container operations"]}], "methods": [{"name": "Core::hresult Register(Exchange::IOCIContainer::INotification * notification)", "description": "Registers a notification callback.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Unregister(Exchange::IOCIContainer::INotification * notification)", "description": "Unregisters a notification callback.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void dispatchEvent(EventNames event,const JsonObject & params)", "description": "Dispatches events asynchronously.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void Dispatch(EventNames event,const JsonObject params)", "description": "Handles event data and invokes callbacks.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerStarted(JsonObject & data)", "description": "Event handler for container start.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerStopped(JsonObject & data)", "description": "Event handler for container stop.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerFailed(JsonObject & data)", "description": "Event handler for container failure.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "void onContainerStateChange(JsonObject & data)", "description": "Event handler for container state change.", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Annotate(const string & containerId,const string & key,const string & value,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult ExecuteCommand(const string & containerId,const string & options,const string & command,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetContainerInfo(const string & containerId,string & info,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetContainerState(const string & containerId,ContainerState & state,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult HibernateContainer(const string & containerId,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult ListContainers(string & containers,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Mount(const string & containerId,const string & source,const string & target,const string & type,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "OCIContainerImplementation()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult PauseContainer(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult RemoveAnnotation(const string & containerId,const string & key,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult ResumeContainer(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult StartContainer(const string & containerId,const string & bundlePath,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult StartContainerFromDobbySpec(const string & containerId,const string & dobbySpec,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult StopContainer(const string & containerId,bool force,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult Unmount(const string & containerId,const string & target,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult WakeupContainer(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~OCIContainerImplementation()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::IWorkerPool::Instance().Submit()", "Job::Create()", "mDobbyInterface->listContainers()", "mDobbyInterface->getContainerInfo()", "mDobbyInterface->getContainerState()", "mDobbyInterface->startContainer()", "mDobbyInterface->startContainerFromDobbySpec()", "mDobbyInterface->stopContainer()", "mDobbyInterface->pauseContainer()", "mDobbyInterface->resumeContainer()", "mDobbyInterface->hibernateContainer()", "mDobbyInterface->wakeupContainer()", "mDobbyInterface->executeCommand()", "mDobbyInterface->annotate()", "mDobbyInterface->removeAnnotation()", "mDobbyInterface->mount()", "mDobbyInterface->unmount()"], "search-terms": ["OCIContainerImplementation", "DobbyInterface", "container lifecycle", "notification registration", "event dispatching", "container control"], "state": 2, "file_id": 145, "knowledge_revision": 1257, "git_revision": "", "ctags": [{"_type": "tag", "name": "Annotate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Annotate(const string& containerId, const stri/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & key,const string & value,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::Dispatch(EventNames event, const JsonObject params)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(EventNames event,const JsonObject params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ExecuteCommand", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ExecuteCommand(const string& containerId, cons/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & options,const string & command,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetContainerInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::GetContainerInfo(const string& containerId, st/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,string & info,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetContainerState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::GetContainerState(const string& containerId, C/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,ContainerState & state,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "HibernateContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::HibernateContainer(const string& containerId, /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ListContainers", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ListContainers(string& containers, bool& succe/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(string & containers,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Mount", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Mount(const string& containerId, const string&/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & source,const string & target,const string & type,const string & options,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OCIContainerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        OCIContainerImplementation::OCIContainerImplementation(): mDobbyInterface(nullptr)$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "PauseContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::PauseContainer(const string& containerId, bool/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Register(Exchange::IOCIContainer::INotificatio/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "RemoveAnnotation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::RemoveAnnotation(const string& containerId, co/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & key,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ResumeContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::ResumeContainer(const string& containerId, boo/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StartContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StartContainer(const string& containerId, cons/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & bundlePath,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StartContainerFromDobbySpec", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StartContainerFromDobbySpec(const string& cont/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & dobbySpec,const string & command,const string & westerosSocket,int32_t & descriptor,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "StopContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::StopContainer(const string& containerId, bool /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool force,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unmount", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Unmount(const string& containerId, const strin/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,const string & target,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::Unregister(Exchange::IOCIContainer::INotificat/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IOCIContainer::INotification * notification)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "WakeupContainer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        Core::hresult OCIContainerImplementation::WakeupContainer(const string& containerId, boo/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & containerId,bool & success,string & errorReason)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "dispatchEvent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::dispatchEvent(EventNames event, const JsonObject &param/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(EventNames event,const JsonObject & params)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerFailed", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerFailed(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStarted", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStarted(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStateChange(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "onContainerStopped", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        void OCIContainerImplementation::onContainerStopped(JsonObject& data)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(JsonObject & data)", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~OCIContainerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "pattern": "/^        OCIContainerImplementation::~OCIContainerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::OCIContainerImplementation", "scopeKind": "class"}], "hash": "680fc011da010afd8a3db40b3aa752f9", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/OCIContainer/OCIContainerImplementation.cpp", "revision_history": [{"1257": ""}]}