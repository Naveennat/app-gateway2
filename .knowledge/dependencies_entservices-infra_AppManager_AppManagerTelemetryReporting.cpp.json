{"is_source_file": true, "format": "C++", "description": "This file defines the implementation of the AppManagerTelemetryReporting class, which provides telemetry data reporting for applications managed by the AppManager component. It includes methods for initialization, timestamp retrieval, telemetry data recording, handling state changes, and error reporting.", "external_files": ["AppManagerTelemetryReporting.h", "UtilsLogging.h", "tracing/Logging.h"], "external_methods": ["Core::clock_gettime", "Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::hresult", "JsonObject::operator[]", "JsonObject::ToString", "AppManagerImplementation::getInstance", "AppManagerImplementation::CurrentAction", "AppManagerImplementation::mAppInfo", "AppManagerImplementation::APP_ACTION_LAUNCH", "AppManagerImplementation::APP_ACTION_PRELOAD", "AppManagerImplementation::APP_ACTION_CLOSE", "AppManagerImplementation::APP_ACTION_TERMINATE", "AppManagerImplementation::APP_ACTION_KILL", "AppManagerImplementation::APPLICATION_TYPE_INTERACTIVE", "Exchange::IAppManager::AppLifecycleState", "Exchange::ILifecycleManager::LifecycleState", "mAdminLock.Lock", "mAdminLock.Unlock", "LOGINFO", "LOGERR", "createTelemetryMetricsPluginObject", "QueryInterfaceByCallsign", "Record", "Publish"], "published": ["getInstance", "initialize", "reportTelemetryData", "reportTelemetryDataOnStateChange", "reportTelemetryErrorData", "getCurrentTimestamp"], "classes": [{"name": "AppManagerTelemetryReporting", "description": "Handles telemetry data reporting for applications, including initialization, timestamp acquisition, telemetry recording, and error reporting."}], "methods": [{"name": "AppManagerTelemetryReporting & getInstance()", "description": "Provides a singleton instance of AppManagerTelemetryReporting.", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"name": "void initialize(PluginHost::IShell * service)", "description": "Initializes the telemetry reporter with a service object, creating telemetry plugin objects as needed.", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"name": "time_t getCurrentTimestamp()", "description": "Returns the current timestamp based on CLOCK_MONOTONIC.", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"name": "Core::hresult createTelemetryMetricsPluginObject()", "description": "Creates the telemetry metrics plugin object via a Call to the service's QueryInterface.", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"name": "void reportTelemetryData(const std::string & appId,AppManagerImplementation::CurrentAction currentAction)", "description": "Reports telemetry data based on application ID and current action, calculating time durations and recording metrics.", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"name": "void reportTelemetryDataOnStateChange(const string & appId,const Exchange::ILifecycleManager::LifecycleState newState)", "description": "Reports telemetry data related to application state changes, such as launch, preload, close, terminate, or kill.", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"name": "void reportTelemetryErrorData(const std::string & appId,AppManagerImplementation::CurrentAction currentAction,AppManagerImplementation::CurrentActionError errorCode)", "description": "Reports error-related telemetry data based on application ID, current action, and error code.", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"name": "AppManagerTelemetryReporting()", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class", "description": "unavailable"}, {"name": "~AppManagerTelemetryReporting()", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class", "description": "unavailable"}], "calls": ["clock_gettime", "QueryInterfaceByCallsign", "mTelemetryMetricsObject->Record", "mTelemetryMetricsObject->Publish", "Core::ERROR_NONE", "LOGINFO", "LOGERR", "createTelemetryMetricsPluginObject", "AppManagerImplementation::getInstance"], "search-terms": ["AppManagerTelemetryReporting", "TelemetryMetricsObject", "Telemetry", "appId", "CurrentAction", "reportTelemetry", "getInstance", "initialize", "stateChange", "errorData"], "state": 2, "file_id": 360, "knowledge_revision": 726, "git_revision": "", "ctags": [{"_type": "tag", "name": "AppManagerTelemetryReporting", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    AppManagerTelemetryReporting::AppManagerTelemetryReporting(): mTelemetryMetricsObject(nullpt/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "createTelemetryMetricsPluginObject", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    Core::hresult AppManagerTelemetryReporting::createTelemetryMetricsPluginObject()$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "getCurrentTimestamp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    time_t AppManagerTelemetryReporting::getCurrentTimestamp()$/", "language": "C++", "typeref": "typename:time_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "getInstance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    AppManagerTelemetryReporting& AppManagerTelemetryReporting::getInstance()$/", "language": "C++", "typeref": "typename:AppManagerTelemetryReporting &", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    void AppManagerTelemetryReporting::initialize(PluginHost::IShell* service)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "reportTelemetryData", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    void AppManagerTelemetryReporting::reportTelemetryData(const std::string& appId, AppManagerI/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & appId,AppManagerImplementation::CurrentAction currentAction)", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "reportTelemetryDataOnStateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    void AppManagerTelemetryReporting::reportTelemetryDataOnStateChange(const string& appId, con/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,const Exchange::ILifecycleManager::LifecycleState newState)", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "reportTelemetryErrorData", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    void AppManagerTelemetryReporting::reportTelemetryErrorData(const std::string& appId, AppMan/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & appId,AppManagerImplementation::CurrentAction currentAction,AppManagerImplementation::CurrentActionError errorCode)", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}, {"_type": "tag", "name": "~AppManagerTelemetryReporting", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "pattern": "/^    AppManagerTelemetryReporting::~AppManagerTelemetryReporting()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppManagerTelemetryReporting", "scopeKind": "class"}], "hash": "b69bde90b76357a683dbaf636be016ed", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/AppManager/AppManagerTelemetryReporting.cpp", "revision_history": [{"726": ""}]}