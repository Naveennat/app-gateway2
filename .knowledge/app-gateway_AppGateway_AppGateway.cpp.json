{"is_source_file": true, "format": "C++", "description": "This file implements the core logic of the AppGateway plugin for WPEFramework, including JSON-RPC method registration, startup/shutdown procedures, configuration handling, and request resolution.", "external_files": ["AppGateway.h", "<cstdio>", "PluginHost::IShell", "PluginHost::IAuthenticate", "Core::JSON::Container", "Core::JSON::ArrayType", "Core::JSON::String", "Core::JSON::Object", "RequestRouter", "PermissionManager", "GatewayWebSocket", "ConnectionRegistry", "Resolver"], "external_methods": ["PluginHost::IShell::ConfigLine()", "PluginHost::IAuthenticate::Token()", "SYSLOG", "Config::FromString()", "Config::ServerPort::Value()", "Config::PermissionEnforcement::Value()", "Config::JwtEnabled::Value()", "Config::GatewayCallsign::Value()", "Resolver::LoadPaths()", "GatewayWebSocket::Start()", "GatewayWebSocket::Stop()", "GatewayWebSocket::SendTo()"], "published": ["endpoint_configure", "endpoint_respond", "endpoint_resolve", "Initialize", "Deinitialize", "Information"], "classes": [{"name": "AppGateway", "description": "Main class implementing the AppGateway plugin, handling JSON-RPC methods, configuration, and communication with WebSocket and resolver components."}], "methods": [{"name": "void RegisterMethods()", "description": "Registers JSON-RPC methods: configure, respond, resolve.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "void UnregisterMethods()", "description": "Unregisters previously registered JSON-RPC methods.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "bool ExtractSecurityToken(PluginHost::IShell * service,string & token) const", "description": "Extracts security token from the service's authentication interface.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "const string Initialize(PluginHost::IShell * service)", "description": "Performs plugin startup tasks: load configuration, start WebSocket, load resolution overlays.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "void Deinitialize(PluginHost::IShell * service)", "description": "Performs cleanup and shutdown tasks.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "string Information() const", "description": "Returns plugin information (stub implementation).", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "uint32_t endpoint_configure(const ConfigureParams & params,Core::JSON::Container &)", "description": "Handles 'configure' JSON-RPC call to load resolution paths.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "uint32_t endpoint_respond(const RespondParams & params,Core::JSON::Container &)", "description": "Handles 'respond' JSON-RPC call to send a response payload via WebSocket.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "uint32_t endpoint_resolve(const ResolveParams & params,ResolveResult & response)", "description": "Resolves a method call, returning resolution info or echo fallback.", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"name": "AppGateway()", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class", "description": "unavailable"}, {"name": "~AppGateway()", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class", "description": "unavailable"}], "calls": ["Register<ConfigureParams, Core::JSON::Container>(_T(\"configure\"), &AppGateway::endpoint_configure, this)", "Register<RespondParams, Core::JSON::Container>(_T(\"respond\"), &AppGateway::endpoint_respond, this)", "Register<ResolveParams, ResolveResult>(_T(\"resolve\"), &AppGateway::endpoint_resolve, this)", "Unregister(_T(\"configure\"))", "Unregister(_T(\"respond\"))", "Unregister(_T(\"resolve\"))"], "search-terms": ["AppGateway", "JSONRPC", "WebSocket", "configure", "resolve", "respond", "security token", "resolution overlay", "WebSocket start", "WebSocket stop"], "state": 2, "file_id": 23, "knowledge_revision": 48, "git_revision": "2716c672eb9834bc1b267530d5c0eaf9087df9c6", "ctags": [{"_type": "tag", "name": "AppGateway", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^AppGateway::AppGateway()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^void AppGateway::Deinitialize(PluginHost::IShell* service) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "ExtractSecurityToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^bool AppGateway::ExtractSecurityToken(PluginHost::IShell* service, string& token) const {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::IShell * service,string & token) const", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "Information", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^string AppGateway::Information() const {$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^const string AppGateway::Initialize(PluginHost::IShell* service) {$/", "language": "C++", "typeref": "typename:const string", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "JSONRPC_INVALID_PARAMS", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^    constexpr uint32_t JSONRPC_INVALID_PARAMS = static_cast<uint32_t>(-32602);$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "variable", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "JSONRPC_INVALID_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^    constexpr uint32_t JSONRPC_INVALID_PATH = 2;        \\/\\/ configure$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "variable", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "JSONRPC_INVALID_REQUEST", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^    constexpr uint32_t JSONRPC_INVALID_REQUEST = static_cast<uint32_t>(-32699);$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "variable", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "JSONRPC_PARSE_ERROR", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^    constexpr uint32_t JSONRPC_PARSE_ERROR = static_cast<uint32_t>(-32700);$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "variable", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RegisterMethods", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^void AppGateway::RegisterMethods() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "UnregisterMethods", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^void AppGateway::UnregisterMethods() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anone67987be0111", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^namespace {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "endpoint_configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^uint32_t AppGateway::endpoint_configure(const ConfigureParams& params, Core::JSON::Container& \\//", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ConfigureParams & params,Core::JSON::Container &)", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_resolve", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^uint32_t AppGateway::endpoint_resolve(const ResolveParams& params, ResolveResult& response) {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const ResolveParams & params,ResolveResult & response)", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^uint32_t AppGateway::endpoint_respond(const RespondParams& params, Core::JSON::Container& \\/*res/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const RespondParams & params,Core::JSON::Container &)", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}, {"_type": "tag", "name": "~AppGateway", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGateway.cpp", "pattern": "/^AppGateway::~AppGateway() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGateway", "scopeKind": "class"}], "hash": "6d4298fbdf0267a77f23e207f47cef66", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/AppGateway/AppGateway.cpp", "fields": [{"name": "uint32_t JSONRPC_INVALID_PARAMS", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "uint32_t JSONRPC_INVALID_PATH", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "uint32_t JSONRPC_INVALID_REQUEST", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace", "description": "unavailable"}, {"name": "uint32_t JSONRPC_PARSE_ERROR", "scope": "WPEFramework::Plugin::__anone67987be0111", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"48": "2716c672eb9834bc1b267530d5c0eaf9087df9c6"}]}