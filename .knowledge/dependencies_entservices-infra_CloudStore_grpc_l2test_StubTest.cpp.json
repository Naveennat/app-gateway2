{"is_source_file": true, "format": "C++", "description": "This file contains unit tests for the gRPC SecureStorageService stub, verifying behaviors such as validation, get, update, and delete operations on secure storage keys and values.", "external_files": ["secure_storage.grpc.pb.h", "<grpcpp/create_channel.h>", "<gmock/gmock.h>", "<gtest/gtest.h>", "<google/protobuf/duration.h>", "<google/protobuf/timestamp.h>"], "external_methods": ["grpc::CreateChannel", "SecureStorageService::NewStub", "stub->UpdateValue", "stub->GetValue", "stub->DeleteValue", "stub->DeleteAllValues"], "published": ["AStub", "ADevStub"], "classes": [{"name": "AStub", "description": "A test fixture class for unit testing SecureStorageService stub with a standard URI."}, {"name": "ADevStub", "description": "A test fixture class for unit testing SecureStorageService stub with a development URI."}], "methods": [{"name": "AStub()", "description": "Constructor setting up the stub for the main URI.", "scope": "AStub", "scopeKind": "class"}, {"name": "ADevStub()", "description": "Constructor setting up the stub for the development URI.", "scope": "ADevStub", "scopeKind": "class"}, {"name": "DoesNotUpdateValueWhenAppIdEmpty", "description": "Test that UpdateValue fails when app_id is empty."}, {"name": "DoesNotUpdateValueWhenKeyEmpty", "description": "Test that UpdateValue fails when key is empty."}, {"name": "DoesNotGetValueWhenAppIdEmpty", "description": "Test that GetValue fails when app_id is empty."}, {"name": "DoesNotGetValueWhenKeyEmpty", "description": "Test that GetValue fails when key is empty."}, {"name": "DoesNotDeleteValueWhenAppIdEmpty", "description": "Test that DeleteValue fails when app_id is empty."}, {"name": "DoesNotDeleteValueWhenKeyEmpty", "description": "Test that DeleteValue fails when key is empty."}, {"name": "DeletesAllValuesWhenAppIdEmpty", "description": "Test that DeleteAllValues works when app_id is empty."}, {"name": "GetsValueWhenValueEmpty", "description": "Test to verify that retrieving a key returns an empty string if no value is set."}, {"name": "DoesNotGetValueWhenAppIdUnknown", "description": "Test that GetValue returns error when app_id is unknown."}, {"name": "DoesNotGetValueWhenKeyUnknown", "description": "Test that GetValue returns no value when key is unknown, but app_id is known."}, {"name": "DoesNotGetValueWhenTtlExpired", "description": "Test that GetValue returns no value if TTL has expired."}, {"name": "DoesNotGetValueWhenTtlExpired", "description": "Same test as above, for development stub."}, {"name": "TEST_F(ADevStub,DoesNotGetValueWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(ADevStub,DoesNotGetValueWhenKeyUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(ADevStub,DoesNotGetValueWhenTtlExpired)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesAllValuesWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesAllValuesWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesValueWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesValueWhenKeyUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotDeleteValueWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotDeleteValueWhenKeyEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenKeyEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenKeyUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenTtlExpired)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotUpdateValueWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotUpdateValueWhenKeyEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,GetsValueWhenTtlDidNotExpire)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,GetsValueWhenValueEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["grpc::CreateChannel", "SecureStorageService::NewStub", "stub->UpdateValue", "stub->GetValue", "stub->DeleteValue", "stub->DeleteAllValues", "context.AddMetadata"], "search-terms": ["SecureStorageService stub", "UpdateValue validation", "GetValue empty key/app_id", "DeleteValue unknown app_id", "DeleteAllValues request", "TTL expiration check", "gtest Google Test", "grpc cpp stub"], "state": 2, "file_id": 5624, "knowledge_revision": 11264, "git_revision": "", "ctags": [{"_type": "tag", "name": "ADevStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    ADevStub()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "ADevStub", "scopeKind": "class"}, {"_type": "tag", "name": "ADevStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^class ADevStub : public Test {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "AStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    AStub()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "AStub", "scopeKind": "class"}, {"_type": "tag", "name": "AStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^class AStub : public Test {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(ADevStub, DoesNotGetValueWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(ADevStub,DoesNotGetValueWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(ADevStub, DoesNotGetValueWhenKeyUnknown)$/", "language": "C++", "kind": "function", "signature": "(ADevStub,DoesNotGetValueWhenKeyUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(ADevStub, DoesNotGetValueWhenTtlExpired)$/", "language": "C++", "kind": "function", "signature": "(ADevStub,DoesNotGetValueWhenTtlExpired)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesAllValuesWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesAllValuesWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesAllValuesWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesAllValuesWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesValueWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesValueWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesValueWhenKeyUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesValueWhenKeyUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotDeleteValueWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotDeleteValueWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotDeleteValueWhenKeyEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotDeleteValueWhenKeyEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenKeyEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenKeyEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenKeyUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenKeyUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenTtlExpired)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenTtlExpired)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotUpdateValueWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotUpdateValueWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotUpdateValueWhenKeyEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotUpdateValueWhenKeyEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, GetsValueWhenTtlDidNotExpire)$/", "language": "C++", "kind": "function", "signature": "(AStub,GetsValueWhenTtlDidNotExpire)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, GetsValueWhenValueEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,GetsValueWhenValueEmpty)"}, {"_type": "tag", "name": "kAppId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kAppId = \"app_id_1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kDevUri", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kDevUri = \"\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kEmpty", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kEmpty = \"\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kKey = \"key_1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kScope", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kScope = Scope::SCOPE_ACCOUNT;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kToken = \"Bearer TOKEN\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kTtl", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kTtl = 2;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kTtlFault", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kTtlFault = 1;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kUnknown", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kUnknown = \"unknown\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kUri", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kUri = \"\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kValue = \"value_1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "stub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    std::unique_ptr<SecureStorageService::Stub> stub;$/", "file": true, "language": "C++", "typeref": "typename:std::unique_ptr<SecureStorageService::Stub>", "kind": "member", "scope": "ADevStub", "scopeKind": "class"}, {"_type": "tag", "name": "stub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    std::unique_ptr<SecureStorageService::Stub> stub;$/", "file": true, "language": "C++", "typeref": "typename:std::unique_ptr<SecureStorageService::Stub>", "kind": "member", "scope": "AStub", "scopeKind": "class"}], "hash": "b06128d574929bf5f4e6e617f138b512", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "fields": [{"name": "const auto kAppId", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kDevUri", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kEmpty", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kKey", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kScope", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kToken", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kTtl", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kTtlFault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kUnknown", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kUri", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kValue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "std::unique_ptr<SecureStorageService::Stub> stub", "scope": "ADevStub", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"11264": ""}]}