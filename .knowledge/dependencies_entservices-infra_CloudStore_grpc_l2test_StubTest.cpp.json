{"is_source_file": true, "format": "C++", "description": "Test suite for the SecureStorage gRPC service client, specifically testing the Stub class methods such as GetValue, UpdateValue, DeleteValue, and DeleteAllValues, with various edge cases and validation scenarios.", "external_files": ["secure_storage.grpc.pb.h", "<gtest/gtest.h>", "<gmock/gmock.h>", "<grpcpp/create_channel.h>"], "external_methods": ["grpc::CreateChannel", "SecureStorageService::NewStub", "stub->UpdateValue", "stub->GetValue", "stub->DeleteValue", "stub->DeleteAllValues", "context.AddMetadata"], "published": ["AStub", "ADevStub"], "classes": [{"name": "AStub", "description": "Test fixture for SecureStorageService Stub using a standard URI."}, {"name": "ADevStub", "description": "Test fixture for SecureStorageService Stub using a development URI."}], "methods": [{"name": "DoesNotUpdateValueWhenAppIdEmpty", "description": "Tests that UpdateValue fails when the app_id field is empty."}, {"name": "DoesNotUpdateValueWhenKeyEmpty", "description": "Tests that UpdateValue fails when the key field is empty."}, {"name": "DoesNotGetValueWhenAppIdEmpty", "description": "Tests that GetValue fails when the app_id field is empty."}, {"name": "DoesNotGetValueWhenKeyEmpty", "description": "Tests that GetValue fails when the key field is empty."}, {"name": "DoesNotDeleteValueWhenAppIdEmpty", "description": "Tests that DeleteValue fails when the app_id field is empty."}, {"name": "DoesNotDeleteValueWhenKeyEmpty", "description": "Tests that DeleteValue fails when the key field is empty."}, {"name": "DeletesAllValuesWhenAppIdEmpty", "description": "Tests that DeleteAllValues succeeds even if app_id is empty, targeting all apps."}, {"name": "GetsValueWhenValueEmpty", "description": "Tests retrieving a value that is empty, ensuring default empty string is returned."}, {"name": "DoesNotGetValueWhenAppIdUnknown", "description": "Ensures that requesting a value with an unknown app_id results in no value returned."}, {"name": "DoesNotGetValueWhenKeyUnknown", "description": "Ensures that requesting a value with an unknown key results in no value returned."}, {"name": "DeletesValueWhenAppIdUnknown", "description": "Verifies that deleting a value with an unknown app_id is a no-op and succeeds."}, {"name": "DeletesValueWhenKeyUnknown", "description": "Verifies that deleting a value with an unknown key is a no-op and succeeds."}, {"name": "DeletesAllValuesWhenAppIdUnknown", "description": "Verifies that deleting all values with an unknown app_id is successful (no error)."}, {"name": "GetsValueWhenTtlDidNotExpire", "description": "Tests that a value with a TTL that has not expired is successfully retrieved, including checks on the expiration timestamp."}, {"name": "DoesNotGetValueWhenTtlExpired", "description": "Ensures that a value with expired TTL is not returned."}, {"name": "DoesNotGetValueWhenTtlExpired (DevStub)", "description": "Same as above, but using the development stub setup."}, {"name": "ADevStub()", "scope": "ADevStub", "scopeKind": "class", "description": "unavailable"}, {"name": "AStub()", "scope": "AStub", "scopeKind": "class", "description": "unavailable"}, {"name": "TEST_F(ADevStub,DoesNotGetValueWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(ADevStub,DoesNotGetValueWhenKeyUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(ADevStub,DoesNotGetValueWhenTtlExpired)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesAllValuesWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesAllValuesWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesValueWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DeletesValueWhenKeyUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotDeleteValueWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotDeleteValueWhenKeyEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenAppIdUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenKeyEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenKeyUnknown)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotGetValueWhenTtlExpired)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotUpdateValueWhenAppIdEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,DoesNotUpdateValueWhenKeyEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,GetsValueWhenTtlDidNotExpire)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST_F(AStub,GetsValueWhenValueEmpty)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["grpc::CreateChannel", "SecureStorageService::NewStub", "stub->UpdateValue", "stub->GetValue", "stub->DeleteValue", "stub->DeleteAllValues", "context.AddMetadata"], "search-terms": ["SecureStorageStub", "gRPC client tests", "UpdateValue validation", "GetValue TTL", "DeleteValue", "DeleteAllValues", "Scope::SCOPE_ACCOUNT", "Mock gRPC server", "protobuf Duration", "Unit tests for SecureStorage"], "state": 2, "file_id": 313, "knowledge_revision": 1424, "git_revision": "", "ctags": [{"_type": "tag", "name": "ADevStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    ADevStub()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "ADevStub", "scopeKind": "class"}, {"_type": "tag", "name": "ADevStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^class ADevStub : public Test {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "AStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    AStub()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "AStub", "scopeKind": "class"}, {"_type": "tag", "name": "AStub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^class AStub : public Test {$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(ADevStub, DoesNotGetValueWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(ADevStub,DoesNotGetValueWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(ADevStub, DoesNotGetValueWhenKeyUnknown)$/", "language": "C++", "kind": "function", "signature": "(ADevStub,DoesNotGetValueWhenKeyUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(ADevStub, DoesNotGetValueWhenTtlExpired)$/", "language": "C++", "kind": "function", "signature": "(ADevStub,DoesNotGetValueWhenTtlExpired)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesAllValuesWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesAllValuesWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesAllValuesWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesAllValuesWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesValueWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesValueWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DeletesValueWhenKeyUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DeletesValueWhenKeyUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotDeleteValueWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotDeleteValueWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotDeleteValueWhenKeyEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotDeleteValueWhenKeyEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenAppIdUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenAppIdUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenKeyEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenKeyEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenKeyUnknown)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenKeyUnknown)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotGetValueWhenTtlExpired)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotGetValueWhenTtlExpired)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotUpdateValueWhenAppIdEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotUpdateValueWhenAppIdEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, DoesNotUpdateValueWhenKeyEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,DoesNotUpdateValueWhenKeyEmpty)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, GetsValueWhenTtlDidNotExpire)$/", "language": "C++", "kind": "function", "signature": "(AStub,GetsValueWhenTtlDidNotExpire)"}, {"_type": "tag", "name": "TEST_F", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^TEST_F(AStub, GetsValueWhenValueEmpty)$/", "language": "C++", "kind": "function", "signature": "(AStub,GetsValueWhenValueEmpty)"}, {"_type": "tag", "name": "kAppId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kAppId = \"app_id_1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kDevUri", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kDevUri = \"\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kEmpty", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kEmpty = \"\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kKey = \"key_1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kScope", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kScope = Scope::SCOPE_ACCOUNT;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kToken = \"Bearer TOKEN\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kTtl", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kTtl = 2;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kTtlFault", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kTtlFault = 1;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kUnknown", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kUnknown = \"unknown\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kUri", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kUri = \"\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kValue = \"value_1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "stub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    std::unique_ptr<SecureStorageService::Stub> stub;$/", "file": true, "language": "C++", "typeref": "typename:std::unique_ptr<SecureStorageService::Stub>", "kind": "member", "scope": "ADevStub", "scopeKind": "class"}, {"_type": "tag", "name": "stub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    std::unique_ptr<SecureStorageService::Stub> stub;$/", "file": true, "language": "C++", "typeref": "typename:std::unique_ptr<SecureStorageService::Stub>", "kind": "member", "scope": "AStub", "scopeKind": "class"}], "hash": "b06128d574929bf5f4e6e617f138b512", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "fields": [{"name": "const auto kAppId", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kDevUri", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kEmpty", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kKey", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kScope", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kToken", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kTtl", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kTtlFault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kUnknown", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kUri", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kValue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "std::unique_ptr<SecureStorageService::Stub> stub", "scope": "ADevStub", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"1424": ""}]}