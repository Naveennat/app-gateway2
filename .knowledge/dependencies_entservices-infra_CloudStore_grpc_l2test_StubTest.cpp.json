{"is_source_file": true, "format": "C++", "description": "This is a test source file, written in C++, containing unit tests for a gRPC-based SecureStorageService. It uses Google Test and Google Mock to verify the behavior of the gRPC stub, including validation of request fields, handling of TTL expiration, and proper responses to various app_id and key conditions.", "external_files": ["secure_storage.grpc.pb.h", "grpcpp/create_channel.h", "gmock/gmock.h", "gtest/gtest.h"], "external_methods": ["grpc::CreateChannel", "SecureStorageService::NewStub", "grpc::SslCredentials", "stub->UpdateValue", "stub->GetValue", "stub->DeleteValue", "stub->DeleteAllValues"], "published": [], "classes": [{"name": "AStub", "description": "Test fixture class for general stub tests, setting up a SecureStorageService stub connected to a specific URI."}, {"name": "ADevStub", "description": "Test fixture class for developer stub tests, connected to development URI."}], "methods": [{"name": "AStub", "description": "Constructor initializes the secure storage stub with a fixed URI using SSL credentials."}, {"name": "ADevStub", "description": "Constructor initializes the dev secure storage stub with a dev URI using SSL credentials."}], "calls": ["grpc::CreateChannel", "SecureStorageService::NewStub", "stub->UpdateValue", "stub->GetValue", "stub->DeleteValue", "stub->DeleteAllValues"], "search-terms": ["gtest", "secure_storage", "grpc", "StubTest.cpp", "UpdateValueRequest", "GetValueRequest", "DeleteValueRequest", "DeleteAllValuesRequest", "TTL", "app_id validation", "key validation"], "state": 2, "file_id": 6714, "knowledge_revision": 13395, "git_revision": "", "ctags": [{"_type": "tag", "name": "kScope", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kScope = Scope::SCOPE_ACCOUNT;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kToken = \"Bearer TOKEN\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kTtl", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kTtl = 2;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kTtlFault", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kTtlFault = 1;$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kUnknown", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kUnknown = \"unknown\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kUri", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kUri = \"\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "kValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^const auto kValue = \"value_1\";$/", "language": "C++", "typeref": "typename:const auto", "kind": "variable"}, {"_type": "tag", "name": "stub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    std::unique_ptr<SecureStorageService::Stub> stub;$/", "file": true, "language": "C++", "typeref": "typename:std::unique_ptr<SecureStorageService::Stub>", "kind": "member", "scope": "ADevStub", "scopeKind": "class"}, {"_type": "tag", "name": "stub", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "pattern": "/^    std::unique_ptr<SecureStorageService::Stub> stub;$/", "file": true, "language": "C++", "typeref": "typename:std::unique_ptr<SecureStorageService::Stub>", "kind": "member", "scope": "AStub", "scopeKind": "class"}], "hash": "b06128d574929bf5f4e6e617f138b512", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/CloudStore/grpc/l2test/StubTest.cpp", "fields": [{"name": "const auto kScope", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kToken", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kTtl", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kTtlFault", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kUnknown", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kUri", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const auto kValue", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "std::unique_ptr<SecureStorageService::Stub> stub", "scope": "ADevStub", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"13395": ""}]}