{"is_source_file": true, "format": "Rust", "description": "This file defines the AppsanityAuthService struct implementing the AuthService trait. It manages authentication-related functionalities such as retrieving platform tokens and OTT tokens by interacting with ThorPermissionService and OttTokenService. The core logic involves asynchronous method implementations with error handling and logging.", "external_files": ["crate::message::DpabError", "crate::model::auth::AuthService", "crate::model::auth::GetOttTokenParams", "crate::model::auth::GetOttTokenResponse", "crate::model::auth::GetPlatformTokenParams", "super::thor_permission::ThorPermissionService", "super::ott_token::OttTokenService"], "external_methods": ["ThorPermissionService::get_thor_token", "OttTokenService::get_ott_token"], "published": ["AppsanityAuthService"], "classes": [{"name": "AppsanityAuthService", "description": "Service struct managing authentication, holding references to ThorPermissionService and OttTokenService."}], "methods": [{"name": "get_platform_token( self: Box<Self>, params: GetPlatformTokenParams, ) -> Result<String, DpabError>", "description": "Async method to retrieve a platform token via ThorPermissionService, with error handling and logging.", "scope": "AppsanityAuthService", "scopeKind": "implementation"}, {"name": "get_ott_token( self: Box<Self>, params: GetOttTokenParams, ) -> Result<GetOttTokenResponse, DpabError>", "description": "Async method to retrieve OTT token via OttTokenService, with error handling and logging.", "scope": "AppsanityAuthService", "scopeKind": "implementation"}], "calls": ["self.thor_permission_service.clone().get_thor_token", "self.ott_token_service.clone().get_ott_token"], "search-terms": ["AppsanityAuthService", "AuthService", "get_platform_token", "get_ott_token", "ThorPermissionService", "OttTokenService", "async_trait", "Rust"], "state": 2, "file_id": 2597, "knowledge_revision": 5169, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "AppsanityAuthService", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/service/appsanity_auth.rs", "pattern": "/^impl AuthService<'_> for AppsanityAuthService {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "AppsanityAuthService", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/service/appsanity_auth.rs", "pattern": "/^pub struct AppsanityAuthService {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "get_ott_token", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/service/appsanity_auth.rs", "pattern": "/^    async fn get_ott_token($/", "language": "Rust", "kind": "method", "signature": "( self: Box<Self>, params: GetOttTokenParams, ) -> Result<GetOttTokenResponse, DpabError>", "scope": "AppsanityAuthService", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_platform_token", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/service/appsanity_auth.rs", "pattern": "/^    async fn get_platform_token($/", "language": "Rust", "kind": "method", "signature": "( self: Box<Self>, params: GetPlatformTokenParams, ) -> Result<String, DpabError>", "scope": "AppsanityAuthService", "scopeKind": "implementation"}, {"_type": "tag", "name": "ott_token_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/service/appsanity_auth.rs", "pattern": "/^    ott_token_service: Arc<OttTokenService>,$/", "language": "Rust", "kind": "field", "scope": "AppsanityAuthService", "scopeKind": "struct"}, {"_type": "tag", "name": "thor_permission_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/service/appsanity_auth.rs", "pattern": "/^    thor_permission_service: Arc<ThorPermissionService>,$/", "language": "Rust", "kind": "field", "scope": "AppsanityAuthService", "scopeKind": "struct"}], "hash": "3be8b77dd6b749c77314929ff3f706b6", "format-version": 4, "code-base-name": "app-gateway2", "filename": "Supporting_Files/ripple-eos/src/service/appsanity_auth.rs", "fields": [{"name": "ott_token_service: Arc<OttTokenService>,", "scope": "AppsanityAuthService", "scopeKind": "struct", "description": "unavailable"}, {"name": "thor_permission_service: Arc<ThorPermissionService>,", "scope": "AppsanityAuthService", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"5169": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}