{"is_source_file": true, "format": "C++ header file", "description": "This file defines the AppGatewayImplementation class, which implements interfaces for app gateway resolution and configuration within the WPEFramework plugin. It includes nested classes for message dispatching and response handling, as well as an internal registry for application IDs. The file primarily serves as a component of a plugin that manages WebSocket messaging, app registration, event handling, and communication with external interfaces.", "external_files": ["Module.h", "Resolver.h", "<interfaces/IAppGateway.h>", "<interfaces/IConfiguration.h>", "<interfaces/IAppNotifications.h>", "ContextUtils.h", "<com/com.h>", "<core/core.h>", "<map>"], "external_methods": ["Exchange::IAppGatewayResolver", "Exchange::IConfiguration", "Core::hresult", "Core::ProxyType<Core::IDispatch>", "Core::IDispatch::Dispatch", "LOGERR"], "published": ["Resolve", "Configure"], "classes": [{"name": "AppGatewayImplementation", "description": "Main class implementing app gateway resolution and configuration interfaces, managing WebSocket messages, event processing, and app registration."}, {"name": "WsMsgJob", "description": "Nested class for dispatching WebSocket messages."}, {"name": "RespondJob", "description": "Nested class for handling response dispatching, either via socket or delegate."}, {"name": "AppIdRegistry", "description": "Helper class for managing app IDs associated with connection IDs, with thread-safe add, remove, and get operations."}], "methods": [{"name": "DispatchWsMsg", "description": "Dispatches a WebSocket message based on method, params, request ID, and connection ID."}, {"name": "HandleEvent", "description": "Handles incoming events with context, alias, event type, origin, and listen flag."}, {"name": "handleProvider", "description": "Processes provider-specific requests based on context and provider capabilities."}, {"name": "void ReturnMessageInSocket(const Context & context,const string payload)", "description": "Responds with a message through socket if responder is available.", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"name": "InitializeResolver", "description": "Initializes the resolver component."}, {"name": "InitializeWebsocket", "description": "Sets up WebSocket communication."}, {"name": "ProcessComRpcRequest", "description": "Processes RPC requests over COM."}, {"name": "PreProcessEvent", "description": "Pre-processes events before further handling."}, {"name": "PreProcessProvider", "description": "Pre-processes provider requests."}, {"name": "UpdateContext", "description": "Updates the context based on method and parameters."}, {"name": "InternalResolve", "description": "Performs internal resolution logic."}, {"name": "FetchResolvedData", "description": "Fetches resolved data based on context and parameters."}, {"name": "InternalResolutionConfigure", "description": "Configures internal resolution paths."}, {"name": "SendToLaunchDelegate", "description": "Sends messages to a launch delegate."}, {"name": "void Add(const uint32_t connectionId,string appId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyType<Core::IDispatch> Create(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::ProxyType<Core::IDispatch> Create(AppGatewayImplementation * parent,const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}, {"name": "void Dispatch()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Get(const uint32_t connectionId,string & appId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "void Remove(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "RespondJob(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & destination)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "WsMsgJob(AppGatewayImplementation * parent,const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}, {"name": "~RespondJob()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "~WsMsgJob()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}], "calls": ["mParent.DispatchWsMsg", "mParent.ReturnMessageInSocket", "mParent.SendToLaunchDelegate", "mAppGatewayResponder->Respond"], "search-terms": ["AppGatewayImplementation", "Resolve", "Configure", "WebSocket", "AppIdRegistry", "IAppGatewayResolver", "IConfiguration", "Dispatch", "Response", "EventHandling"], "state": 2, "file_id": 191, "knowledge_revision": 749, "git_revision": "727800fc84f5393f5ac231785d3764465fe20036", "revision_history": [{"608": "29a5080329e5f08afebd86bd055b5f6119b1301a"}, {"749": "727800fc84f5393f5ac231785d3764465fe20036"}], "ctags": [{"_type": "tag", "name": "Add", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            void Add(const uint32_t connectionId, string appId) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t connectionId,string appId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "AppGatewayImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^    class AppGatewayImplementation : public Exchange::IAppGatewayResolver, public Exchange::ICon/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "AppIdRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        class AppIdRegistry{$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Context", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^    using Context = Exchange::GatewayContext;$/", "language": "C++", "typeref": "typename:Exchange::GatewayContext", "kind": "typedef", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            static Core::ProxyType<Core::IDispatch> Create(AppGatewayImplementation *parent,$/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::IDispatch>", "kind": "function", "signature": "(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            static Core::ProxyType<Core::IDispatch> Create(AppGatewayImplementation *parent,$/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::IDispatch>", "kind": "function", "signature": "(AppGatewayImplementation * parent,const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            virtual void Dispatch()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            virtual void Dispatch()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "Get", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            bool Get(const uint32_t connectionId, string& appId) {$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t connectionId,string & appId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Remove", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            void Remove(const uint32_t connectionId) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "RespondJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            RespondJob(AppGatewayImplementation *parent, $/", "language": "C++", "kind": "function", "signature": "(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & destination)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "RespondJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        class EXTERNAL RespondJob : public Core::IDispatch$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ReturnMessageInSocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        void ReturnMessageInSocket(const Context& context, const string payload ) {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Context & context,const string payload)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "WsMsgJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            WsMsgJob(AppGatewayImplementation *parent, $/", "language": "C++", "kind": "function", "signature": "(AppGatewayImplementation * parent,const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "WsMsgJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        class EXTERNAL WsMsgJob : public Core::IDispatch$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mAppGatewayResponder", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        Exchange::IAppGatewayResponder *mAppGatewayResponder;$/", "language": "C++", "typeref": "typename:Exchange::IAppGatewayResponder *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mAppIdMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            std::unordered_map<uint32_t,string> mAppIdMap;$/", "language": "C++", "typeref": "typename:std::unordered_map<uint32_t,string>", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "mAppIdMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            std::mutex mAppIdMutex;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class"}, {"_type": "tag", "name": "mAppIdRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        AppIdRegistry mAppIdRegistry;$/", "language": "C++", "typeref": "typename:AppIdRegistry", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mAppNotifications", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        Exchange::IAppNotifications *mAppNotifications; \\/\\/ Shared pointer to AppNotifications$/", "language": "C++", "typeref": "typename:Exchange::IAppNotifications *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mConnectionId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            const uint32_t mConnectionId;$/", "language": "C++", "typeref": "typename:const uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "mContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            const Context mContext;$/", "language": "C++", "typeref": "typename:const Context", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mDestination", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            const std::string mDestination;$/", "language": "C++", "typeref": "typename:const std::string", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mInternalGatewayResponder", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        Exchange::IAppGatewayResponder *mInternalGatewayResponder; \\/\\/ Shared pointer to Intern/", "language": "C++", "typeref": "typename:Exchange::IAppGatewayResponder *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mMethod", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            const std::string mMethod;$/", "language": "C++", "typeref": "typename:const std::string", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "mParams", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            const std::string mParams;$/", "language": "C++", "typeref": "typename:const std::string", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "mParent", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            AppGatewayImplementation &mParent;$/", "language": "C++", "typeref": "typename:AppGatewayImplementation &", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mParent", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            AppGatewayImplementation &mParent;$/", "language": "C++", "typeref": "typename:AppGatewayImplementation &", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "mPayload", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            const std::string mPayload;$/", "language": "C++", "typeref": "typename:const std::string", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mRequestId", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            const uint32_t mRequestId;$/", "language": "C++", "typeref": "typename:const uint32_t", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}, {"_type": "tag", "name": "mResolverPtr", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        ResolverPtr mResolverPtr;$/", "language": "C++", "typeref": "typename:ResolverPtr", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mService", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^        PluginHost::IShell* mService;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "~RespondJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            ~RespondJob()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "~WsMsgJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/AppGateway/AppGatewayImplementation.h", "pattern": "/^            ~WsMsgJob()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class"}], "hash": "a44cf11f5a6936e996687fc09384fb71", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/AppGateway/AppGatewayImplementation.h", "fields": [{"name": "Exchange::IAppGatewayResponder * mAppGatewayResponder", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::unordered_map<uint32_t,string> mAppIdMap", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mAppIdMutex", "scope": "WPEFramework::Plugin::AppGatewayImplementation::AppIdRegistry", "scopeKind": "class", "description": "unavailable"}, {"name": "AppIdRegistry mAppIdRegistry", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppNotifications * mAppNotifications", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "const uint32_t mConnectionId", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}, {"name": "const Context mContext", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "const std::string mDestination", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppGatewayResponder * mInternalGatewayResponder", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "const std::string mMethod", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}, {"name": "const std::string mParams", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}, {"name": "AppGatewayImplementation & mParent", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "const std::string mPayload", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "const uint32_t mRequestId", "scope": "WPEFramework::Plugin::AppGatewayImplementation::WsMsgJob", "scopeKind": "class", "description": "unavailable"}, {"name": "ResolverPtr mResolverPtr", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * mService", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}]}