{"is_source_file": true, "format": "C++", "description": "This file implements the LifecycleInterfaceConnector class for managing application lifecycle events, including launching, preloading, closing, terminating, killing, and updating app state based on remote calls and app manager logic. It interacts with remote lifecycle manager objects, handles app info, and processes app lifecycle notifications.", "external_files": ["Module.h", "LifecycleInterfaceConnector.h", "<string>", "<memory>", "<iostream>", "<mutex>", "<thread>", "<fstream>", "<sstream>", "<list>", "<unistd.h>", "plugins/System.h", "<interfaces/ILifecycleManager.h>", "AppManagerImplementation.h", "UtilsString.h"], "external_methods": ["Core::Service<RPC::IteratorType<Exchange::IAppManager::ILoadedAppInfoIterator>>::Create", "Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::ERROR_NONE", "Core::ERROR_NONE", "Core::hresult::Release", "Core::hresult::AddRef", "JsonArray::FromString", "JsonArray::Length", "JsonArray::operator[]", "JsonObject::HasLabel", "JsonObject::operator[]", "stat", "timespec_get"], "published": ["createLifecycleManagerRemoteObject", "releaseLifecycleManagerRemoteObject", "isAppLoaded", "launch", "preLoadApp", "closeApp", "terminateApp", "killApp", "sendIntent", "getLoadedApps", "OnAppLifecycleStateChanged", "OnAppStateChanged"], "classes": [{"name": "LifecycleInterfaceConnector", "description": "A singleton class responsible for managing application lifecycle via remote lifecycle manager objects, handling app state changes, notifications, and lifecycle commands."}], "methods": [{"name": "Core::hresult createLifecycleManagerRemoteObject()", "description": "Creates remote objects for interacting with the lifecycle manager and registers notifications.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "void releaseLifecycleManagerRemoteObject()", "description": "Releases remote lifecycle manager objects and unregisters notifications.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult isAppLoaded(const string & appId,bool & loaded)", "description": "Checks if a specified app is loaded.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult launch(const string & appId,const string & intent,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject)", "description": "Launches or resumes an app, possibly spawning a new process if not loaded.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult preLoadApp(const string & appId,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject,string & error)", "description": "Preloads an app into paused or suspended state.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult closeApp(const string & appId)", "description": "Requests the app to transition to a paused or terminated state, with policies for suspend or hibernate.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult terminateApp(const string & appId)", "description": "Terminates the app by unloading it.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult killApp(const string & appId)", "description": "Force kills the app process.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult sendIntent(const string & appId,const string & intent)", "description": "Sends an intent to the active app.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult getLoadedApps(Exchange::IAppManager::ILoadedAppInfoIterator * & apps)", "description": "Retrieves the list of currently loaded apps and their info.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "void OnAppLifecycleStateChanged(const string & appId,const string & appInstanceId,const Exchange::ILifecycleManager::LifecycleState oldState,const Exchange::ILifecycleManager::LifecycleState newState,const string & navigationIntent)", "description": "Callback invoked when an app's lifecycle state changes, updates internal info, and notifies application.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "void OnAppStateChanged(const string & appId,Exchange::ILifecycleManager::LifecycleState state,const string & errorReason)", "description": "Callback invoked when an app's state changes, reports errors if any.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "string GetAppInstanceId(const string & appId) const", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "LifecycleInterfaceConnector(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "int __anon1d84cfde0102(JsonObject& obj, const char* key)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector::getLoadedApps", "scopeKind": "function", "description": "unavailable"}, {"name": "bool fileExists(const char * pFileName)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppManager::AppLifecycleState mapAppLifecycleState(Exchange::ILifecycleManager::LifecycleState state)", "scope": "WPEFramework::Plugin::WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppManager::AppErrorReason mapErrorReason(const string & errorReason)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "void removeAppInfoByAppId(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "~LifecycleInterfaceConnector()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}], "calls": ["mLifecycleManagerRemoteObject->IsAppLoaded", "mLifecycleManagerRemoteObject->SetTargetAppState", "mLifecycleManagerRemoteObject->SpawnApp", "mLifecycleManagerRemoteObject->UnloadApp", "mLifecycleManagerRemoteObject->KillApp", "mLifecycleManagerRemoteObject->SendIntentToActiveApp", "mLifecycleManagerRemoteObject->GetLoadedApps"], "search-terms": ["LifecycleManager", "AppStateChangeNotification", "AppManagerImplementation", "RemoteObject", "AppLifecycle", "SuspendPolicy", "HibernatePolicy", "LifecycleState", "ApplicationControl"], "state": 2, "file_id": 5410, "knowledge_revision": 11050, "git_revision": "", "ctags": [{"_type": "tag", "name": "GetAppInstanceId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        string LifecycleInterfaceConnector::GetAppInstanceId(const string& appId) const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const string & appId) const", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "HIBERNATE_POLICY_FILE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^#define HIBERNATE_POLICY_FILE /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "LifecycleInterfaceConnector", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        LifecycleInterfaceConnector::LifecycleInterfaceConnector(PluginHost::IShell* service)$/", "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "OnAppLifecycleStateChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::OnAppLifecycleStateChanged(const string& appId, const /", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,const string & appInstanceId,const Exchange::ILifecycleManager::LifecycleState oldState,const Exchange::ILifecycleManager::LifecycleState newState,const string & navigationIntent)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "OnAppStateChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::OnAppStateChanged(const string& appId, Exchange::ILife/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,Exchange::ILifecycleManager::LifecycleState state,const string & errorReason)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "PAUSE_STATE_WAITTIME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^#define PAUSE_STATE_WAITTIME /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SUSPEND_POLICY_FILE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^#define SUSPEND_POLICY_FILE /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon1d84cfde0102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^                auto getIntJsonField = [&](JsonObject& obj, const char* key) -> int {$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(JsonObject& obj, const char* key) ", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector::getLoadedApps", "scopeKind": "function"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        LifecycleInterfaceConnector* LifecycleInterfaceConnector::_instance = nullptr;$/", "language": "C++", "typeref": "typename:LifecycleInterfaceConnector *", "kind": "member", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "closeApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::closeApp(const string& appId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "createLifecycleManagerRemoteObject", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::createLifecycleManagerRemoteObject()$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "fileExists", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        bool LifecycleInterfaceConnector::fileExists(const char* pFileName)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const char * pFileName)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "gAppsActiveCounter", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        static uint32_t gAppsActiveCounter = 0;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "variable", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "getLoadedApps", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::getLoadedApps(Exchange::IAppManager::ILoadedA/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppManager::ILoadedAppInfoIterator * & apps)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "isAppLoaded", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::isAppLoaded(const string& appId, bool& loaded/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,bool & loaded)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "killApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::killApp(const string& appId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "launch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::launch(const string& appId, const string& int/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const string & intent,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "mapAppLifecycleState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Exchange::IAppManager::AppLifecycleState WPEFramework::Plugin::LifecycleInterfaceConnect/", "language": "C++", "typeref": "typename:Exchange::IAppManager::AppLifecycleState", "kind": "function", "signature": "(Exchange::ILifecycleManager::LifecycleState state)", "scope": "WPEFramework::Plugin::WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "mapErrorReason", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Exchange::IAppManager::AppErrorReason LifecycleInterfaceConnector::mapErrorReason(const /", "language": "C++", "typeref": "typename:Exchange::IAppManager::AppErrorReason", "kind": "function", "signature": "(const string & errorReason)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "preLoadApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::preLoadApp(const string& appId, const string&/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject,string & error)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "releaseLifecycleManagerRemoteObject", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::releaseLifecycleManagerRemoteObject()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "removeAppInfoByAppId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::removeAppInfoByAppId(const string& appId)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "sendIntent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::sendIntent(const string& appId, const string&/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const string & intent)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "terminateApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::terminateApp(const string& appId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "~LifecycleInterfaceConnector", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        LifecycleInterfaceConnector::~LifecycleInterfaceConnector()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}], "hash": "0922dde498083ce03eb33d726e2cb80a", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "fields": [{"name": "LifecycleInterfaceConnector * _instance", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t gAppsActiveCounter", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"11050": ""}]}