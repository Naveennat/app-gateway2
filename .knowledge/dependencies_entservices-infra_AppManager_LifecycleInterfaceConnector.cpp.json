{"is_source_file": true, "format": "C++", "description": "This file implements a 'LifecycleInterfaceConnector' class which manages interactions with a remote 'LifecycleManager' service in a plugin environment. It handles app lifecycle operations such as launch, preload, close, terminate, kill, send intents, and track app state changes through event handlers. The class also manages remote object creation and cleanup, maintains an internal app info map, and communicates with other components for app state management and telemetry reporting.", "external_files": ["Module.h", "LifecycleInterfaceConnector.h", "<string>", "<memory>", "<iostream>", "<mutex>", "<thread>", "<fstream>", "<sstream>", "<unistd.h>", "plugins/System.h", "interfaces/ILifecycleManager.h", "UtilsString.h", "AppManagerImplementation.h", "AppManagerTelemetryReporting.h"], "external_methods": ["Core::error_t Core::ERROR_GENERAL", "Core::hresult Core::ERROR_NONE", "Core::hresult Core::ERROR_GENERAL", "Core::hresult Core::ERROR_NONE", "mCurrentservice->QueryInterfaceByCallsign", "mCurrentservice->AddRef", "mCurrentservice->Release", "mLifecycleManagerRemoteObject->Unregister", "mLifecycleManagerRemoteObject->Release", "mLifecycleManagerStateRemoteObject->Unregister", "mLifecycleManagerStateRemoteObject->Release", "mLifecycleManagerRemoteObject->IsAppLoaded", "mLifecycleManagerRemoteObject->SetTargetAppState", "mLifecycleManagerRemoteObject->SpawnApp", "mLifecycleManagerRemoteObject->UnloadApp", "mLifecycleManagerRemoteObject->KillApp", "mLifecycleManagerRemoteObject->SendIntentToActiveApp", "mLifecycleManagerRemoteObject->GetLoadedApps", "mapAppLifecycleState"], "published": ["OnAppLifecycleStateChanged", "OnAppStateChanged"], "classes": [{"name": "LifecycleInterfaceConnector", "description": "A singleton class managing app lifecycle interactions with the remote lifecycle manager, including launching, preloading, closing, terminating, killing apps, and handling app state change notifications."}], "methods": [{"name": "Core::hresult createLifecycleManagerRemoteObject()", "description": "Creates remote interface objects for lifecycle management.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "void releaseLifecycleManagerRemoteObject()", "description": "Releases remote interface objects for cleanup.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult isAppLoaded(const string & appId,bool & loaded)", "description": "Checks if a specific app is loaded.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult launch(const string & appId,const string & intent,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject)", "description": "Launches an app with specified intent and runtime configuration.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult preLoadApp(const string & appId,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject,string & error)", "description": "Preloads an app with given launch arguments and updates internal app info.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult closeApp(const string & appId)", "description": "Closes an app, handling suspend or unload strategies based on policies.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult terminateApp(const string & appId)", "description": "Terminates an app forcibly via unload command.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult killApp(const string & appId)", "description": "Kills an app, forcibly stopping its process.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult sendIntent(const string & appId,const string & intent)", "description": "Sends an intent to an active app.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Core::hresult getLoadedApps(string & apps)", "description": "Retrieves the list of loaded apps and their states.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Exchange::IAppManager::AppLifecycleState mapAppLifecycleState(Exchange::ILifecycleManager::LifecycleState state)", "description": "Converts internal lifecycle states to app manager states.", "scope": "WPEFramework::Plugin::WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "void OnAppLifecycleStateChanged(const string & appId,const string & appInstanceId,const Exchange::ILifecycleManager::LifecycleState oldState,const Exchange::ILifecycleManager::LifecycleState newState,const string & navigationIntent)", "description": "Event handler when app lifecycle state changes, updates internal info and notifies the app manager.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "void OnAppStateChanged(const string & appId,Exchange::ILifecycleManager::LifecycleState state,const string & errorReason)", "description": "Event handler for app state changes, maps error reasons and reports accordingly.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "Exchange::IAppManager::AppErrorReason mapErrorReason(const string & errorReason)", "description": "Maps string error reasons to enum error code.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "string GetAppInstanceId(const string & appId) const", "description": "Retrieves app instance ID for a given app ID with no synchronization.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "void removeAppInfoByAppId(const string & appId)", "description": "Removes app info entry from internal map.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "bool fileExists(const char * pFileName)", "description": "Checks whether a specific file exists and is a regular file.", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"name": "LifecycleInterfaceConnector(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "int __anon1d84cfde0102(JsonObject& obj, const char* key)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector::getLoadedApps", "scopeKind": "function", "description": "unavailable"}, {"name": "~LifecycleInterfaceConnector()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}], "calls": ["createLifecycleManagerRemoteObject", "mLifecycleManagerRemoteObject->IsAppLoaded", "mLifecycleManagerRemoteObject->SetTargetAppState", "mLifecycleManagerRemoteObject->SpawnApp", "mLifecycleManagerRemoteObject->UnloadApp", "mLifecycleManagerRemoteObject->KillApp", "mLifecycleManagerRemoteObject->SendIntentToActiveApp", "mLifecycleManagerRemoteObject->GetLoadedApps", "mapAppLifecycleState", "AppManagerImplementation::getInstance", "AppManagerTelemetryReporting::getInstance", "timespec_get", "mapErrorReason"], "search-terms": ["Lifecycle", "AppManager", "RemoteObject", "AppLifecycleState", "LifecycleManager", "Launch", "Close", "Terminate", "Kill", "SendIntent", "getLoadedApps", "SuspendPolicy", "HibernatePolicy", "AppInfo", "StateChange", "Telemetry", "EventHandlers"], "state": 2, "file_id": 361, "knowledge_revision": 1467, "git_revision": "", "ctags": [{"_type": "tag", "name": "GetAppInstanceId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        string LifecycleInterfaceConnector::GetAppInstanceId(const string& appId) const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "(const string & appId) const", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "HIBERNATE_POLICY_FILE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^#define HIBERNATE_POLICY_FILE /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "LifecycleInterfaceConnector", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        LifecycleInterfaceConnector::LifecycleInterfaceConnector(PluginHost::IShell* service)$/", "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "OnAppLifecycleStateChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::OnAppLifecycleStateChanged(const string& appId, const /", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,const string & appInstanceId,const Exchange::ILifecycleManager::LifecycleState oldState,const Exchange::ILifecycleManager::LifecycleState newState,const string & navigationIntent)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "OnAppStateChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::OnAppStateChanged(const string& appId, Exchange::ILife/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,Exchange::ILifecycleManager::LifecycleState state,const string & errorReason)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "PAUSE_STATE_WAITTIME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^#define PAUSE_STATE_WAITTIME /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SUSPEND_POLICY_FILE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^#define SUSPEND_POLICY_FILE /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anon1d84cfde0102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^                auto getIntJsonField = [&](JsonObject& obj, const char* key) -> int {$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(JsonObject& obj, const char* key) ", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector::getLoadedApps", "scopeKind": "function"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        LifecycleInterfaceConnector* LifecycleInterfaceConnector::_instance = nullptr;$/", "language": "C++", "typeref": "typename:LifecycleInterfaceConnector *", "kind": "member", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "closeApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::closeApp(const string& appId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "createLifecycleManagerRemoteObject", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::createLifecycleManagerRemoteObject()$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "fileExists", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        bool LifecycleInterfaceConnector::fileExists(const char* pFileName)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const char * pFileName)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "gAppsActiveCounter", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        static uint32_t gAppsActiveCounter = 0;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "variable", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "getLoadedApps", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::getLoadedApps(string& apps)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(string & apps)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "isAppLoaded", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::isAppLoaded(const string& appId, bool& loaded/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,bool & loaded)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "killApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::killApp(const string& appId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "launch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::launch(const string& appId, const string& int/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const string & intent,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "mapAppLifecycleState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Exchange::IAppManager::AppLifecycleState WPEFramework::Plugin::LifecycleInterfaceConnect/", "language": "C++", "typeref": "typename:Exchange::IAppManager::AppLifecycleState", "kind": "function", "signature": "(Exchange::ILifecycleManager::LifecycleState state)", "scope": "WPEFramework::Plugin::WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "mapErrorReason", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Exchange::IAppManager::AppErrorReason LifecycleInterfaceConnector::mapErrorReason(const /", "language": "C++", "typeref": "typename:Exchange::IAppManager::AppErrorReason", "kind": "function", "signature": "(const string & errorReason)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "preLoadApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::preLoadApp(const string& appId, const string&/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const string & launchArgs,WPEFramework::Exchange::RuntimeConfig & runtimeConfigObject,string & error)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "releaseLifecycleManagerRemoteObject", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::releaseLifecycleManagerRemoteObject()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "removeAppInfoByAppId", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        void LifecycleInterfaceConnector::removeAppInfoByAppId(const string& appId)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "sendIntent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::sendIntent(const string& appId, const string&/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const string & intent)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "terminateApp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        Core::hresult LifecycleInterfaceConnector::terminateApp(const string& appId)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId)", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}, {"_type": "tag", "name": "~LifecycleInterfaceConnector", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "pattern": "/^        LifecycleInterfaceConnector::~LifecycleInterfaceConnector()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class"}], "hash": "9f3f275cbc52fddda713dd8be6e6b944", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/AppManager/LifecycleInterfaceConnector.cpp", "fields": [{"name": "LifecycleInterfaceConnector * _instance", "scope": "WPEFramework::Plugin::LifecycleInterfaceConnector", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t gAppsActiveCounter", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"1467": ""}]}