{"is_source_file": true, "format": "C++", "description": "This file implements the AppGatewayResponderImplementation class, which manages websocket connections, handles incoming messages, authentication, connection events, and references to external interfaces within the WPEFramework plugin for an application gateway. It also contains connection management, configuration, and notification logic.", "external_files": ["<plugins/JSONRPC.h>", "<plugins/IShell.h>", "AppGatewayResponderImplementation.h", "UtilsLogging.h", "UtilsConnections.h", "UtilsCallsign.h", "<interfaces/IAppNotifications.h>"], "external_methods": ["Core::WorkerPool::Instance().Submit", "Core::Error", "Core::NodeId", "Core::JSON::Error", "Core::IWorkerPool::Instance", "mService->QueryInterfaceByCallsign", "mService->AddRef", "mService->Release", "mService->ConfigLine", "mResolver->Resolve", "mAuthenticator->Authenticate", "mAppIdRegistry.Add", "mAppIdRegistry.Get", "mAppIdRegistry.Remove", "mWsManager.Start", "mWsManager.Close", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.UpdateConnection", "mWsManager.GetMessageHandler", "JsonObject::ToString"], "published": ["Respond", "Emit", "Request", "GetGatewayConnectionContext", "Register", "Unregister"], "classes": [{"name": "AppGatewayResponderImplementation", "description": "A class managing websocket connections, message handling, authentication, and notifications for the application gateway in a WPEFramework plugin."}], "methods": [{"name": "uint32_t Configure(PluginHost::IShell * shell)", "description": "Configures the responder with the provided shell, initializes websocket, and sets up necessary interfaces.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeWebsocket()", "description": "Initializes and starts the websocket server, setting message, auth, and disconnect handlers.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Respond(const Context & context,const string & payload)", "description": "Handles response messaging for a specific request ID and connection.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Emit(const Context & context,const string & method,const string & payload)", "description": "Sends an event (method and payload) over the websocket for a specific connection.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Request(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "description": "Handles a request from a client, identified by connection ID and request ID.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult GetGatewayConnectionContext(const uint32_t connectionId,const string & contextKey,string & contextValue)", "description": "Retrieves context information for a given connection ID based on registered keys or environment overrides.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "void DispatchWsMsg(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "description": "Processes a websocket message, resolving it via the resolver interface, based on the app ID registry.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Register(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Registers a notification callback to be notified of connection status changes.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Unregister(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Unregisters a previously registered notification callback.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "void OnConnectionStatusChanged(const string & appId,const uint32_t connectionId,const bool connected)", "description": "Notifies registered observers about a connection's application ID, connection ID, and status.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "AppGatewayResponderImplementation()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "__anonaa89d9450102(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "bool __anonaa89d9450202(const uint32_t connectionId, const std::string &token)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "__anonaa89d9450302(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "~AppGatewayResponderImplementation()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::WorkerPool::Instance().Submit", "mService->QueryInterfaceByCallsign", "mResolver->Resolve", "mAuthenticator->Authenticate", "mAppIdRegistry.Add", "mAppIdRegistry.Get", "mAppIdRegistry.Remove", "mWsManager.Start", "mWsManager.Close", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.UpdateConnection", "Core::JSON::Error", "JsonObject::ToString", "LOGINFO", "LOGWARN", "LOGERR", "LOGTRACE", "Core::IWorkerPool::Instance"], "search-terms": ["AppGatewayResponderImplementation", "websocket", "connection", "resolver", "authentication", "connection registry", "notification", "WS message handling", "App Gateway plugin", "connection ID context"], "state": 2, "file_id": 8718, "knowledge_revision": 17452, "git_revision": "6e47ed51cb921858c8a3e089cb8dbf347eb4a03e", "revision_history": [{"17442": "6e47ed51cb921858c8a3e089cb8dbf347eb4a03e"}, {"17452": "6e47ed51cb921858c8a3e089cb8dbf347eb4a03e"}], "ctags": [{"_type": "tag", "name": "APPGATEWAY_SOCKET_ADDRESS", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define APPGATEWAY_SOCKET_ADDRESS /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::Configure(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_CONFIG_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define DEFAULT_CONFIG_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DispatchWsMsg", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        void AppGatewayResponderImplementation::DispatchWsMsg(const std::string &method,$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Emit", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Emit(const Context& context \\/* @in *\\//", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetGatewayConnectionContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::GetGatewayConnectionContext(const uint3/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const string & contextKey,string & contextValue)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeWebsocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::InitializeWebsocket(){$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OnConnectionStatusChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        void AppGatewayResponderImplementation::OnConnectionStatusChanged(const string& appId, c/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,const uint32_t connectionId,const bool connected)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Register(Exchange::IAppGatewayResponder/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Request", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Request(const uint32_t connectionId \\/*/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Respond(const Context& context, const s/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Unregister(Exchange::IAppGatewayRespond/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anonaa89d9450102", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anonaa89d9450202", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t connectionId, const std::string &token) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anonaa89d9450302", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "~AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::~AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}], "hash": "e2515efd84d3c47a78d8be58e51414e0", "format-version": 4, "code-base-name": "app-gateway2", "filename": "plugin/AppGateway/AppGatewayResponderImplementation.cpp"}