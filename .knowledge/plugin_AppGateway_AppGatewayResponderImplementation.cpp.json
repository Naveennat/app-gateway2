{"is_source_file": true, "format": "C++", "description": "This file implements the core functionalities of the AppGatewayResponder, including WebSocket server initialization, connection handling, message dispatching, and notification management within the WPEFramework plugin infrastructure.", "external_files": ["<string>", "<plugins/JSONRPC.h>", "<plugins/IShell.h>", "\"AppGatewayResponderImplementation.h\"", "\"UtilsLogging.h\"", "\"UtilsConnections.h\"", "\"UtilsCallsign.h\"", "<interfaces/IAppNotifications.h>"], "external_methods": ["Core::ERROR_NONE", "Core::Error", "Core::IWorkerPool::Instance().Submit", "mService->QueryInterfaceByCallsign", "mService->AddRef", "mService->Release", "mService->ConfigLine", "mWsManager.SetMessageHandler", "mWsManager.SetAuthHandler", "mWsManager.SetDisconnectHandler", "mWsManager.Start", "mResolver->Resolve", "mAppIdRegistry.Get", "mAppIdRegistry.Add", "mAppIdRegistry.Remove", "LOGINFO", "LOGWARN", "LOGERR", "LOGTRACE", "mWsManager.Close", "core::json::JsonObject::ToString", "core::json::JsonObject", "Core::NodeId::NodeId", "Core::OptionalType", "JsonObject"], "published": ["AppGatewayResponderImplementation::Configure", "AppGatewayResponderImplementation::Respond", "AppGatewayResponderImplementation::Emit", "AppGatewayResponderImplementation::Request", "AppGatewayResponderImplementation::GetGatewayConnectionContext", "AppGatewayResponderImplementation::Register", "AppGatewayResponderImplementation::Unregister", "AppGatewayResponderImplementation::OnConnectionStatusChanged"], "classes": [{"name": "AppGatewayResponderImplementation", "description": "Implements the WebSocket-based App Gateway responder, managing connections, message dispatching, and notification registration within the WPEFramework plugin."}], "methods": [{"name": "uint32_t Configure(PluginHost::IShell * shell)", "description": "Initializes the plugin with the shell interface and sets up WebSocket server.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "uint32_t InitializeWebsocket()", "description": "Configures and starts the WebSocket server, setting up message, auth, and disconnect handlers.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Respond(const Context & context,const string & payload)", "description": "Handles response to a specific request identified by context.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Emit(const Context & context,const string & method,const string & payload)", "description": "Sends a message to a specific connection context.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Request(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "description": "Processes a request from a connection.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult GetGatewayConnectionContext(const uint32_t connectionId,const string & contextKey,string & contextValue)", "description": "Retrieves the connection context for a given connection ID.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "void DispatchWsMsg(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "description": "Dispatches a WebSocket message based on connection's app ID and resolves the method call.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Register(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Registers a notification callback for connection status changes.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "Core::hresult Unregister(Exchange::IAppGatewayResponder::INotification * notification)", "description": "Unregisters a notification callback.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "void OnConnectionStatusChanged(const string & appId,const uint32_t connectionId,const bool connected)", "description": "Notifies registered observers about changes in connection status.", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"name": "AppGatewayResponderImplementation()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "__anonaa89d9450102(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "bool __anonaa89d9450202(const uint32_t connectionId, const std::string &token)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "__anonaa89d9450302(const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function", "description": "unavailable"}, {"name": "~AppGatewayResponderImplementation()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::IWorkerPool::Instance().Submit", "mResolver->Resolve", "mAppIdRegistry.Get", "mAppIdRegistry.Add", "mAppIdRegistry.Remove", "mWsManager.Close", "mWsManager.UpdateConnection", "JsonObject::ToString"], "search-terms": ["AppGateway", "WebSocket", "Connection management", "Notification callback", "Connection ID", "App ID registry", "Dispatch message", "Resolve method", "WS connection", "Connection status change"], "state": 2, "file_id": 8731, "knowledge_revision": 17481, "git_revision": "988378322a0123f0e521fa92423a0cc8f4c57e27", "ctags": [{"_type": "tag", "name": "APPGATEWAY_SOCKET_ADDRESS", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define APPGATEWAY_SOCKET_ADDRESS /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::Configure(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_CONFIG_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^#define DEFAULT_CONFIG_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DispatchWsMsg", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        void AppGatewayResponderImplementation::DispatchWsMsg(const std::string &method,$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & method,const std::string & params,const uint32_t requestId,const uint32_t connectionId)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Emit", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Emit(const Context& context \\/* @in *\\//", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & method,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetGatewayConnectionContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::GetGatewayConnectionContext(const uint3/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const string & contextKey,string & contextValue)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "InitializeWebsocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        uint32_t AppGatewayResponderImplementation::InitializeWebsocket(){$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OnConnectionStatusChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        void AppGatewayResponderImplementation::OnConnectionStatusChanged(const string& appId, c/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & appId,const uint32_t connectionId,const bool connected)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Register(Exchange::IAppGatewayResponder/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Request", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Request(const uint32_t connectionId \\/*/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const uint32_t connectionId,const uint32_t id,const string & method,const string & params)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Respond", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Respond(const Context& context, const s/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const Context & context,const string & payload)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        Core::hresult AppGatewayResponderImplementation::Unregister(Exchange::IAppGatewayRespond/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(Exchange::IAppGatewayResponder::INotification * notification)", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "__anonaa89d9450102", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const std::string &method, const std::string &params, const int requestId, const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anonaa89d9450202", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint32_t connectionId, const std::string &token) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "__anonaa89d9450302", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^                {$/", "file": true, "language": "C++", "kind": "function", "signature": "(const uint32_t connectionId) ", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation::InitializeWebsocket", "scopeKind": "function"}, {"_type": "tag", "name": "~AppGatewayResponderImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayResponderImplementation.cpp", "pattern": "/^        AppGatewayResponderImplementation::~AppGatewayResponderImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayResponderImplementation", "scopeKind": "class"}], "hash": "d3fbd331c5b7a1e57689423d8dac7f8c", "format-version": 4, "code-base-name": "app-gateway2", "filename": "plugin/AppGateway/AppGatewayResponderImplementation.cpp", "revision_history": [{"17481": "988378322a0123f0e521fa92423a0cc8f4c57e27"}]}