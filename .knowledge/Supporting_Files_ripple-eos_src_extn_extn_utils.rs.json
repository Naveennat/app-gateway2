{"is_source_file": true, "format": "Rust", "description": "This Rust source file provides utility functions for converting token responses and configuration management related to distribution authentication in a ripple-based gateway system. It includes methods for converting tokens, handling configuration deserialization, and logging errors.", "external_files": ["crate::model::auth::GetOttTokenResponse", "crate::rpc::eos_authentication_rpc::{TokenResult, TokenType}", "chrono::{DateTime, Utc}", "serde::Deserialize", "serde_json::Value", "thunder_ripple_sdk::ripple_sdk::log::error", "crate::gateway::appsanity_gateway::{defaults, AppsanityConfig}"], "external_methods": ["Duration::from_secs", "SystemTime::now", "DateTime::<Utc>::from", "error!"], "published": ["convert_into_platform_token_response", "convert_into_ott_token_response", "DistributorConfig"], "classes": [{"name": "DistributorConfig", "description": "Configuration structure holding the appsanity configuration, with a method to retrieve the configuration from an optional JSON value."}], "methods": [{"name": "convert_into_platform_token_response(token: String) -> TokenResult", "description": "Converts a simple token string into a TokenResult with platform token type, setting expiration as None.", "scope": "", "scopeKind": ""}, {"name": "convert_into_ott_token_response(ott_token: GetOttTokenResponse) -> TokenResult", "description": "Converts a GetOttTokenResponse into a TokenResult, calculating expiration date if available.", "scope": "", "scopeKind": ""}, {"name": "DistributorConfig::get", "description": "Retrieves the appsanity configuration from an optional JSON value, returning defaults if parsing fails or no value is provided."}, {"name": "get(maybe_value: Option<Value>) -> AppsanityConfig", "scope": "DistributorConfig", "scopeKind": "implementation", "description": "unavailable"}], "calls": ["SystemTime::now", "Duration::from_secs", "DateTime::<Utc>::from", "error!"], "search-terms": ["convert_into_platform_token_response", "convert_into_ott_token_response", "DistributorConfig", "extn_utils.rs", "token response", "configuration deserialization"], "state": 2, "file_id": 305, "knowledge_revision": 1023, "git_revision": "046761b9656aa3448e0e16f1a3a9c084965a6b28", "ctags": [{"_type": "tag", "name": "ConvertError", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^pub enum ConvertError {$/", "language": "Rust", "kind": "enum"}, {"_type": "tag", "name": "DistributorConfig", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^impl DistributorConfig {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "DistributorConfig", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^pub struct DistributorConfig {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "IncompatibleFormat", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^    IncompatibleFormat,$/", "language": "Rust", "kind": "enumerator", "scope": "ConvertError", "scopeKind": "enum"}, {"_type": "tag", "name": "appsanity", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^    pub appsanity: AppsanityConfig,$/", "language": "Rust", "kind": "field", "scope": "DistributorConfig", "scopeKind": "struct"}, {"_type": "tag", "name": "convert_into_ott_token_response", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^pub fn convert_into_ott_token_response(ott_token: GetOttTokenResponse) -> TokenResult {$/", "language": "Rust", "kind": "function", "signature": "(ott_token: GetOttTokenResponse) -> TokenResult"}, {"_type": "tag", "name": "convert_into_platform_token_response", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^pub fn convert_into_platform_token_response(token: String) -> TokenResult {$/", "language": "Rust", "kind": "function", "signature": "(token: String) -> TokenResult"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/app-gateway2/Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "pattern": "/^    pub fn get(maybe_value: Option<Value>) -> AppsanityConfig {$/", "language": "Rust", "kind": "method", "signature": "(maybe_value: Option<Value>) -> AppsanityConfig", "scope": "DistributorConfig", "scopeKind": "implementation"}], "hash": "4b89479dac3fdb3937b1c97256e22750", "format-version": 4, "code-base-name": "app-gateway2", "filename": "Supporting_Files/ripple-eos/src/extn/extn_utils.rs", "fields": [{"name": "pub appsanity: AppsanityConfig,", "scope": "DistributorConfig", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"1023": "046761b9656aa3448e0e16f1a3a9c084965a6b28"}]}