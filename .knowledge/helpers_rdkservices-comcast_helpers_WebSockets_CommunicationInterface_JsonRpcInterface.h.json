{"is_source_file": true, "format": "C++ header file", "description": "This file defines a template class `JsonRpcInterface` for implementing JSON-RPC communication over WebSockets. It includes methods for sending requests, handling responses, and managing notifications, with internal synchronization mechanisms. The class is designed to be inherited and used for JSON-RPC client-like interactions within the WPEFramework Plugins.", "external_files": ["../JsonRpc/Request.h", "../JsonRpc/Response.h", "../JsonRpc/Notification.h", "../../utils.h", "<future>", "<functional>", "<map>", "<mutex>", "<string>", "boost/optional.hpp"], "external_methods": [], "published": [], "classes": [{"name": "JsonRpcInterface", "description": "A template class providing an interface for JSON-RPC communication over WebSockets, supporting message sending, response handling, and notification processing."}], "methods": [{"name": "bool sendRequest(const JsonRpc::Request & request,JsonRpc::Response & response)", "description": "Sends a JSON-RPC request and waits for the response, managing internal promise/future synchronization.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "void setNotificationHandler(std::function<void (const JsonRpc::Notification &)> notificationHandler)", "description": "Sets a callback function to handle incoming notifications.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "void onMessage(const std::string & message)", "description": "Processes incoming WebSocket messages, routing them to the appropriate response or notification handler.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "bool getAsyncResponse(uint32_t id,std::future<string> & futureReponse,JsonRpc::Response & response)", "description": "Waits asynchronously for a response to a request with a timeout.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "boost::optional<std::future<string>> createFutureResponse(uint32_t id)", "description": "Creates a promise-future pair for an outgoing request, stored in the internal map.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "void removePromise(uint32_t id)", "description": "Removes the promise associated with a given request ID from internal storage.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "bool isRequestProcessingOngoing(uint32_t id)", "description": "Checks if a request with the given ID is currently being processed.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "void handleNotification(const std::string & message)", "description": "Handles an incoming notification message.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "void handleResponse(uint32_t id,const std::string & message)", "description": "Handles an incoming response message by fulfilling the corresponding promise.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"name": "bool processResponse(uint32_t id,const std::string & responseString,JsonRpc::Response & deviceResponse) const", "description": "Parses and processes a response string, extracting success or error info.", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}], "calls": ["derived.send()", "json.FromString()", "notif.FromString()", "notif.isValid()", "deviceResponse.FromString()", "deviceResponse.isValid()", "deviceResponse.getResult()", "deviceResponse.getError()", "getBoolParameter()", "getNumberParameter()", "getStringParameter()"], "search-terms": ["JsonRpcInterface", "sendRequest", "WebSockets", "JSON-RPC", "NotificationHandler", "response map", "promise-future synchronization", "handleResponse", "handleNotification"], "state": 2, "file_id": 8436, "knowledge_revision": 17563, "git_revision": "bc95ad096bdaa0d2d554ecfc4389c78048005d56", "ctags": [{"_type": "tag", "name": "JsonRpcInterface", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^class JsonRpcInterface$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^namespace Plugin       {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "WebSockets", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^namespace WebSockets   {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "createFutureResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^boost::optional<std::future<string> > JsonRpcInterface<Derived>::createFutureResponse(uint32_t i/", "language": "C++", "typeref": "typename:boost::optional<std::future<string>>", "kind": "function", "signature": "(uint32_t id)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "getAsyncResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::getAsyncResponse(uint32_t id, std::future<string>& futureReponse/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t id,std::future<string> & futureReponse,JsonRpc::Response & response)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "handleNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::handleNotification(const std::string& message)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & message)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "handleResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::handleResponse(uint32_t id, const std::string& message)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t id,const std::string & message)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "isRequestProcessingOngoing", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::isRequestProcessingOngoing(uint32_t id)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t id)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "notificationHandler_", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^    std::function<void(const JsonRpc::Notification&)> notificationHandler_;$/", "language": "C++", "typeref": "typename:std::function<void (const JsonRpc::Notification &)>", "kind": "member", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "onMessage", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::onMessage(const std::string& message)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const std::string & message)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "processResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::processResponse(uint32_t id, const std::string &responseString, /", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(uint32_t id,const std::string & responseString,JsonRpc::Response & deviceResponse) const", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "removePromise", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::removePromise(uint32_t id)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t id)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "responseMutex_", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^    std::mutex responseMutex_;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "responseToPromise_", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^    std::map<uint32_t, std::promise<std::string> > responseToPromise_;$/", "language": "C++", "typeref": "typename:std::map<uint32_t,std::promise<std::string>>", "kind": "member", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "sendRequest", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^bool JsonRpcInterface<Derived>::sendRequest(const JsonRpc::Request& request, JsonRpc::Response& /", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const JsonRpc::Request & request,JsonRpc::Response & response)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}, {"_type": "tag", "name": "setNotificationHandler", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "pattern": "/^void JsonRpcInterface<Derived>::setNotificationHandler(std::function<void(const JsonRpc::Notific/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(std::function<void (const JsonRpc::Notification &)> notificationHandler)", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class"}], "hash": "4c94cae17a1ac2cf9471b153ac88963e", "format-version": 4, "code-base-name": "app-gateway2", "filename": "helpers/rdkservices-comcast/helpers/WebSockets/CommunicationInterface/JsonRpcInterface.h", "fields": [{"name": "std::function<void (const JsonRpc::Notification &)> notificationHandler_", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex responseMutex_", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}, {"name": "std::map<uint32_t,std::promise<std::string>> responseToPromise_", "scope": "WPEFramework::Plugin::WebSockets::JsonRpcInterface", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"17563": "bc95ad096bdaa0d2d554ecfc4389c78048005d56"}]}