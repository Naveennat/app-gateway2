{"is_source_file": true, "format": "C++ header file", "description": "This file declares the WPEFramework::DiscoveryDelegate class, which provides an interface for interacting with a discovery service via RPC calls. It includes methods for media event linking, content access, watching content, sign-in/out, and entitlement account linking, all utilizing an external link acquired through DelegateUtils. The class encapsulates functionality to facilitate communication with a discovery service, manage session state, and handle JSON payloads.", "external_files": ["DelegateUtils.h", "UtilsLogging.h"], "external_methods": ["DelegateUtils::AcquireLink", "JsonObject::FromString", "JsonObject::HasLabel", "JsonObject::Object", "JsonObject::ToString", "Core::JSON::Boolean", "Core::JSON::Double", "Core::ERROR_NONE", "Core::ERROR_UNAVAILABLE", "Core::ERROR_NOT_SUPPORTED"], "published": ["WPEFramework::DiscoveryDelegate"], "classes": [{"name": "WPEFramework::DiscoveryDelegate", "description": "A class that provides methods to interact with a discovery service via RPC, including media event handling, content access, watching media, sign-in/out, and entitlement management."}], "methods": [{"name": "uint32_t MediaEventAccountLink(const std::string & appId,const std::string & payload,std::string & result)", "description": "Handles media event linking, routing events to 'watchNext' or 'watched' RPCs depending on the 'completed' status of the event.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t ContentAccess(const std::string & appId,const std::string & idsPayload,std::string & result)", "description": "Invokes 'contentAccess' RPC with provided IDs payload, returning a JSON result.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t WatchNext(const std::string & appId,const std::string & contentId,std::string & result)", "description": "Calls 'watchNext' RPC with the specified content ID, returning a JSON result.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t Watched(const std::string & appId,const std::string & entityId,const double progress,const bool completed,const std::string & watchedOn,std::string & result)", "description": "Calls 'watched' RPC to mark content as watched with progress and completion status.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t SignIn(const std::string & appId,const std::string & entitlements,bool & success)", "description": "Performs sign-in to the discovery service with entitlements, setting success status.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t SignOut(const std::string & appId,bool & success)", "description": "Performs sign-out from the discovery service, indicating success status.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t EntitlementsAccountLink(const std::string & appId,const std::string & payload,std::string & result)", "description": "Handles account linking actions ('signIn' or 'signOut') based on payload contents.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "DiscoveryDelegate(PluginHost::IShell * shell)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class", "description": "unavailable"}], "calls": ["DelegateUtils::AcquireLink", "JsonObject::FromString", "JsonObject::HasLabel", "JsonObject::Object", "JsonObject::ToString", "link->Invoke<JsonObject, JsonObject>"], "search-terms": ["DiscoveryDelegate", "MediaEventAccountLink", "ContentAccess", "WatchNext", "Watched", "SignIn", "SignOut", "EntitlementsAccountLink"], "state": 2, "file_id": 6439, "knowledge_revision": 12804, "git_revision": "f28018468ba067a40f416649bf901f0bc860aa4c", "revision_history": [{"12793": "f28018468ba067a40f416649bf901f0bc860aa4c"}, {"12804": "f28018468ba067a40f416649bf901f0bc860aa4c"}], "ctags": [{"_type": "tag", "name": "ContentAccess", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t ContentAccess(const std::string& appId, const std::string& idsPayload, std::st/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & idsPayload,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "DiscoveryDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         DiscoveryDelegate(PluginHost::IShell* shell) : _shell(shell) {}$/", "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "DiscoveryDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^     class DiscoveryDelegate {$/", "language": "C++", "kind": "class", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "EntitlementsAccountLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t EntitlementsAccountLink(const std::string& appId, const std::string& payload, /", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & payload,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "FB_DISCOVERY_CALLSIGN", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^ #define FB_DISCOVERY_CALLSIGN /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "MediaEventAccountLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t MediaEventAccountLink(const std::string& appId, const std::string& payload, st/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & payload,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "SignIn", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t SignIn(const std::string& appId, const std::string& entitlements, bool& succes/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & entitlements,bool & success)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "SignOut", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t SignOut(const std::string& appId, bool& success) {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,bool & success)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^ namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "WatchNext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t WatchNext(const std::string& appId, const std::string& contentId, std::string&/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & contentId,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "Watched", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t Watched(const std::string& appId, const std::string& entityId, const double pr/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & entityId,const double progress,const bool completed,const std::string & watchedOn,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "_shell", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         PluginHost::IShell* _shell;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}], "hash": "3704bee6aa8be41d0c10b42579d3994e", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/Badger/Delegate/DiscoveryDelegate.h", "fields": [{"name": "PluginHost::IShell * _shell", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class", "description": "unavailable"}]}