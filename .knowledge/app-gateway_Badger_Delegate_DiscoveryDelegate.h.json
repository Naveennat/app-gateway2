{"is_source_file": true, "format": "C++ header file", "description": "This file defines the DiscoveryDelegate class which provides an interface for various discovery-related operations such as media event linking, content access, watch-next actions, and account linking through RPC calls facilitated by a link acquired from DelegateUtils. It includes methods for sign-in/out, managing media progress, and entitlements, intended for interaction with a discovery service (likely within a plugin).", "external_files": ["DelegateUtils.h", "UtilsLogging.h"], "external_methods": ["DelegateUtils::AcquireLink"], "published": ["MediaEventAccountLink", "ContentAccess", "WatchNext", "Watched", "SignIn", "SignOut", "EntitlementsAccountLink"], "classes": [{"name": "DiscoveryDelegate", "description": "A class providing an interface for discovery-related RPC interactions within the WPEFramework, utilizing a provided shell interface for communication with the underlying platform services."}], "methods": [{"name": "uint32_t MediaEventAccountLink(const std::string & appId,const std::string & payload,std::string & result)", "description": "Routes media event data to the discovery service, either as a watchNext or watched command based on completion status.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t ContentAccess(const std::string & appId,const std::string & idsPayload,std::string & result)", "description": "Calls the contentAccess method of the discovery service with provided entitlements or availabilities.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t WatchNext(const std::string & appId,const std::string & contentId,std::string & result)", "description": "Invokes the watchNext command with a specific content identifier.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t Watched(const std::string & appId,const std::string & entityId,const double progress,const bool completed,const std::string & watchedOn,std::string & result)", "description": "Reports progress and completion status of viewed content.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t SignIn(const std::string & appId,const std::string & entitlements,bool & success)", "description": "Initiates a sign-in process with entitlements for a particular app ID.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t SignOut(const std::string & appId,bool & success)", "description": "Performs sign-out operation for a given app ID.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "uint32_t EntitlementsAccountLink(const std::string & appId,const std::string & payload,std::string & result)", "description": "Handles account link actions such as sign-in and sign-out based on payload data.", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"name": "DiscoveryDelegate(PluginHost::IShell * shell)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class", "description": "unavailable"}], "calls": ["DelegateUtils::AcquireLink", "link->Invoke<JsonObject, JsonObject>(_T(\"watchNext\"), ...)", "link->Invoke<JsonObject, JsonObject>(_T(\"watched\"), ...)", "link->Invoke<JsonObject, JsonObject>(_T(\"contentAccess\"), ...)", "link->Invoke<JsonObject, JsonObject>(_T(\"signIn\"), ...)", "link->Invoke<JsonObject, JsonObject>(_T(\"signOut\"), ...)"], "search-terms": ["DiscoveryDelegate", "mediaEventAccountLink", "contentAccess", "watchNext", "entitlements", "accountLink", "signIn", "signOut", "WPEFramework"], "state": 2, "file_id": 6439, "knowledge_revision": 13475, "git_revision": "c0bd146f4f227549be1a67cfc787928cdf3d1663", "revision_history": [{"12793": "f28018468ba067a40f416649bf901f0bc860aa4c"}, {"12804": "f28018468ba067a40f416649bf901f0bc860aa4c"}, {"13475": "c0bd146f4f227549be1a67cfc787928cdf3d1663"}], "ctags": [{"_type": "tag", "name": "ContentAccess", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t ContentAccess(const std::string& appId, const std::string& idsPayload, std::st/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & idsPayload,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "DiscoveryDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         DiscoveryDelegate(PluginHost::IShell* shell) : _shell(shell) { LOGDBG(\"DiscoveryDelegat/", "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "DiscoveryDelegate", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^     class DiscoveryDelegate {$/", "language": "C++", "kind": "class", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "EntitlementsAccountLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t EntitlementsAccountLink(const std::string& appId, const std::string& payload, /", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & payload,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "FB_DISCOVERY_CALLSIGN", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^ #define FB_DISCOVERY_CALLSIGN /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "MediaEventAccountLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t MediaEventAccountLink(const std::string& appId, const std::string& payload, st/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & payload,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "SignIn", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t SignIn(const std::string& appId, const std::string& entitlements, bool& succes/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & entitlements,bool & success)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "SignOut", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t SignOut(const std::string& appId, bool& success) {$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,bool & success)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^ namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "WatchNext", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t WatchNext(const std::string& appId, const std::string& contentId, std::string&/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & contentId,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "Watched", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         uint32_t Watched(const std::string& appId, const std::string& entityId, const double pr/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const std::string & appId,const std::string & entityId,const double progress,const bool completed,const std::string & watchedOn,std::string & result)", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}, {"_type": "tag", "name": "_shell", "path": "/home/kavia/workspace/code-generation/app-gateway2/app-gateway/Badger/Delegate/DiscoveryDelegate.h", "pattern": "/^         PluginHost::IShell* _shell;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class"}], "hash": "d3a813b03ad3f4a00dc5f31f832cbc28", "format-version": 4, "code-base-name": "app-gateway2", "filename": "app-gateway/Badger/Delegate/DiscoveryDelegate.h", "fields": [{"name": "PluginHost::IShell * _shell", "scope": "WPEFramework::DiscoveryDelegate", "scopeKind": "class", "description": "unavailable"}]}