{"is_source_file": true, "format": "C++", "description": "This source file implements the 'DeviceInfo' class which provides functions to retrieve device-related information such as partner ID, account ID, device ID, and service access token, primarily interfacing with an external AuthService via RPC calls. It includes initialization routines, mutex locking for thread safety, and manages the lifecycle of the AuthService connection.", "external_files": ["DeviceInfo.h", "UtilsLogging.h", "UtilsJsonrpcDirectLink.h"], "external_methods": ["Utils::GetThunderControllerClient", "Core::ERROR_NONE", "Core::ERROR_UNAVAILABLE"], "published": ["GetPartnerId", "GetAccountId", "GetServiceAccessToken", "GetDeviceId"], "classes": [{"name": "DeviceInfo", "description": "A class responsible for retrieving device and account information from an external AuthService, managing internal state, and ensuring thread safety."}], "methods": [{"name": "uint32_t GetPartnerId(std::string & partnerId)", "description": "Retrieves the partner ID associated with the device, contacting the AuthService if not already cached.", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"name": "uint32_t GetAccountId(std::string & accountId)", "description": "Retrieves the account ID for the device, contacting the AuthService.", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"name": "uint32_t GetServiceAccessToken(std::string & token)", "description": "Obtains a service access token from the AuthService, used for authentication purposes.", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"name": "uint32_t GetDeviceId(std::string & deviceId)", "description": "Retrieves the device ID, contacting the AuthService if not already cached.", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"name": "void Initialize()", "description": "Performs initial retrieval of device information from the AuthService during object construction.", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"name": "DeviceInfo(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}, {"name": "~DeviceInfo()", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class", "description": "unavailable"}], "calls": ["Utils::GetThunderControllerClient", "serviceLink->Invoke<JsonObject, JsonObject>"], "search-terms": ["DeviceInfo.cpp", "AuthService", "getDeviceId", "ThunderControllerClient", "xDeviceId", "partnerId", "Initialize thread"], "state": 2, "file_id": 1905, "knowledge_revision": 4501, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "AUTHSERVICE_CALLSIGN", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^#define AUTHSERVICE_CALLSIGN /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DeviceInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        DeviceInfo::DeviceInfo(PluginHost::IShell *shell) : mShell(shell),$/", "language": "C++", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "GetAccountId", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        uint32_t DeviceInfo::GetAccountId(std::string &accountId)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(std::string & accountId)", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "GetDeviceId", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        uint32_t DeviceInfo::GetDeviceId(std::string &deviceId)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(std::string & deviceId)", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "GetPartnerId", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        uint32_t DeviceInfo::GetPartnerId(std::string &partnerId)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(std::string & partnerId)", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "GetServiceAccessToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        uint32_t DeviceInfo::GetServiceAccessToken(std::string &token)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(std::string & token)", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        void DeviceInfo::Initialize()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^    namespace Plugin$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^namespace WPEFramework$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "sThunderSecurityToken", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        static std::string sThunderSecurityToken;$/", "file": true, "language": "C++", "typeref": "typename:std::string", "kind": "variable", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "~DeviceInfo", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "pattern": "/^        DeviceInfo::~DeviceInfo()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::DeviceInfo", "scopeKind": "class"}], "hash": "101c3844d2bc263f40841765b8d12f97", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/DeviceInfo.cpp", "fields": [{"name": "std::string sThunderSecurityToken", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"4501": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}