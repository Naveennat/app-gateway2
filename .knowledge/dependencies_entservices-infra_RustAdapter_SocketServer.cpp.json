{"is_source_file": true, "format": "C++", "description": "Source code for a socket server implementation in C++, including socket management, thread handling, communication protocols, and message parsing. It defines classes for socket server operations such as opening, running, sending, and reading responses.", "external_files": ["SocketServer.h", "Logger.h", "<sys/socket.h>", "<sys/time.h>", "<netinet/ip.h>", "<arpa/inet.h>", "<string.h>", "<unistd.h>", "<fcntl.h>"], "external_methods": ["socket()", "htons()", "inet_pton()", "close()", "fcntl()", "bind()", "listen()", "accept()", "select()", "read()", "send()", "malloc()", "free()", "ntohl()", "htonl()"], "published": ["Response"], "classes": [{"name": "SocketServer", "description": "Class managing TCP socket server, enabling asynchronous operation, client connection handling, data transmission, and response reading."}], "methods": [{"name": "int Open(const string & address,int port,const function<void (const Response &)> & reader)", "description": "Initializes and binds the server socket to a specific address and port, sets socket options, and begins listening for incoming connections.", "scope": "SocketServer", "scopeKind": "class"}, {"name": "int RunThread()", "description": "Starts the server's main loop in a dedicated thread.", "scope": "SocketServer", "scopeKind": "class"}, {"name": "int Run()", "description": "Main server loop accepting incoming client connections and processing data exchange.", "scope": "SocketServer", "scopeKind": "class"}, {"name": "void Close()", "description": "Shuts down server and client sockets, stops the server loop.", "scope": "SocketServer", "scopeKind": "class"}, {"name": "int ReadResponse(Response & rsp)", "description": "Reads a response message from the connected client, parsing headers and JSON payload.", "scope": "SocketServer", "scopeKind": "class"}, {"name": "string GetAddress() const", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int GetPort() const", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int ReadExact(uint8_t * p,int len)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "Response()", "scope": "Response", "scopeKind": "class", "description": "unavailable"}, {"name": "Response(uint32_t channel,const string & json_str)", "scope": "Response", "scopeKind": "class", "description": "unavailable"}, {"name": "void * RunThreadFunc(void * arg)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int SendAttach(uint32_t channel_id,bool attach)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int SendExit()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int SendInvoke(uint32_t channel_id,const string & token,const string & json)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "SocketServer()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "~SocketServer()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}], "calls": ["socket()", "bind()", "listen()", "accept()", "select()", "read()", "send()", "close()", "malloc()", "free()", "ntohl()", "htonl()", "inet_pton()", "fcntl()"], "search-terms": ["SocketServer", "Open", "RunThread", "ReadResponse", "send", "recv", "headers", "json", "client connection"], "state": 2, "file_id": 4974, "knowledge_revision": 9927, "git_revision": "", "ctags": [{"_type": "tag", "name": "AttachHeader", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^struct AttachHeader$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "CLIENT_DISCONNECT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^#define CLIENT_DISCONNECT /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^void SocketServer::Close()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "CommandID", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^enum CommandID$/", "file": true, "language": "C++", "kind": "enum"}, {"_type": "tag", "name": "GetAddress", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^string SocketServer::GetAddress() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "GetPort", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::GetPort() const$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "() const", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "ID_ATTACH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  ID_ATTACH,$/", "file": true, "language": "C++", "kind": "enumerator", "scope": "CommandID", "scopeKind": "enum"}, {"_type": "tag", "name": "ID_EXIT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  ID_EXIT$/", "file": true, "language": "C++", "kind": "enumerator", "scope": "CommandID", "scopeKind": "enum"}, {"_type": "tag", "name": "ID_INVOKE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  ID_INVOKE = 1,$/", "file": true, "language": "C++", "kind": "enumerator", "scope": "CommandID", "scopeKind": "enum"}, {"_type": "tag", "name": "InvoketHeader", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^struct InvoketHeader$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::Open(const string& address, int port, const function<void (const Response&)>& /", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(const string & address,int port,const function<void (const Response &)> & reader)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "ReadExact", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::ReadExact(uint8_t* p, int len)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(uint8_t * p,int len)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "ReadResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::ReadResponse(Response& rsp)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(Response & rsp)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "Response", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^Response::Response()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "Response", "scopeKind": "class"}, {"_type": "tag", "name": "Response", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^Response::Response(uint32_t channel, const string& json_str)$/", "language": "C++", "kind": "function", "signature": "(uint32_t channel,const string & json_str)", "scope": "Response", "scopeKind": "class"}, {"_type": "tag", "name": "ResponseHeader", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^struct ResponseHeader$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "Run", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::Run()$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "RunThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::RunThread()$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "RunThreadFunc", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^void* SocketServer::RunThreadFunc(void* arg)$/", "language": "C++", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SendAttach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::SendAttach(uint32_t channel_id, bool attach)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(uint32_t channel_id,bool attach)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SendExit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::SendExit()$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SendInvoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::SendInvoke(uint32_t channel_id, const string& token, const string& json)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(uint32_t channel_id,const string & token,const string & json)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SocketServer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^SocketServer::SocketServer()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "attach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint8_t attach;$/", "file": true, "language": "C++", "typeref": "typename:uint8_t", "kind": "member", "scope": "AttachHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "channel_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t channel_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "AttachHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "channel_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t channel_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "channel_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t channel_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "ResponseHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "command_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t command_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "AttachHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "command_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t command_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "json_len", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t json_len;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "json_len", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t json_len;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "ResponseHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "token_len", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t token_len;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "~SocketServer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^SocketServer::~SocketServer()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}], "hash": "28000ea232639c13c36001317fbde1dd", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "fields": [{"name": "uint8_t attach", "scope": "AttachHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t channel_id", "scope": "AttachHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t command_id", "scope": "AttachHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t json_len", "scope": "InvoketHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t token_len", "scope": "InvoketHeader", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"9927": ""}]}