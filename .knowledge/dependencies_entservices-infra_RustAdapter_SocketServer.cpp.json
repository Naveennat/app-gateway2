{"is_source_file": true, "format": "C++", "description": "Source file implementing a TCP socket server for inter-process communication, including socket creation, binding, listening, accepting clients, sending and receiving custom protocol messages, and thread management.", "external_files": ["SocketServer.h", "Logger.h"], "external_methods": ["socket()", "inet_pton()", "bind()", "listen()", "accept()", "close()", "fcntl()", "read()", "send()", "getsockname()", "strerror()", "malloc()", "free()"], "published": ["SocketServer::Open", "SocketServer::RunThread", "SocketServer::Close", "SocketServer::GetAddress", "SocketServer::GetPort", "SocketServer::SendInvoke", "SocketServer::SendAttach", "SocketServer::SendExit", "SocketServer::ReadResponse"], "classes": [{"name": "Response", "description": "Represents a response message containing channel ID and JSON payload."}, {"name": "SocketServer", "description": "Implements a TCP socket server managing client connections, communication, and threading."}], "methods": [{"name": "Response()", "description": "Default constructor initializing a response with zero channel ID and empty JSON.", "scope": "Response", "scopeKind": "class"}, {"name": "Response(uint32_t, const string&)", "description": "Parameterized constructor setting channel ID and JSON payload."}, {"name": "SocketServer()", "description": "Constructor initializing socket server internal variables.", "scope": "SocketServer", "scopeKind": "class"}, {"name": "SocketServer::~SocketServer()", "description": "Destructor cleaning up resources and closing sockets."}, {"name": "Open()", "description": "Sets up the server socket, binds, and listens on specified address and port."}, {"name": "RunThread()", "description": "Creates a thread to run the server asynchronously."}, {"name": "RunThreadFunc()", "description": "Static thread function calling the instance's Run method."}, {"name": "Run()", "description": "Main server loop accepting clients and processing incoming data."}, {"name": "GetAddress()", "description": "Returns the server's configured IP address."}, {"name": "GetPort()", "description": "Returns the server's port number."}, {"name": "Close()", "description": "Shuts down the server and closes socket connections."}, {"name": "ReadExact()", "description": "Reads an exact number of bytes from the client socket, handling partial reads."}, {"name": "SendInvoke()", "description": "Sends an invoke command with command ID, token, and JSON data to the client."}, {"name": "SendAttach()", "description": "Sends an attach command with channel ID and attach flag."}, {"name": "SendExit()", "description": "Sends an exit command to the client to terminate communication."}, {"name": "ReadResponse()", "description": "Reads a response header and payload from the client, populates a Response object."}, {"name": "void Close()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "string GetAddress() const", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int GetPort() const", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int Open(const string & address,int port,const function<void (const Response &)> & reader)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int ReadExact(uint8_t * p,int len)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int ReadResponse(Response & rsp)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "Response(uint32_t channel,const string & json_str)", "scope": "Response", "scopeKind": "class", "description": "unavailable"}, {"name": "int Run()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int RunThread()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "void * RunThreadFunc(void * arg)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int SendAttach(uint32_t channel_id,bool attach)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int SendExit()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "int SendInvoke(uint32_t channel_id,const string & token,const string & json)", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "~SocketServer()", "scope": "SocketServer", "scopeKind": "class", "description": "unavailable"}], "calls": ["socket()", "inet_pton()", "bind()", "listen()", "accept()", "close()", "fcntl()", "read()", "send()", "getsockname()", "strerror()", "malloc()", "free()"], "search-terms": ["SocketServer", "SendInvoke", "SendAttach", "SendExit", "ReadResponse", "client connection", "multithreaded server", "socket binding", "TCP server"], "state": 2, "file_id": 7155, "knowledge_revision": 14551, "git_revision": "", "ctags": [{"_type": "tag", "name": "AttachHeader", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^struct AttachHeader$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "CLIENT_DISCONNECT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^#define CLIENT_DISCONNECT /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^void SocketServer::Close()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "CommandID", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^enum CommandID$/", "file": true, "language": "C++", "kind": "enum"}, {"_type": "tag", "name": "GetAddress", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^string SocketServer::GetAddress() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "GetPort", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::GetPort() const$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "() const", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "ID_ATTACH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  ID_ATTACH,$/", "file": true, "language": "C++", "kind": "enumerator", "scope": "CommandID", "scopeKind": "enum"}, {"_type": "tag", "name": "ID_EXIT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  ID_EXIT$/", "file": true, "language": "C++", "kind": "enumerator", "scope": "CommandID", "scopeKind": "enum"}, {"_type": "tag", "name": "ID_INVOKE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  ID_INVOKE = 1,$/", "file": true, "language": "C++", "kind": "enumerator", "scope": "CommandID", "scopeKind": "enum"}, {"_type": "tag", "name": "InvoketHeader", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^struct InvoketHeader$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "Open", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::Open(const string& address, int port, const function<void (const Response&)>& /", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(const string & address,int port,const function<void (const Response &)> & reader)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "ReadExact", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::ReadExact(uint8_t* p, int len)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(uint8_t * p,int len)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "ReadResponse", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::ReadResponse(Response& rsp)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(Response & rsp)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "Response", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^Response::Response()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "Response", "scopeKind": "class"}, {"_type": "tag", "name": "Response", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^Response::Response(uint32_t channel, const string& json_str)$/", "language": "C++", "kind": "function", "signature": "(uint32_t channel,const string & json_str)", "scope": "Response", "scopeKind": "class"}, {"_type": "tag", "name": "ResponseHeader", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^struct ResponseHeader$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "Run", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::Run()$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "RunThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::RunThread()$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "RunThreadFunc", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^void* SocketServer::RunThreadFunc(void* arg)$/", "language": "C++", "typeref": "typename:void *", "kind": "function", "signature": "(void * arg)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SendAttach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::SendAttach(uint32_t channel_id, bool attach)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(uint32_t channel_id,bool attach)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SendExit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::SendExit()$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SendInvoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^int SocketServer::SendInvoke(uint32_t channel_id, const string& token, const string& json)$/", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(uint32_t channel_id,const string & token,const string & json)", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "SocketServer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^SocketServer::SocketServer()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "attach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint8_t attach;$/", "file": true, "language": "C++", "typeref": "typename:uint8_t", "kind": "member", "scope": "AttachHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "channel_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t channel_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "AttachHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "channel_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t channel_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "channel_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t channel_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "ResponseHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "command_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t command_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "AttachHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "command_id", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t command_id;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "json_len", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t json_len;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "json_len", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t json_len;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "ResponseHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "token_len", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^  uint32_t token_len;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "InvoketHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "~SocketServer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "pattern": "/^SocketServer::~SocketServer()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "SocketServer", "scopeKind": "class"}], "hash": "28000ea232639c13c36001317fbde1dd", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RustAdapter/SocketServer.cpp", "fields": [{"name": "uint8_t attach", "scope": "AttachHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t channel_id", "scope": "AttachHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t command_id", "scope": "AttachHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t json_len", "scope": "InvoketHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t token_len", "scope": "InvoketHeader", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"14551": ""}]}