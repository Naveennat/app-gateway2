{"is_source_file": true, "format": "C++ header file", "description": "This file declares the AppGatewayImplementation class, which implements interfaces for app gateway resolution and configuration within the WPEFramework plugin. It includes class definitions, method declarations, and internal data members related to app gateway management, asynchronous job handling, and event processing.", "external_files": ["Module.h", "Resolver.h", "<interfaces/IAppGateway.h>", "<interfaces/IConfiguration.h>", "<interfaces/IAppNotifications.h>", "ContextUtils.h", "<com/com.h>", "<core/core.h>"], "external_methods": ["Exchange::IAppGatewayResolver", "Exchange::IConfiguration", "Core::hresult", "Core::IDispatch", "mService->QueryInterface<Exchange::IAppGatewayResponder>()", "mAppGatewayResponder->Respond()", "ContextUtils::IsOriginGateway()", "LOGERR()"], "published": ["Configure()", "Resolve()", "HandleEvent()"], "classes": [{"name": "AppGatewayImplementation", "description": "Main class implementing app gateway resolution and configuration interfaces, managing asynchronous job dispatch, event handling, and communication with other components in the plugin."}, {"name": "RespondJob", "description": "Nested asynchronous dispatch job responsible for sending responses, managing shutdown states, and determining whether to send messages via socket or delegate."}, {"name": "JobTracker", "description": "Helper class that increments/decrements in-flight job counter for thread-safe job tracking."}], "methods": [{"name": "Configure(Exchange::IAppGatewayResolver::IStringIterator *const &paths)", "description": "Configures the app gateway resolver with provided paths."}, {"name": "Resolve(const Context& context, const string& origin, const string& method, const string& params, string& result)", "description": "Resolves a request based on context, origin, method, and parameters."}, {"name": "Configure(PluginHost::IShell* service)", "description": "Configures the plugin with the provided service."}, {"name": "HandleEvent(const Context &context, const string &alias, const string &event, const string &origin, const bool listen)", "description": "Handles incoming events related to app gateway."}, {"name": "ReturnMessageInSocket(const Context& context, const string payload)", "description": "Sends a message back over the socket, considering shutdown state."}, {"name": "SendToLaunchDelegate(const Context& context, const string& payload)", "description": "Sends payload to the launch delegate for processing."}, {"name": "Core::ProxyType<Core::IDispatch> Create(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "void Disarm()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class", "description": "unavailable"}, {"name": "void Dispatch()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "JobTracker(std::atomic<uint32_t> & counter)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class", "description": "unavailable"}, {"name": "RespondJob(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & destination)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "void ReturnMessageInSocket(const Context & context,const string payload)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "~JobTracker()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class", "description": "unavailable"}], "calls": ["mService->QueryInterface<Exchange::IAppGatewayResponder>()", "mAppGatewayResponder->Respond()", "ContextUtils::IsOriginGateway()", "LOGERR()"], "search-terms": ["AppGatewayImplementation", "Resolve", "HandleEvent", "IAppGateway", "GatwayContext", "RespondJob", "InFlightJobs", "ShuttingDown", "Websocket", "IConfiguration"], "state": 2, "file_id": 8727, "knowledge_revision": 19299, "git_revision": "d42d48ce2fde84b6c563f24f8c10fc76924ab1a6", "revision_history": [{"17463": "988378322a0123f0e521fa92423a0cc8f4c57e27"}, {"19299": "d42d48ce2fde84b6c563f24f8c10fc76924ab1a6"}], "ctags": [{"_type": "tag", "name": "AppGatewayImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^    class AppGatewayImplementation : public Exchange::IAppGatewayResolver, public Exchange::ICon/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Context", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^    using Context = Exchange::GatewayContext;$/", "language": "C++", "typeref": "typename:Exchange::GatewayContext", "kind": "typedef", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            static Core::ProxyType<Core::IDispatch> Create(AppGatewayImplementation* parent,$/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::IDispatch>", "kind": "function", "signature": "(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & origin)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "Disarm", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            void Disarm() { mArmed = false; }$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            void Dispatch() override$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "JobTracker", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            explicit JobTracker(std::atomic<uint32_t>& counter)$/", "language": "C++", "kind": "function", "signature": "(std::atomic<uint32_t> & counter)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class"}, {"_type": "tag", "name": "JobTracker", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        class JobTracker final {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RespondJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            RespondJob(AppGatewayImplementation* parent,$/", "language": "C++", "kind": "function", "signature": "(AppGatewayImplementation * parent,const Context & context,const std::string & payload,const std::string & destination)", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "RespondJob", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        class EXTERNAL RespondJob : public Core::IDispatch$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ReturnMessageInSocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        void ReturnMessageInSocket(const Context& context, const string payload )$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Context & context,const string payload)", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "mAppGatewayResponder", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        Exchange::IAppGatewayResponder *mAppGatewayResponder;$/", "language": "C++", "typeref": "typename:Exchange::IAppGatewayResponder *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mAppNotifications", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        Exchange::IAppNotifications *mAppNotifications; \\/\\/ Shared pointer to AppNotifications$/", "language": "C++", "typeref": "typename:Exchange::IAppNotifications *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mArmed", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            bool mArmed;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class"}, {"_type": "tag", "name": "mAuthenticator", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        Exchange::IAppGatewayAuthenticator *mAuthenticator; \\/\\/ Shared pointer to Authenticator$/", "language": "C++", "typeref": "typename:Exchange::IAppGatewayAuthenticator *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mContext", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            Context mContext;$/", "language": "C++", "typeref": "typename:Context", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mCounter", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            std::atomic<uint32_t>& mCounter;$/", "language": "C++", "typeref": "typename:std::atomic<uint32_t> &", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class"}, {"_type": "tag", "name": "mDestination", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            std::string mDestination;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mDummyCounter", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            static std::atomic<uint32_t> mDummyCounter;$/", "language": "C++", "typeref": "typename:std::atomic<uint32_t>", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mInFlightJobs", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        std::atomic<uint32_t> mInFlightJobs{ 0 };$/", "language": "C++", "typeref": "typename:std::atomic<uint32_t>", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mInternalGatewayResponder", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        Exchange::IAppGatewayResponder *mInternalGatewayResponder; \\/\\/ Shared pointer to Intern/", "language": "C++", "typeref": "typename:Exchange::IAppGatewayResponder *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mIsShuttingDown", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        std::atomic<bool> mIsShuttingDown{ false };$/", "language": "C++", "typeref": "typename:std::atomic<bool>", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mParent", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            AppGatewayImplementation* mParent;$/", "language": "C++", "typeref": "typename:AppGatewayImplementation *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mPayload", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            std::string mPayload;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "mResolverPtr", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        ResolverPtr mResolverPtr;$/", "language": "C++", "typeref": "typename:ResolverPtr", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mService", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^        PluginHost::IShell* mService;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "mTracker", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            JobTracker mTracker;$/", "language": "C++", "typeref": "typename:JobTracker", "kind": "member", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class"}, {"_type": "tag", "name": "~JobTracker", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/AppGateway/AppGatewayImplementation.h", "pattern": "/^            ~JobTracker()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class"}], "hash": "a7b7ec770b2950064f622f2d489a09e5", "format-version": 4, "code-base-name": "app-gateway2", "filename": "plugin/AppGateway/AppGatewayImplementation.h", "fields": [{"name": "Exchange::IAppGatewayResponder * mAppGatewayResponder", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppNotifications * mAppNotifications", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "bool mArmed", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppGatewayAuthenticator * mAuthenticator", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Context mContext", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "std::atomic<uint32_t> & mCounter", "scope": "WPEFramework::Plugin::AppGatewayImplementation::JobTracker", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string mDestination", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "std::atomic<uint32_t> mDummyCounter", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "std::atomic<uint32_t> mInFlightJobs", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IAppGatewayResponder * mInternalGatewayResponder", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::atomic<bool> mIsShuttingDown", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "AppGatewayImplementation * mParent", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string mPayload", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}, {"name": "ResolverPtr mResolverPtr", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * mService", "scope": "WPEFramework::Plugin::AppGatewayImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "JobTracker mTracker", "scope": "WPEFramework::Plugin::AppGatewayImplementation::RespondJob", "scopeKind": "class", "description": "unavailable"}]}