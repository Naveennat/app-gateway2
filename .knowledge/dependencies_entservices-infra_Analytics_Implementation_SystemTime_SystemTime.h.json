{"is_source_file": true, "format": "C++ header file", "description": "This file defines the SystemTime class within the WPEFramework.Plugin namespace. The class implements the ISystemTime interface and manages system time synchronization, time zone adjustments, event handling, and system link creation. It includes method declarations for checking system time availability, getting timezone offset, and internal methods for event processing and state updates.", "external_files": ["../../Module.h", "ISystemTime.h"], "external_methods": ["PluginHost::IShell *shell", "bool IsSystemTimeAvailable() override", "TimeZoneAccuracy GetTimeZoneOffset(int32_t &offsetSec) override"], "published": ["SystemTime", "SystemTimePtr"], "classes": [{"name": "SystemTime", "description": "Implementation of the ISystemTime interface, manages system time and timezone data, handles events to update time information, and performs system link creation for system notifications."}], "methods": [{"name": "SystemTime", "description": "Constructor initializing SystemTime object with a shell interface."}, {"name": "~SystemTime", "description": "Destructor for SystemTime."}, {"name": "IsSystemTimeAvailable", "description": "Checks if system time information is available."}, {"name": "GetTimeZoneOffset", "description": "Retrieves the current timezone offset in seconds."}, {"name": "onTimeStatusChanged", "description": "Handles time status change events from JSON parameters."}, {"name": "onTimeZoneDSTChanged", "description": "Handles timezone and daylight saving change events."}, {"name": "CreateSystemLink", "description": "Sets up system link for event notifications."}, {"name": "SubscribeForEvents", "description": "Subscribes to system time and timezone events."}, {"name": "UpdateTimeStatus", "description": "Updates the internal state based on current system time status."}, {"name": "UpdateTimeZone", "description": "Updates timezone based on system event."}, {"name": "ParseTimeZone", "description": "Parses the timezone string to obtain accuracy and offset."}, {"name": "PopulateTimeZoneTransitionMap", "description": "Fills the transition map for timezone changes."}, {"name": "EventLoop", "description": "Main event processing loop handling queued events."}], "calls": ["JsonObject::JsonObject", "WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>", "WPEFramework::Core::JSON::IElement"], "search-terms": ["SystemTime implementation", "timezone offset retrieval", "event handling in system time", "system link creation", "timezone transition map"], "state": 2, "file_id": 153, "knowledge_revision": 1256, "git_revision": "", "ctags": [{"_type": "tag", "name": "EVENT_INITIALISE", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^                EVENT_INITIALISE,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::SystemTime::EventType", "scopeKind": "enum"}, {"_type": "tag", "name": "EVENT_SHUTDOWN", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^                EVENT_SHUTDOWN$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::SystemTime::EventType", "scopeKind": "enum"}, {"_type": "tag", "name": "EVENT_TIME_STATUS_CHANGED", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^                EVENT_TIME_STATUS_CHANGED,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::SystemTime::EventType", "scopeKind": "enum"}, {"_type": "tag", "name": "EVENT_TIME_ZONE_CHANGED", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^                EVENT_TIME_ZONE_CHANGED,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::SystemTime::EventType", "scopeKind": "enum"}, {"_type": "tag", "name": "EVENT_UNDEF", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^                EVENT_UNDEF,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::SystemTime::EventType", "scopeKind": "enum"}, {"_type": "tag", "name": "Event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            struct Event$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "EventType", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            enum EventType$/", "language": "C++", "kind": "enum", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^    namespace Plugin$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "SystemTime", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^        class SystemTime: public ISystemTime$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "SystemTimePtr", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^        typedef std::shared_ptr<SystemTime> SystemTimePtr;$/", "language": "C++", "typeref": "typename:std::shared_ptr<SystemTime>", "kind": "typedef", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^namespace WPEFramework$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "mEventThread", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::thread mEventThread;$/", "language": "C++", "typeref": "typename:std::thread", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mIsSystemTimeAvailable", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            bool mIsSystemTimeAvailable;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::mutex mLock;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mQueue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::queue<Event> mQueue;$/", "language": "C++", "typeref": "typename:std::queue<Event>", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mQueueCondition", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::condition_variable mQueueCondition;$/", "language": "C++", "typeref": "typename:std::condition_variable", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mQueueLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::mutex mQueueLock;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mShell", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            PluginHost::IShell *mShell;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mSystemLink", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>>/", "language": "C++", "typeref": "typename:std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>>", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mTimeQuality", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::string mTimeQuality;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mTimeZone", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::string mTimeZone;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mTimeZoneAccuracyString", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::string mTimeZoneAccuracyString;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "mTransitionMap", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^            std::map<time_t, int32_t> mTransitionMap;$/", "language": "C++", "typeref": "typename:std::map<time_t,int32_t>", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^                std::string payload;$/", "language": "C++", "typeref": "typename:std::string", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime::Event", "scopeKind": "struct"}, {"_type": "tag", "name": "type", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "pattern": "/^                EventType type;$/", "language": "C++", "typeref": "typename:EventType", "kind": "member", "scope": "WPEFramework::Plugin::SystemTime::Event", "scopeKind": "struct"}], "hash": "9bec1fccb78f16315da94136ce831d38", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/Analytics/Implementation/SystemTime/SystemTime.h", "fields": [{"name": "std::thread mEventThread", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "bool mIsSystemTimeAvailable", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mLock", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::queue<Event> mQueue", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::condition_variable mQueueCondition", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex mQueueLock", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * mShell", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::shared_ptr<WPEFramework::JSONRPC::LinkType<WPEFramework::Core::JSON::IElement>> mSystemLink", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string mTimeQuality", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string mTimeZone", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string mTimeZoneAccuracyString", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::map<time_t,int32_t> mTransitionMap", "scope": "WPEFramework::Plugin::SystemTime", "scopeKind": "class", "description": "unavailable"}, {"name": "std::string payload", "scope": "WPEFramework::Plugin::SystemTime::Event", "scopeKind": "struct", "description": "unavailable"}, {"name": "EventType type", "scope": "WPEFramework::Plugin::SystemTime::Event", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"1256": ""}]}