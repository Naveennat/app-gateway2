{"is_source_file": true, "format": "C++", "description": "This file implements WebSocket protocol handling, including frame encoding/decoding, security key generation, and static request/response allocators within the WPEFramework WebSocket namespace.", "external_files": ["WebSocketLink.h", "Crypto::Random", "Crypto::SHA1", "Core::ToString"], "external_methods": ["Crypto::Random()", "Crypto::SHA1::Input()", "Crypto::SHA1::Result()", "Core::ToString()"], "published": ["RequestAllocator::Instance", "ResponseAllocator::Instance"], "classes": [{"name": "Protocol", "description": "Contains static methods and constants for WebSocket frame encoding/decoding, security key handling, and configuration flags."}], "methods": [{"name": "std::string RequestKey() const", "description": "Generates a WebSocket Sec-WebSocket-Key for handshake by creating 8 random 16-bit sequences, then encoding them to a base64 string.", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"name": "std::string ResponseKey(const std::string & requestKey) const", "description": "Calculates the Sec-WebSocket-Accept key from a client's request key by SHA1 hashing and base64 encoding.", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"name": "uint16_t Encoder(uint8_t * dataFrame,const uint16_t maxSendSize,const uint16_t usedSize)", "description": "Encodes a data frame with WebSocket framing, including masking, length, and control frames; handles fragmentation and masking based on internal flags.", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"name": "uint16_t Decoder(uint8_t * dataFrame,uint16_t & receivedSize)", "description": "Decodes an incoming WebSocket data frame, unwraps masking, handles fragmentation, and updates internal state accordingly.", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"name": "RequestAllocator & Instance()", "scope": "WPEFramework::Web::WebSocket::RequestAllocator", "scopeKind": "class", "description": "unavailable"}, {"name": "ResponseAllocator & Instance()", "scope": "WPEFramework::Web::WebSocket::ResponseAllocator", "scopeKind": "class", "description": "unavailable"}], "calls": ["Crypto::Random()", "Crypto::SHA1::Input()", "Crypto::SHA1::Result()", "Core::ToString()"], "search-terms": ["WebSocket protocol", "handshake key generation", "frame encoding", "frame decoding", "masking", "WebSocket frame types", "control frames", "response allocator", "request allocator"], "state": 2, "file_id": 1285, "knowledge_revision": 3223, "git_revision": "", "ctags": [{"_type": "tag", "name": "CONTINUATION_FRAME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static const uint8_t CONTINUATION_FRAME = 0x00;$/", "file": true, "language": "C++", "typeref": "typename:const uint8_t", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}, {"_type": "tag", "name": "CONTROL_FRAME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static const uint8_t CONTROL_FRAME = 0x08;$/", "file": true, "language": "C++", "typeref": "typename:const uint8_t", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}, {"_type": "tag", "name": "Decoder", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        uint16_t Protocol::Decoder(uint8_t* dataFrame, uint16_t& receivedSize)$/", "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "(uint8_t * dataFrame,uint16_t & receivedSize)", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"_type": "tag", "name": "Encoder", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        uint16_t Protocol::Encoder(uint8_t* dataFrame, const uint16_t maxSendSize, const uint16_/", "language": "C++", "typeref": "typename:uint16_t", "kind": "function", "signature": "(uint8_t * dataFrame,const uint16_t maxSendSize,const uint16_t usedSize)", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"_type": "tag", "name": "FINISHING_FRAME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static const uint8_t FINISHING_FRAME = 0x80;$/", "file": true, "language": "C++", "typeref": "typename:const uint8_t", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}, {"_type": "tag", "name": "HandShakeKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static const uint8_t HandShakeKey[] = \"258EAFA5-E914-47DA-95CA-C5AB0DC85B11\";$/", "file": true, "language": "C++", "typeref": "typename:const uint8_t[]", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}, {"_type": "tag", "name": "Instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        \\/* static *\\/ RequestAllocator& RequestAllocator::Instance()$/", "language": "C++", "typeref": "typename:RequestAllocator &", "kind": "function", "signature": "()", "scope": "WPEFramework::Web::WebSocket::RequestAllocator", "scopeKind": "class"}, {"_type": "tag", "name": "Instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        \\/* static *\\/ ResponseAllocator& ResponseAllocator::Instance()$/", "language": "C++", "typeref": "typename:ResponseAllocator &", "kind": "function", "signature": "()", "scope": "WPEFramework::Web::WebSocket::ResponseAllocator", "scopeKind": "class"}, {"_type": "tag", "name": "MASKING_FRAME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static const uint8_t MASKING_FRAME = 0x80;$/", "file": true, "language": "C++", "typeref": "typename:const uint8_t", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}, {"_type": "tag", "name": "RequestKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        std::string Protocol::RequestKey() const$/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"_type": "tag", "name": "ResponseKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        std::string Protocol::ResponseKey(const std::string& requestKey) const$/", "language": "C++", "typeref": "typename:std::string", "kind": "function", "signature": "(const std::string & requestKey) const", "scope": "WPEFramework::Web::WebSocket::Protocol", "scopeKind": "class"}, {"_type": "tag", "name": "TYPE_FRAME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static const uint8_t TYPE_FRAME = 0x0F;$/", "file": true, "language": "C++", "typeref": "typename:const uint8_t", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "Web", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^namespace Web {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WebSocket", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^    namespace WebSocket {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework::Web", "scopeKind": "namespace"}, {"_type": "tag", "name": "_requestAllocator", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static RequestAllocator _requestAllocator;$/", "file": true, "language": "C++", "typeref": "typename:RequestAllocator", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}, {"_type": "tag", "name": "_responseAllocator", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "pattern": "/^        static ResponseAllocator _responseAllocator;$/", "file": true, "language": "C++", "typeref": "typename:ResponseAllocator", "kind": "variable", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace"}], "hash": "15f5261046f7fd0503d49e868d832e9d", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Source/websocket/WebSocketLink.cpp", "fields": [{"name": "const uint8_t CONTINUATION_FRAME", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}, {"name": "const uint8_t CONTROL_FRAME", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}, {"name": "const uint8_t FINISHING_FRAME", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}, {"name": "const uint8_t[] HandShakeKey", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}, {"name": "const uint8_t MASKING_FRAME", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}, {"name": "const uint8_t TYPE_FRAME", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}, {"name": "RequestAllocator _requestAllocator", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}, {"name": "ResponseAllocator _responseAllocator", "scope": "WPEFramework::Web::WebSocket", "scopeKind": "namespace", "description": "unavailable"}], "revision_history": [{"3223": ""}]}