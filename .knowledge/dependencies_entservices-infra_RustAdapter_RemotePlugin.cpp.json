{"is_source_file": true, "format": "C++", "description": "This file implements the RemotePlugin class for the RustAdapter module, handling socket communication, process launching, and JSON-RPC message forwarding within the WPEFramework plugin infrastructure.", "external_files": ["RustAdapter.h", "RemotePlugin.h", "SocketServer.h", "Logger.h", "<plugins/Channel.h>"], "external_methods": ["RustAdapter::GetAuthToken", "RustAdapter::GetLibraryPathOrName"], "published": ["RemotePlugin::Initialize", "RemotePlugin::Deinitialize", "RemotePlugin::SendTo", "RemotePlugin::Invoke", "RemotePlugin::Activate", "RemotePlugin::Deactivate", "RemotePlugin::Attach", "RemotePlugin::Detach", "RemotePlugin::Inbound", "RemotePlugin::AddRef", "RemotePlugin::Release", "RemotePlugin::Information", "RemotePlugin::Close", "RemotePlugin::Revoke", "RemotePlugin::Validate"], "classes": [{"name": "RemotePlugin", "description": "Class managing the remote plugin's lifecycle, communication, and process control in the RustAdapter namespace within WPEFramework."}], "methods": [{"name": "RemotePlugin::RemotePlugin", "description": "Constructor initializing RemotePlugin with configuration."}, {"name": "RemotePlugin::Initialize", "description": "Initializes the plugin with the provided shell, sets up socket stream, and spawns remote process if configured."}, {"name": "RemotePlugin::Deinitialize", "description": "Cleans up resources, signals exit, and waits for remote process termination."}, {"name": "RemotePlugin::SendTo", "description": "Sends a JSON message to a specified channel."}, {"name": "RemotePlugin::Invoke", "description": "Handles JSON-RPC invoke calls, forwarding them over socket stream."}, {"name": "RemotePlugin::Activate", "description": "Activates the plugin (no-op version)."}, {"name": "RemotePlugin::Deactivate", "description": "Deactivates the plugin (no-op version)."}, {"name": "RemotePlugin::Attach", "description": "Attaches a channel and notifies the remote stream."}, {"name": "RemotePlugin::Detach", "description": "Detaches a channel and notifies the remote stream."}, {"name": "RemotePlugin::Inbound", "description": "Handles inbound messages identified by string or id, returning JSON elements."}, {"name": "RemotePlugin::AddRef", "description": "Increments reference count (placeholder)."}, {"name": "RemotePlugin::Release", "description": "Decrements reference count (placeholder)."}, {"name": "RemotePlugin::Information", "description": "Returns plugin information string."}, {"name": "RemotePlugin::Close", "description": "Closes a channel (version with version check)."}, {"name": "RemotePlugin::Revoke", "description": "Revokes a callback (version with version check)."}, {"name": "RemotePlugin::Validate", "description": "Validates a token/method/parameters (version with version check)."}, {"name": "RemotePlugin::onRead", "description": "Callback invoked upon receiving response, forwards JSON to channel."}, {"name": "RemotePlugin::LaunchRemoteProcess", "description": "Forks and execs to launch the remote Rust adapter process, passing necessary arguments."}, {"name": "void Activate(WPEFramework::PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void AddRef() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Attach(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Close(const uint32_t channelId)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Deactivate()", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Deinitialize(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Detach(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement> Inbound(const string & identifier)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement> Inbound(const uint32_t id,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "string Information() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "const string Initialize(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message> Invoke(const WPEFramework::Core::JSONRPC::Context & ctx,const WPEFramework::Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message> Invoke(const string & token,const uint32_t channelId,const Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::hresult Invoke(ICallback * callback,const uint32_t channelId,const uint32_t id,const string & token,const string & method,const string & parameters,string & response)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "int LaunchRemoteProcess(const string & rust_shared_lib,const string & host_ip,int port)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Release() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "RemotePlugin(const RustAdapter::Config & conf)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::hresult Revoke(ICallback * callback)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void SendTo(uint32_t channel_id,const char * json)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::hresult Validate(const string & token,const string & method,const string & paramaters) const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void onRead(const Response & rsp)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}], "calls": ["m_stream.Open", "m_stream.RunThread", "m_stream.Close", "m_stream.SendExit", "m_stream.SendInvoke", "m_stream.SendAttach", "waitpid", "fork", "execvp", "setenv"], "search-terms": ["RemotePlugin", "RustAdapter", "socket stream", "JSONRPC", "process spawn", "WPEFramework plugin", "Remote process launch", "attachment handling", "JSON message forwarding"], "state": 2, "file_id": 8354, "knowledge_revision": 17094, "git_revision": "", "ctags": [{"_type": "tag", "name": "Activate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Activate($/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(WPEFramework::PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "AddRef", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::AddRef() const$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Attach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Attach(PluginHost::Channel &channel)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^void RemotePlugin::Close(const uint32_t channelId) \\/* override *\\/$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t channelId)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Deactivate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Deactivate()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Deinitialize(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Detach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Detach(PluginHost::Channel &channel)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Inbound(const string &identifier)$/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement>", "kind": "function", "signature": "(const string & identifier)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Inbound(const uint32_t id,$/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement>", "kind": "function", "signature": "(const uint32_t id,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Information", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Information() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Initialize(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:const string", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Invoke($/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message>", "kind": "function", "signature": "(const WPEFramework::Core::JSONRPC::Context & ctx,const WPEFramework::Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Invoke($/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message>", "kind": "function", "signature": "(const string & token,const uint32_t channelId,const Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^WPEFramework::Core::hresult RemotePlugin::Invoke(ICallback* callback, const uint32_t channelId, /", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(ICallback * callback,const uint32_t channelId,const uint32_t id,const string & token,const string & method,const string & parameters,string & response)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "LaunchRemoteProcess", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^int RemotePlugin::LaunchRemoteProcess(const string& rust_shared_lib, const string& host_ip, int /", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(const string & rust_shared_lib,const string & host_ip,int port)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Release", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Release() const$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "RemotePlugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::RemotePlugin(const RustAdapter::Config &conf)$/", "language": "C++", "kind": "function", "signature": "(const RustAdapter::Config & conf)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Revoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^WPEFramework::Core::hresult RemotePlugin::Revoke(ICallback* callback)$/", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(ICallback * callback)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Rust", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^namespace Rust {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "SendTo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::SendTo(uint32_t channel_id, const char *json)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t channel_id,const char * json)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Validate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^WPEFramework::Core::hresult RemotePlugin::Validate(const string& token, const string& method, co/", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(const string & token,const string & method,const string & paramaters) const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "onRead", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^void RemotePlugin::onRead(const Response& rsp)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Response & rsp)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}], "hash": "4f17111938ee27f28280d99e53580bf8", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "revision_history": [{"17094": ""}]}