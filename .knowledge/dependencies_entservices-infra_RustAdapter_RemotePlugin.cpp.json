{"is_source_file": true, "format": "C++", "description": "This file contains the implementation of the RemotePlugin class responsible for managing socket communication, process launching, and JSON-RPC handling within the Rust adapter plugin for a WPEFramework-based system.", "external_files": ["RustAdapter.h", "RemotePlugin.h", "SocketServer.h", "Logger.h", "<plugins/Channel.h>"], "external_methods": ["RustAdapter::GetAuthToken", "RustAdapter::GetLibraryPathOrName", "m_stream.Open", "m_stream.RunThread", "m_stream.GetAddress", "m_stream.GetPort", "m_stream.SendExit", "m_stream.Close", "m_stream.SendInvoke", "m_stream.SendAttach", "WPEFramework::PluginHost::IFactories::Instance().JSONRPC", "waitpid"], "published": ["RemotePlugin::Initialize", "RemotePlugin::Deinitialize", "RemotePlugin::SendTo", "RemotePlugin::Invoke", "RemotePlugin::Attach", "RemotePlugin::Detach", "RemotePlugin::Inbound", "RemotePlugin::AddRef", "RemotePlugin::Release", "RemotePlugin::Information", "RemotePlugin::Close", "RemotePlugin::Revoke", "RemotePlugin::Validate"], "classes": [{"name": "RemotePlugin", "description": "A class managing remote socket communication, process control, and JSON-RPC messages within the Rust plugin adapter."}], "methods": [{"name": "RemotePlugin::Initialize", "description": "Initializes the plugin, sets up socket server, and potentially launches a remote process."}, {"name": "RemotePlugin::Deinitialize", "description": "Cleans up resources, closes socket, and waits for remote process to terminate."}, {"name": "RemotePlugin::SendTo", "description": "Sends JSON messages to connected clients via the socket stream."}, {"name": "RemotePlugin::Invoke", "description": "Handles invocation requests, sending them over the socket stream, with different signatures based on compilation flags."}, {"name": "RemotePlugin::Attach", "description": "Attaches a client channel and sends an attach message."}, {"name": "RemotePlugin::Detach", "description": "Detaches a client channel and sends a detach message."}, {"name": "RemotePlugin::Inbound", "description": "Handles inbound JSON-RPC messages or identifiers, returning JSON elements."}, {"name": "RemotePlugin::AddRef", "description": "Increment reference count (stub)."}, {"name": "RemotePlugin::Release", "description": "Decrement reference count (stub)."}, {"name": "RemotePlugin::Information", "description": "Returns plugin information string."}, {"name": "RemotePlugin::Close", "description": "Closes a specific channel (stub for version 4.2)."}, {"name": "RemotePlugin::Revoke", "description": "Revokes a callback (version 4.4)."}, {"name": "RemotePlugin::Validate", "description": "Validates security token and method (version 4.4)."}, {"name": "RemotePlugin::onRead", "description": "Callback invoked when a response is received; forwards JSON to clients."}, {"name": "RemotePlugin::LaunchRemoteProcess", "description": "Forks and execs a process to launch the remote plugin, passing necessary parameters."}, {"name": "void Activate(WPEFramework::PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void AddRef() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Attach(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Close(const uint32_t channelId)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Deactivate()", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Deinitialize(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void Detach(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement> Inbound(const string & identifier)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement> Inbound(const uint32_t id,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "string Information() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "const string Initialize(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message> Invoke(const WPEFramework::Core::JSONRPC::Context & ctx,const WPEFramework::Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message> Invoke(const string & token,const uint32_t channelId,const Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::hresult Invoke(ICallback * callback,const uint32_t channelId,const uint32_t id,const string & token,const string & method,const string & parameters,string & response)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "int LaunchRemoteProcess(const string & rust_shared_lib,const string & host_ip,int port)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Release() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "RemotePlugin(const RustAdapter::Config & conf)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::hresult Revoke(ICallback * callback)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void SendTo(uint32_t channel_id,const char * json)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::hresult Validate(const string & token,const string & method,const string & paramaters) const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}, {"name": "void onRead(const Response & rsp)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class", "description": "unavailable"}], "calls": ["m_service->Submit", "m_stream.Open", "m_stream.RunThread", "m_stream.GetAddress", "m_stream.GetPort", "m_stream.SendExit", "waitpid", "setenv", "execvp", "LOGERR", "LOGDBG"], "search-terms": ["RemotePlugin", "socket communication", "JSON-RPC", "Rust adapter", "process launch", "WPEFramework plugin"], "state": 2, "file_id": 7583, "knowledge_revision": 15315, "git_revision": "", "ctags": [{"_type": "tag", "name": "Activate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Activate($/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(WPEFramework::PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "AddRef", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::AddRef() const$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Attach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Attach(PluginHost::Channel &channel)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Close", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^void RemotePlugin::Close(const uint32_t channelId) \\/* override *\\/$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint32_t channelId)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Deactivate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Deactivate()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Deinitialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Deinitialize(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Detach", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Detach(PluginHost::Channel &channel)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(PluginHost::Channel & channel)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Inbound(const string &identifier)$/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement>", "kind": "function", "signature": "(const string & identifier)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Inbound", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Inbound(const uint32_t id,$/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSON::IElement>", "kind": "function", "signature": "(const uint32_t id,const Core::ProxyType<Core::JSON::IElement> & element)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Information", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Information() const$/", "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Initialize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Initialize(PluginHost::IShell *shell)$/", "language": "C++", "typeref": "typename:const string", "kind": "function", "signature": "(PluginHost::IShell * shell)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Invoke($/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message>", "kind": "function", "signature": "(const WPEFramework::Core::JSONRPC::Context & ctx,const WPEFramework::Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Invoke($/", "language": "C++", "typeref": "typename:WPEFramework::Core::ProxyType<WPEFramework::Core::JSONRPC::Message>", "kind": "function", "signature": "(const string & token,const uint32_t channelId,const Core::JSONRPC::Message & req)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Invoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^WPEFramework::Core::hresult RemotePlugin::Invoke(ICallback* callback, const uint32_t channelId, /", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(ICallback * callback,const uint32_t channelId,const uint32_t id,const string & token,const string & method,const string & parameters,string & response)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "LaunchRemoteProcess", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^int RemotePlugin::LaunchRemoteProcess(const string& rust_shared_lib, const string& host_ip, int /", "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "(const string & rust_shared_lib,const string & host_ip,int port)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Release", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::Release() const$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "() const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "RemotePlugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::RemotePlugin(const RustAdapter::Config &conf)$/", "language": "C++", "kind": "function", "signature": "(const RustAdapter::Config & conf)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Revoke", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^WPEFramework::Core::hresult RemotePlugin::Revoke(ICallback* callback)$/", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(ICallback * callback)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Rust", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^namespace Rust {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "SendTo", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^RemotePlugin::SendTo(uint32_t channel_id, const char *json)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint32_t channel_id,const char * json)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "Validate", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^WPEFramework::Core::hresult RemotePlugin::Validate(const string& token, const string& method, co/", "language": "C++", "typeref": "typename:WPEFramework::Core::hresult", "kind": "function", "signature": "(const string & token,const string & method,const string & paramaters) const", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "onRead", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "pattern": "/^void RemotePlugin::onRead(const Response& rsp)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const Response & rsp)", "scope": "WPEFramework::Plugin::Rust::RemotePlugin", "scopeKind": "class"}], "hash": "4f17111938ee27f28280d99e53580bf8", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/RustAdapter/RemotePlugin.cpp", "revision_history": [{"15315": ""}]}