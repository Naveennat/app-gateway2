{"is_source_file": true, "format": "C++ header file", "description": "This file declares the IPTestAdministrator class, which manages inter-process testing synchronization mechanisms such as process forking, message exchange, and process synchronization using mutexes and condition variables. It appears to be part of a testing framework for network or IPC components within the Thunder project.", "external_files": ["<string>", "<time.h>", "<pthread.h>", "<-- implied by usage of pthread types and functions"], "external_methods": ["pthread_mutex_t", "pthread_cond_t", "pthread_mutex_init", "pthread_cond_wait", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_cond_signal"], "published": ["IPTestAdministrator"], "classes": [{"name": "IPTestAdministrator", "description": "A class to facilitate inter-process unit testing by managing process creation, synchronization, and message passing using shared data structures and pthread synchronization primitives."}], "methods": [{"name": "IPTestAdministrator", "description": "Constructor initializing the test administrator with a callback for the other process and an optional wait time."}, {"name": "ForkChildProcess", "description": "Creates a child process to run a specified test."}, {"name": "Sync", "description": "Synchronizes two test processes with a message string."}, {"name": "WaitForChildCompletion", "description": "Waits for the child process to complete."}, {"name": "void * Data()", "description": "Returns a pointer to user-defined data associated with the test.", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"name": "GetProcessName", "description": "Returns the process name, likely for debugging or logging."}, {"name": "TimedLock", "description": "Attempts to acquire a mutex with a timeout, with context from a string."}, {"name": "TimedWait", "description": "Waits on a condition variable with a timeout, with context from a string."}, {"name": "FillTimeOut", "description": "Fills a timespec structure with a timeout value based on current time and maximum wait."}], "calls": ["pthread_mutex_lock", "pthread_mutex_unlock", "pthread_cond_wait", "pthread_cond_signal"], "search-terms": ["IPTestAdministrator", "sharedData", "pthread_mutex_t", "pthread_cond_t", "inter-process synchronization", "fork", "wait", "message passing"], "state": 2, "file_id": 2914, "knowledge_revision": 6123, "git_revision": "", "ctags": [{"_type": "tag", "name": "Data", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   void* Data() { return m_data; }$/", "language": "C++", "typeref": "typename:void *", "kind": "function", "signature": "()", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "IPTestAdministrator", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^class IPTestAdministrator$/", "language": "C++", "kind": "class"}, {"_type": "tag", "name": "MODULE_NAME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^#define MODULE_NAME /", "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "MaxWaitTime", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   static constexpr uint32_t MaxWaitTime = 2; \\/\\/ In seconds$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "OtherSideMain", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   typedef void (*OtherSideMain)(IPTestAdministrator & testAdmin);$/", "language": "C++", "typeref": "typename:void (*)(IPTestAdministrator & testAdmin)", "kind": "typedef", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "SharedData", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   struct SharedData$/", "language": "C++", "kind": "struct", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "m_backToNormal", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      bool m_backToNormal;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_childPid", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   pid_t m_childPid; \\/\\/ Set if we are parent processs.$/", "language": "C++", "typeref": "typename:pid_t", "kind": "member", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "m_data", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   void* m_data;$/", "language": "C++", "typeref": "typename:void *", "kind": "member", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "m_maxWaitTime", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   uint32_t m_maxWaitTime; \\/\\/ In seconds.$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "m_message", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      char m_message[m_messageBufferSize];     \\/\\/ Expected message string$/", "language": "C++", "typeref": "typename:char[]", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_messageBufferSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   static const uint32_t m_messageBufferSize = 1024;$/", "language": "C++", "typeref": "typename:const uint32_t", "kind": "member", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "m_messageTheSame", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      bool m_messageTheSame;    \\/\\/ whether message comparison was a success$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_sharedData", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^   SharedData * m_sharedData;$/", "language": "C++", "typeref": "typename:SharedData *", "kind": "member", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "m_stateMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      pthread_mutex_t m_stateMutex; \\/\\/ Guards state (are we first or second?)$/", "language": "C++", "typeref": "typename:pthread_mutex_t", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_waitingForNormalCond", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      pthread_cond_t m_waitingForNormalCond; \\/\\/ To wait for first to restore state to normal$/", "language": "C++", "typeref": "typename:pthread_cond_t", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_waitingForNormalCondMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      pthread_mutex_t m_waitingForNormalCondMutex;$/", "language": "C++", "typeref": "typename:pthread_mutex_t", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_waitingForOther", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      bool m_waitingForOther;   \\/\\/ whether we are waiting for the other side or not$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_waitingForSecondCond", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      pthread_cond_t m_waitingForSecondCond; \\/\\/ Used to wait for second$/", "language": "C++", "typeref": "typename:pthread_cond_t", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}, {"_type": "tag", "name": "m_waitingForSecondCondMutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "pattern": "/^      pthread_mutex_t m_waitingForSecondCondMutex;$/", "language": "C++", "typeref": "typename:pthread_mutex_t", "kind": "member", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct"}], "hash": "8969174c04db70b8503126eb12820234", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Tests/unit/IPTestAdministrator.h", "fields": [{"name": "uint32_t MaxWaitTime", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "bool m_backToNormal", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "pid_t m_childPid", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "void * m_data", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t m_maxWaitTime", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "char[] m_message", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "const uint32_t m_messageBufferSize", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "bool m_messageTheSame", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "SharedData * m_sharedData", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "pthread_mutex_t m_stateMutex", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_cond_t m_waitingForNormalCond", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_mutex_t m_waitingForNormalCondMutex", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "bool m_waitingForOther", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_cond_t m_waitingForSecondCond", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}, {"name": "pthread_mutex_t m_waitingForSecondCondMutex", "scope": "IPTestAdministrator::SharedData", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"6123": ""}]}