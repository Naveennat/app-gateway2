{"is_source_file": true, "format": "C++", "description": "This file contains unit tests for WebSocket server and client implementations within the WPEFramework project, utilizing Google Test framework. It includes class definitions for WebSocket server and client test classes, and a test case that sets up WebSocket connections and verifies data transmission.", "external_files": ["../IPTestAdministrator.h", "<gtest/gtest.h>", "<core/core.h>", "<websocket/websocket.h>"], "external_methods": [], "published": ["WebSocket", "WPEFramework::Tests::TextSocketServer", "WPEFramework::Tests::TextSocketClient"], "classes": [{"name": "TextSocketServer", "description": "A test class derived from Core::StreamTextType for server-side WebSocket testing, providing mechanisms to track connection state and received messages."}, {"name": "TextSocketClient", "description": "A test class derived from Core::StreamTextType for client-side WebSocket testing, capable of sending and receiving text data for unit tests."}], "methods": [{"name": "void StateChange()", "description": "Callback invoked on state change; signals that the server connection is open.", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"name": "void Received(string & text)", "description": "Callback invoked when text data is received; in server class, stores message; in client class, signals data pending.", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"name": "void Send(const string & text)", "description": "Method intended to send data over WebSocket; in test classes, this may be a no-op or customized.", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"name": "bool GetState()", "description": "Static method to check if server connection is established.", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"name": "int Wait() const", "description": "In client class, blocks until data is received.", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"name": "void Retrieve(string & text)", "description": "In client class, retrieves the received message and clears the buffer.", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"name": "TEST(WebSocket,DISABLED_Text)", "scope": "WPEFramework::Tests", "scopeKind": "namespace", "description": "unavailable"}, {"name": "TextSocketClient(const Core::NodeId & remoteNode)", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class", "description": "unavailable"}, {"name": "TextSocketServer(const SOCKET & socket,const WPEFramework::Core::NodeId & remoteNode,WPEFramework::Core::SocketServerType<TextSocketServer> *)", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "__anon61d1206d0102(IPTestAdministrator & testAdmin)", "scope": "WPEFramework::Tests::TEST", "scopeKind": "function", "description": "unavailable"}, {"name": "__anon61d1206d0202(IPTestAdministrator& testAdmin )", "scope": "WPEFramework::Tests::TEST", "scopeKind": "function", "description": "unavailable"}, {"name": "~TextSocketClient()", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class", "description": "unavailable"}, {"name": "~TextSocketServer()", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::StreamTextType<Web::WebSocketServerType<Core::SocketStream>, Core::TerminatorCarriageReturn>::Submit", "Core::SocketServerType<TextSocketServer>::Open", "TextSocketClient::Submit", "TextSocketClient::Wait", "TextSocketClient::Retrieve", "Core::Singleton::Dispose"], "search-terms": ["WebSocket", "unit test", "TextSocketServer", "TextSocketClient", "DISABLED_Text", "WPEFramework WebSocket tests"], "state": 2, "file_id": 744, "knowledge_revision": 1833, "git_revision": "", "ctags": [{"_type": "tag", "name": "BaseClass", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        typedef Core::StreamTextType<Web::WebSocketServerType<Core::SocketStream>, Core::Termina/", "file": true, "language": "C++", "typeref": "typename:Core::StreamTextType<Web::WebSocketServerType<Core::SocketStream>,Core::TerminatorCarriageReturn>", "kind": "typedef", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "BaseClass", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^\t\ttypedef Core::StreamTextType<Web::WebSocketClientType<Core::SocketStream>, Core::TerminatorCar/", "file": true, "language": "C++", "typeref": "typename:Core::StreamTextType<Web::WebSocketClientType<Core::SocketStream>,Core::TerminatorCarriageReturn>", "kind": "typedef", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "GetState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        static bool GetState()$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "()", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "Received", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        virtual void Received(string& text)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(string & text)", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "Received", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^\t    virtual void Received(string& text)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(string & text)", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "Retrieve", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        void Retrieve(string& text)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(string & text)", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "Send", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        virtual void Send(const string& text)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & text)", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "Send", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        virtual void Send(const string& text)$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & text)", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "StateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^\t    virtual void StateChange()$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "StateChange", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^\t    virtual void StateChange()$/", "file": true, "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "TEST", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^    TEST(WebSocket, DISABLED_Text)$/", "language": "C++", "kind": "function", "signature": "(WebSocket,DISABLED_Text)", "scope": "WPEFramework::Tests", "scopeKind": "namespace"}, {"_type": "tag", "name": "Tests", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^namespace Tests {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "TextSocketClient", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        TextSocketClient(const Core::NodeId& remoteNode)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const Core::NodeId & remoteNode)", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "TextSocketClient", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^    class TextSocketClient : public Core::StreamTextType<Web::WebSocketClientType<Core::SocketSt/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Tests", "scopeKind": "namespace"}, {"_type": "tag", "name": "TextSocketServer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        TextSocketServer(const SOCKET& socket, const WPEFramework::Core::NodeId& remoteNode, WPE/", "file": true, "language": "C++", "kind": "function", "signature": "(const SOCKET & socket,const WPEFramework::Core::NodeId & remoteNode,WPEFramework::Core::SocketServerType<TextSocketServer> *)", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "TextSocketServer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^    class TextSocketServer : public Core::StreamTextType<Web::WebSocketServerType<Core::SocketSt/", "file": true, "language": "C++", "kind": "class", "scope": "WPEFramework::Tests", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "Wait", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        int Wait() const$/", "file": true, "language": "C++", "typeref": "typename:int", "kind": "function", "signature": "() const", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "__anon61d1206d0102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        auto lambdaFunc = [connector](IPTestAdministrator & testAdmin) {$/", "file": true, "language": "C++", "kind": "function", "signature": "(IPTestAdministrator & testAdmin) ", "scope": "WPEFramework::Tests::TEST", "scopeKind": "function"}, {"_type": "tag", "name": "__anon61d1206d0202", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        IPTestAdministrator::OtherSideMain otherSide = [](IPTestAdministrator& testAdmin ) { lam/", "file": true, "language": "C++", "kind": "function", "signature": "(IPTestAdministrator& testAdmin ) ", "scope": "WPEFramework::Tests::TEST", "scopeKind": "function"}, {"_type": "tag", "name": "_cv", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        static std::condition_variable _cv;$/", "file": true, "language": "C++", "typeref": "typename:std::condition_variable", "kind": "member", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "_cv", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^    std::condition_variable TextSocketServer::_cv;$/", "language": "C++", "typeref": "typename:std::condition_variable", "kind": "member", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "_dataPending", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        mutable WPEFramework::Core::Event _dataPending;$/", "file": true, "language": "C++", "typeref": "typename:WPEFramework::Core::Event", "kind": "member", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "_dataReceived", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        string _dataReceived;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "_done", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        static bool _done;$/", "file": true, "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "_done", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^    bool TextSocketServer::_done = false;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "_mutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        static std::mutex _mutex;$/", "file": true, "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "_mutex", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^    std::mutex TextSocketServer::_mutex;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}, {"_type": "tag", "name": "~TextSocketClient", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^\t    virtual ~TextSocketClient()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class"}, {"_type": "tag", "name": "~TextSocketServer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "pattern": "/^        virtual ~TextSocketServer()$/", "file": true, "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class"}], "hash": "5fdfd59c4ab38f71224fbcfdb48180a6", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Tests/unit/core/test_websockettext.cpp", "fields": [{"name": "std::condition_variable _cv", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "WPEFramework::Core::Event _dataPending", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class", "description": "unavailable"}, {"name": "string _dataReceived", "scope": "WPEFramework::Tests::TextSocketClient", "scopeKind": "class", "description": "unavailable"}, {"name": "bool _done", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class", "description": "unavailable"}, {"name": "std::mutex _mutex", "scope": "WPEFramework::Tests::TextSocketServer", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"1833": ""}]}