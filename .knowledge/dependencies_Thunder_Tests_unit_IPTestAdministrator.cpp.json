{"is_source_file": true, "format": "C++", "description": "This file implements the class IPTestAdministrator, which manages inter-process communication and process synchronization for testing purposes using shared memory, mutexes, and condition variables. It includes methods to fork child processes, synchronize messages between processes, and handle process cleanup.", "external_files": ["IPTestAdministrator.h", "core/core.h"], "external_methods": ["pthread_mutexattr_init", "pthread_mutexattr_setpshared", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_condattr_init", "pthread_condattr_setpshared", "pthread_cond_init", "pthread_cond_destroy", "fork", "waitpid", "pthread_mutex_timedlock", "pthread_cond_timedwait", "clock_gettime"], "published": ["IPTestAdministrator", "IPTestAdministrator::Sync", "IPTestAdministrator::GetProcessName"], "classes": [{"name": "IPTestAdministrator", "description": "A class responsible for setting up shared memory and synchronization primitives for IPC testing, managing child process creation and synchronization, and cleanup."}], "methods": [{"name": "IPTestAdministrator::IPTestAdministrator", "description": "Constructor that initializes shared memory and forks a child process, passing in a callback."}, {"name": "IPTestAdministrator::~IPTestAdministrator", "description": "Destructor that waits for the child process to finish."}, {"name": "IPTestAdministrator::WaitForChildCompletion", "description": "Waits for the child process to complete."}, {"name": "IPTestAdministrator::Sync", "description": "Synchronizes a message string between parent and child process, returning true if messages match."}, {"name": "IPTestAdministrator::GetProcessName", "description": "Returns process identity ('parent' or 'child') based on stored PID."}, {"name": "IPTestAdministrator::ForkChildProcess", "description": "Handles creation of a child process and initialization of shared resources."}, {"name": "IPTestAdministrator::TimedLock", "description": "Attempts to lock a mutex with a timeout, aborting on timeout."}, {"name": "IPTestAdministrator::TimedWait", "description": "Attempts to wait on a condition variable with a timeout, aborting on timeout."}, {"name": "IPTestAdministrator::FillTimeOut", "description": "Sets a timespec timeout based on the maximum wait time."}, {"name": "void FillTimeOut(timespec & timeSpec)", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "void ForkChildProcess(OtherSideMain otherSideMain)", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "const char * GetProcessName() const", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "IPTestAdministrator(OtherSideMain otherSideMain,const uint32_t waitTime)", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "IPTestAdministrator(OtherSideMain otherSideMain,void * data,const uint32_t waitTime)", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "bool Sync(const std::string & str)", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "void TimedLock(pthread_mutex_t * mutex,const std::string & str)", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "void TimedWait(pthread_cond_t * cond,pthread_mutex_t * mutex,const std::string & str)", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "void WaitForChildCompletion()", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}, {"name": "~IPTestAdministrator()", "scope": "IPTestAdministrator", "scopeKind": "class", "description": "unavailable"}], "calls": ["pthread_mutexattr_init", "pthread_mutexattr_setpshared", "pthread_mutex_init", "pthread_condattr_init", "pthread_condattr_setpshared", "pthread_cond_init", "fork", "waitpid", "pthread_mutex_timedlock", "pthread_cond_timedwait", "clock_gettime", "pthread_mutex_unlock", "pthread_cond_signal"], "search-terms": ["IPTestAdministrator", "shared memory IPC", "process synchronization", "fork child process", "message synchronization", "shared mutex", "condition variable IPC", "test process communication"], "state": 2, "file_id": 573, "knowledge_revision": 1693, "git_revision": "", "ctags": [{"_type": "tag", "name": "FillTimeOut", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^void IPTestAdministrator::FillTimeOut(timespec & timeSpec)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(timespec & timeSpec)", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "ForkChildProcess", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^void IPTestAdministrator::ForkChildProcess(OtherSideMain otherSideMain)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(OtherSideMain otherSideMain)", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "GetProcessName", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^const char * IPTestAdministrator::GetProcessName() const$/", "language": "C++", "typeref": "typename:const char *", "kind": "function", "signature": "() const", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "IPTestAdministrator", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^IPTestAdministrator::IPTestAdministrator(OtherSideMain otherSideMain, const uint32_t waitTime)$/", "language": "C++", "kind": "function", "signature": "(OtherSideMain otherSideMain,const uint32_t waitTime)", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "IPTestAdministrator", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^IPTestAdministrator::IPTestAdministrator(OtherSideMain otherSideMain, void* data, const uint32_t/", "language": "C++", "kind": "function", "signature": "(OtherSideMain otherSideMain,void * data,const uint32_t waitTime)", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "Sync", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^bool IPTestAdministrator::Sync(const std::string & str)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const std::string & str)", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "TimedLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^void IPTestAdministrator::TimedLock(pthread_mutex_t * mutex, const std::string & str)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(pthread_mutex_t * mutex,const std::string & str)", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "TimedWait", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^void IPTestAdministrator::TimedWait(pthread_cond_t * cond, pthread_mutex_t * mutex, const std::s/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(pthread_cond_t * cond,pthread_mutex_t * mutex,const std::string & str)", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "WaitForChildCompletion", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^void IPTestAdministrator::WaitForChildCompletion()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "IPTestAdministrator", "scopeKind": "class"}, {"_type": "tag", "name": "~IPTestAdministrator", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "pattern": "/^IPTestAdministrator::~IPTestAdministrator()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "IPTestAdministrator", "scopeKind": "class"}], "hash": "0416b7ac28e25b23ae210eefc4c1dc72", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Tests/unit/IPTestAdministrator.cpp", "revision_history": [{"1693": ""}]}