{"is_source_file": true, "format": "C++ header file", "description": "This header file defines the FileSystemNotification class within the WPEFramework::Plugin namespace. The class manages directory watch notifications using inotify, allowing clients to add directory watches with callbacks for file creation and deletion events. It includes methods to start and stop the notification loop and handles internal threading and event processing.", "external_files": ["<atomic>", "<functional>", "<string>", "<thread>", "<unordered_map>", "<sys/inotify.h>"], "external_methods": [], "published": ["FileSystemNotification", "start", "stop", "addDirectoryWatch"], "classes": [{"name": "FileSystemNotification", "description": "A class to monitor filesystem directory changes using inotify, providing an interface to add watches and handle notifications."}], "methods": [{"name": "FileSystemNotification", "description": "Constructor initializing the notification manager."}, {"name": "~FileSystemNotification", "description": "Destructor for cleanup."}, {"name": "start", "description": "Starts the directory monitoring service."}, {"name": "stop", "description": "Stops the directory monitoring service."}, {"name": "addDirectoryWatch", "description": "Adds a watch on a specified directory with callbacks for file creation and deletion events."}], "calls": ["clear", "loop", "handleDirectoryNotif"], "search-terms": ["FileSystemNotification", "inotify", "directoryWatches", "FileChangeCallback", "start", "stop"], "state": 2, "file_id": 8475, "knowledge_revision": 17609, "git_revision": "bc95ad096bdaa0d2d554ecfc4389c78048005d56", "ctags": [{"_type": "tag", "name": "DirectoryWatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^    struct DirectoryWatch$/", "language": "C++", "kind": "struct", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "FileChangeCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^    using FileChangeCallback = std::function<void(const std::string &)>;$/", "language": "C++", "kind": "typedef", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "FileSystemNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^class FileSystemNotification$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^namespace Plugin       {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "directoryWatches_", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^    std::unordered_map<int, DirectoryWatch> directoryWatches_;$/", "language": "C++", "typeref": "typename:std::unordered_map<int,DirectoryWatch>", "kind": "member", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "inotifyFd_", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^    int inotifyFd_{-1};$/", "language": "C++", "typeref": "typename:int", "kind": "member", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "loopThread_", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^    std::thread loopThread_;$/", "language": "C++", "typeref": "typename:std::thread", "kind": "member", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}, {"_type": "tag", "name": "onFileCreationCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^        FileChangeCallback onFileCreationCallback;$/", "language": "C++", "typeref": "typename:FileChangeCallback", "kind": "member", "scope": "WPEFramework::Plugin::FileSystemNotification::DirectoryWatch", "scopeKind": "struct"}, {"_type": "tag", "name": "onFileDeletionCallback", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^        FileChangeCallback onFileDeletionCallback;$/", "language": "C++", "typeref": "typename:FileChangeCallback", "kind": "member", "scope": "WPEFramework::Plugin::FileSystemNotification::DirectoryWatch", "scopeKind": "struct"}, {"_type": "tag", "name": "running_", "path": "/home/kavia/workspace/code-generation/app-gateway2/helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "pattern": "/^    std::atomic_bool running_{false};$/", "language": "C++", "typeref": "typename:std::atomic_bool", "kind": "member", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class"}], "hash": "265608c0a77e1d763cc3ea160e3edfd8", "format-version": 4, "code-base-name": "app-gateway2", "filename": "helpers/rdkservices-comcast/helpers/FileSystemNotification.h", "fields": [{"name": "std::unordered_map<int,DirectoryWatch> directoryWatches_", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "int inotifyFd_", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "std::thread loopThread_", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "FileChangeCallback onFileCreationCallback", "scope": "WPEFramework::Plugin::FileSystemNotification::DirectoryWatch", "scopeKind": "struct", "description": "unavailable"}, {"name": "FileChangeCallback onFileDeletionCallback", "scope": "WPEFramework::Plugin::FileSystemNotification::DirectoryWatch", "scopeKind": "struct", "description": "unavailable"}, {"name": "std::atomic_bool running_", "scope": "WPEFramework::Plugin::FileSystemNotification", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"17609": "bc95ad096bdaa0d2d554ecfc4389c78048005d56"}]}