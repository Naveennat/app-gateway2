{"is_source_file": true, "format": "C++", "description": "This source file implements the StorageManagerImplementation class, which manages storage creation, retrieval, deletion, and clearing for applications within the WPEFramework plugin system. It handles configuration, telemetry, and storage operations, integrating with other components like RequestHandler and TelemetryMetrics.", "external_files": ["StorageManagerImplementation.h", "UtilsLogging.h", "RequestHandler.h", "<sys/statvfs.h>"], "external_methods": ["RequestHandler::getInstance", "Core::Error", "Core::hresult", "Core::ERROR_NONE", "Core::ERROR_GENERAL", "Core::SystemInfo::SetEnvironment", "Core::Error", "RequestHandler::CreateStorage", "RequestHandler::GetStorage", "RequestHandler::DeleteStorage", "RequestHandler::Clear", "RequestHandler::ClearAll", "RequestHandler::setCurrentService", "RequestHandler::releasePersistentStoreRemoteStoreObject", "RequestHandler::populateAppInfoCacheFromStoragePath", "Core::SystemInfo::SetEnvironment", "Core::SystemInfo::SetEnvironment", "Core::Error", "WPEFramework::Exchange::ITelemetryMetrics", "QueryInterfaceByCallsign"], "published": ["CreateStorage", "GetStorage", "DeleteStorage", "Clear", "ClearAll", "Configure"], "classes": [{"name": "StorageManagerImplementation", "description": "Implementation class for managing app storage within the WPEFramework plugin. Handles configuration, storage lifecycle operations, and telemetry integration."}], "methods": [{"name": "StorageManagerImplementation::Configure", "description": "Configures the storage manager with the given service, setting paths, initializing telemetry, and preparing storage cache."}, {"name": "StorageManagerImplementation::CreateStorage", "description": "Creates storage for a specific application ID with the requested size, returning the storage path."}, {"name": "StorageManagerImplementation::GetStorage", "description": "Retrieves storage information and usage details for the specified application ID."}, {"name": "StorageManagerImplementation::DeleteStorage", "description": "Deletes storage associated with a specified application ID."}, {"name": "StorageManagerImplementation::Clear", "description": "Clears data for a specific application ID."}, {"name": "StorageManagerImplementation::ClearAll", "description": "Clears storage for all applications except those explicitly exempted."}, {"name": "Core::hresult Clear(const string & appId,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult ClearAll(const string & exemptionAppIds,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Configure(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult CreateStorage(const std::string & appId,const uint32_t & size,std::string & path,std::string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult DeleteStorage(const string & appId,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::hresult GetStorage(const string & appId,const int32_t & userId,const int32_t & groupId,string & path,uint32_t & size,uint32_t & used)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "StorageManagerImplementation()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "time_t getCurrentTimestamp()", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}, {"name": "~StorageManagerImplementation()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["RequestHandler::getInstance", "RequestHandler::CreateStorage", "RequestHandler::GetStorage", "RequestHandler::DeleteStorage", "RequestHandler::Clear", "RequestHandler::ClearAll", "Core::SystemInfo::SetEnvironment", "mTelemetryMetricsObject->Record"], "search-terms": ["StorageManagerImplementation", "Storage", "appId", "TelemetryMetrics", "createPersistentStoreRemoteStoreObject", "populateAppInfoCacheFromStoragePath"], "state": 2, "file_id": 181, "knowledge_revision": 552, "git_revision": "", "ctags": [{"_type": "tag", "name": "Clear", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::Clear(const string& appId, string& errorReason)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ClearAll", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::ClearAll(const string& exemptionAppIds, string& /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & exemptionAppIds,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    uint32_t StorageManagerImplementation::Configure(PluginHost::IShell* service)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "CreateStorage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::CreateStorage(const std::string& appId, const ui/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const std::string & appId,const uint32_t & size,std::string & path,std::string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_APP_STORAGE_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^#define DEFAULT_APP_STORAGE_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DeleteStorage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::DeleteStorage(const string& appId, string& error/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetStorage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::GetStorage(const string& appId, const int32_t& u/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const int32_t & userId,const int32_t & groupId,string & path,uint32_t & size,uint32_t & used)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "StorageManagerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    StorageManagerImplementation::StorageManagerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "TELEMETRY_MARKER_LAUNCH_TIME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^#define TELEMETRY_MARKER_LAUNCH_TIME /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "getCurrentTimestamp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    static time_t getCurrentTimestamp()$/", "file": true, "language": "C++", "typeref": "typename:time_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "~StorageManagerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    StorageManagerImplementation::~StorageManagerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}], "hash": "00c48028b5640f9a407454794ca518f8", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "revision_history": [{"552": ""}]}