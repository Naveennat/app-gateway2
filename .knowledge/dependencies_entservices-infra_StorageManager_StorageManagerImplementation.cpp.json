{"is_source_file": true, "format": "C++", "description": "This source file 'StorageManagerImplementation.cpp' implements the methods of the StorageManagerImplementation class, which manages storage operations such as creation, retrieval, deletion, and clearing of storage associated with applications. It interfaces with RequestHandler for storage operations, logs activities, and includes telemetry metrics in some functions.", "external_files": ["StorageManagerImplementation.h", "UtilsLogging.h", "RequestHandler.h", "<sys/statvfs.h>"], "external_methods": ["RequestHandler::getInstance", "RequestHandler::releasePersistentStoreRemoteStoreObject", "RequestHandler::CreateStorage", "RequestHandler::GetStorage", "RequestHandler::DeleteStorage", "RequestHandler::Clear", "RequestHandler::ClearAll", "Core::SystemInfo::SetEnvironment", "Core::Error", "Core::hresult", "LOGINFO", "LOGWARN", "LOGERR", "QueryInterfaceByCallsign", "populateAppInfoCacheFromStoragePath", "SystemInfo::SetEnvironment", "Time functions within getCurrentTimestamp()"], "published": ["StorageManagerImplementation::Configure", "StorageManagerImplementation::CreateStorage", "StorageManagerImplementation::GetStorage", "StorageManagerImplementation::DeleteStorage", "StorageManagerImplementation::Clear", "StorageManagerImplementation::ClearAll"], "classes": [{"name": "StorageManagerImplementation", "description": "Class responsible for managing storage operations for applications; handles creation, retrieval, deletion, clearing of storage, and maintains internal state related to the current service and telemetry metrics."}], "methods": [{"name": "uint32_t Configure(PluginHost::IShell * service)", "description": "Initializes the storage manager with a given service, sets up paths, creates storage objects, and retrieves configuration data.", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"name": "Core::hresult CreateStorage(const std::string & appId,const uint32_t & size,std::string & path,std::string & errorReason)", "description": "Creates storage space for a specific application ID with specified size and returns the storage path.", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"name": "Core::hresult GetStorage(const string & appId,const int32_t & userId,const int32_t & groupId,string & path,uint32_t & size,uint32_t & used)", "description": "Retrieves storage information, location, and usage details for a specified application ID.", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"name": "Core::hresult DeleteStorage(const string & appId,string & errorReason)", "description": "Deletes the storage associated with a specific application ID.", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"name": "Core::hresult Clear(const string & appId,string & errorReason)", "description": "Clears data for a specified application ID.", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"name": "Core::hresult ClearAll(const string & exemptionAppIds,string & errorReason)", "description": "Clears all storage data except for exempted app IDs.", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"name": "StorageManagerImplementation()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "time_t getCurrentTimestamp()", "scope": "WPEFramework::Plugin", "scopeKind": "namespace", "description": "unavailable"}, {"name": "~StorageManagerImplementation()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class", "description": "unavailable"}], "calls": ["RequestHandler::getInstance", "RequestHandler::releasePersistentStoreRemoteStoreObject", "RequestHandler::CreateStorage", "RequestHandler::GetStorage", "RequestHandler::DeleteStorage", "RequestHandler::Clear", "RequestHandler::ClearAll", "Core::SystemInfo::SetEnvironment", "mCurrentservice->AddRef", "mCurrentservice->ConfigLine", "mCurrentservice->QueryInterfaceByCallsign<WPEFramework::Exchange::ITelemetryMetrics>", "mCurrentservice->Release", "handler.setCurrentService", "handler.createPersistentStoreRemoteStoreObject", "handler.populateAppInfoCacheFromStoragePath", "mTelemetryMetricsObject->Record"], "search-terms": ["StorageManagerImplementation", "Configure", "CreateStorage", "GetStorage", "DeleteStorage", "Clear", "ClearAll", "TelemetryMetrics", "RequestHandler", "AppInfoCache", "PersistentStore"], "state": 2, "file_id": 8754, "knowledge_revision": 17337, "git_revision": "", "ctags": [{"_type": "tag", "name": "Clear", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::Clear(const string& appId, string& errorReason)$/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ClearAll", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::ClearAll(const string& exemptionAppIds, string& /", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & exemptionAppIds,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Configure", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    uint32_t StorageManagerImplementation::Configure(PluginHost::IShell* service)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(PluginHost::IShell * service)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "CreateStorage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::CreateStorage(const std::string& appId, const ui/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const std::string & appId,const uint32_t & size,std::string & path,std::string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_APP_STORAGE_PATH", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^#define DEFAULT_APP_STORAGE_PATH /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "DeleteStorage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::DeleteStorage(const string& appId, string& error/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,string & errorReason)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetStorage", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    Core::hresult StorageManagerImplementation::GetStorage(const string& appId, const int32_t& u/", "language": "C++", "typeref": "typename:Core::hresult", "kind": "function", "signature": "(const string & appId,const int32_t & userId,const int32_t & groupId,string & path,uint32_t & size,uint32_t & used)", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "StorageManagerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    StorageManagerImplementation::StorageManagerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "TELEMETRY_MARKER_LAUNCH_TIME", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^#define TELEMETRY_MARKER_LAUNCH_TIME /", "file": true, "language": "C++", "kind": "macro"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "getCurrentTimestamp", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    static time_t getCurrentTimestamp()$/", "file": true, "language": "C++", "typeref": "typename:time_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "~StorageManagerImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "pattern": "/^    StorageManagerImplementation::~StorageManagerImplementation()$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::StorageManagerImplementation", "scopeKind": "class"}], "hash": "00c48028b5640f9a407454794ca518f8", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/StorageManager/StorageManagerImplementation.cpp", "revision_history": [{"17337": ""}]}