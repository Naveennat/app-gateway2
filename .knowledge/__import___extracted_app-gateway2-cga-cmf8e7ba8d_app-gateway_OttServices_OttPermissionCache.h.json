{"is_source_file": true, "format": "C++ header (C++ class definition)", "description": "This header file defines the OttPermissionCache class, a thread-safe singleton managing an in-memory cache of permissions keyed by application ID for OTT services. It provides methods for updating, retrieving, invalidating, and clearing permission data, with on-disk persistence strategies.", "external_files": ["<core/core.h>"], "external_methods": [], "published": ["WPEFramework::Plugin::OttPermissionCache"], "classes": [{"name": "OttPermissionCache", "description": "A singleton class that manages a thread-safe in-memory permission cache for OTT services, supporting CRUD operations and cache size inquiries."}], "methods": [{"name": "Instance", "description": "Provides access to the singleton instance of OttPermissionCache."}, {"name": "GetPermissions", "description": "Retrieves a copy of the permissions vector associated with a given appId."}, {"name": "UpdateCache", "description": "Updates or adds the permission list for a specified appId, with thread safety and on-disk persistence."}, {"name": "Invalidate", "description": "Removes cached permissions for a specific appId if present."}, {"name": "Clear", "description": "Clears the entire cache, removing all stored permissions."}, {"name": "Has", "description": "Checks if a specific appId has an entry in the cache."}, {"name": "Size", "description": "Returns the number of entries currently stored in the cache."}], "calls": ["OttPermissionCache::Instance", "OttPermissionCache::GetPermissions", "OttPermissionCache::UpdateCache", "OttPermissionCache::Invalidate", "OttPermissionCache::Clear", "OttPermissionCache::Has", "OttPermissionCache::Size"], "search-terms": ["OttPermissionCache", "Thread-safe permission cache", "OTT services permissions", "app ID permission cache", "Singleton pattern C++"], "state": 2, "file_id": 1198, "knowledge_revision": 16259, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "OttPermissionCache", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/app-gateway/OttServices/OttPermissionCache.h", "pattern": "/^    class OttPermissionCache {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/app-gateway/OttServices/OttPermissionCache.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/app-gateway/OttServices/OttPermissionCache.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_admin", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/app-gateway/OttServices/OttPermissionCache.h", "pattern": "/^        mutable std::mutex _admin;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class"}, {"_type": "tag", "name": "_cache", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/app-gateway/OttServices/OttPermissionCache.h", "pattern": "/^        std::map<string, std::vector<string>> _cache;$/", "language": "C++", "typeref": "typename:std::map<string,std::vector<string>>", "kind": "member", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class"}], "hash": "4a598abecb364e431264bf623cfe1cb5", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/app-gateway/OttServices/OttPermissionCache.h", "fields": [{"name": "std::mutex _admin", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class", "description": "unavailable"}, {"name": "std::map<string,std::vector<string>> _cache", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"16259": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}