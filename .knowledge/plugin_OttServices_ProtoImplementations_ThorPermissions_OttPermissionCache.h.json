{"is_source_file": true, "format": "C++ header file", "description": "This file defines the OttPermissionCache class, which provides a thread-safe in-memory cache for OTT service permissions, storing permissions keyed by application ID. It includes methods for accessing, updating, invalidating, and clearing the cache, with implementation details focusing on thread safety and atomic file updates.", "external_files": ["<core/core.h>"], "external_methods": [], "published": ["WPEFramework::Plugin::OttPermissionCache"], "classes": [{"name": "OttPermissionCache", "description": "A singleton class providing thread-safe access to an in-memory cache of permissions for OTT services, with methods to get, update, invalidate, and clear cached permissions."}], "methods": [{"name": "Instance", "description": "Provides access to the singleton instance of OttPermissionCache."}, {"name": "GetPermissions", "description": "Retrieves permissions for a given application ID, returning a copy of the permissions vector."}, {"name": "UpdateCache", "description": "Updates or sets the permissions list for a given application ID in the cache, ensuring thread safety and atomic file update."}, {"name": "Invalidate", "description": "Removes cached permissions for a specific application ID."}, {"name": "Clear", "description": "Clears the entire cache, removing all entries."}, {"name": "Has", "description": "Checks whether the cache contains an entry for a given application ID."}, {"name": "Size", "description": "Returns the current number of entries in the cache."}], "calls": ["WPEFramework::Plugin::OttPermissionCache::Instance", "WPEFramework::Plugin::OttPermissionCache::GetPermissions", "WPEFramework::Plugin::OttPermissionCache::UpdateCache", "WPEFramework::Plugin::OttPermissionCache::Invalidate", "WPEFramework::Plugin::OttPermissionCache::Clear", "WPEFramework::Plugin::OttPermissionCache::Has", "WPEFramework::Plugin::OttPermissionCache::Size"], "search-terms": ["OttPermissionCache", "permission cache", "application ID", "thread-safe cache", "permissions", "OTT services", "In-memory cache", "Singleton"], "state": 2, "file_id": 8770, "knowledge_revision": 17551, "git_revision": "ebc81d5be406b7bad5fd35c44b16992d94834970", "ctags": [{"_type": "tag", "name": "OttPermissionCache", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/OttServices/ProtoImplementations/ThorPermissions/OttPermissionCache.h", "pattern": "/^    class OttPermissionCache {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/OttServices/ProtoImplementations/ThorPermissions/OttPermissionCache.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/OttServices/ProtoImplementations/ThorPermissions/OttPermissionCache.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_admin", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/OttServices/ProtoImplementations/ThorPermissions/OttPermissionCache.h", "pattern": "/^        mutable std::mutex _admin;$/", "language": "C++", "typeref": "typename:std::mutex", "kind": "member", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class"}, {"_type": "tag", "name": "_cache", "path": "/home/kavia/workspace/code-generation/app-gateway2/plugin/OttServices/ProtoImplementations/ThorPermissions/OttPermissionCache.h", "pattern": "/^        std::map<string, std::vector<string>> _cache;$/", "language": "C++", "typeref": "typename:std::map<string,std::vector<string>>", "kind": "member", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class"}], "hash": "9226dae40b6e63548daf8ce6a3b9e733", "format-version": 4, "code-base-name": "app-gateway2", "filename": "plugin/OttServices/ProtoImplementations/ThorPermissions/OttPermissionCache.h", "fields": [{"name": "std::mutex _admin", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class", "description": "unavailable"}, {"name": "std::map<string,std::vector<string>> _cache", "scope": "WPEFramework::Plugin::OttPermissionCache", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"17551": "ebc81d5be406b7bad5fd35c44b16992d94834970"}]}