{"is_source_file": true, "format": "C++ header (.h)", "description": "This file defines the TelemetryImplementation class, which implements telemetry and configuration interfaces within the WPEFramework plugin for telemetry management. It includes nested notification classes, manages power and user settings notifications, and declares methods for report handling, telemetry opt-out, and event dispatch.", "external_files": ["Module.h", "interfaces/Ids.h", "interfaces/ITelemetry.h", "interfaces/IConfiguration.h", "interfaces/IPowerManager.h", "PowerManagerInterface.h", "com/com.h", "core/core.h"], "external_methods": ["WPEFramework::Exchange::IPowerManager::IModeChangedNotification::OnPowerModeChanged", "WPEFramework::Exchange::IUserSettings::INotification::OnPrivacyModeChanged", "Core::IDispatch::Dispatch", "Core::ProxyType<Core::IDispatch>::Create", "Core::proxy_cast<Core::IDispatch>", "Core::CriticalSection", "PluginHost::IShell", "JsonValue::JsonValue"], "published": ["WPEFramework::Plugin::TelemetryImplementation"], "classes": [{"name": "TelemetryImplementation", "description": "Main class implementing telemetry and configuration interfaces, managing notifications, event dispatch, and report operations.", "nested_classes": [{"name": "PowerManagerNotification", "description": "Notification callback for power mode changes, linked to PowerManager."}, {"name": "UserSettingsNotification", "description": "Notification callback for user privacy mode changes, included if HAS_RBUS is defined."}, {"name": "Job", "description": "Represents a dispatched task for telemetry events, managing dispatching with parameters."}]}], "methods": [{"name": "Register", "description": "Registers an ITelemetry notification callback."}, {"name": "Unregister", "description": "Unregisters an ITelemetry notification callback."}, {"name": "SetReportProfileStatus", "description": "Sets the profile status for reporting."}, {"name": "LogApplicationEvent", "description": "Logs an application event with a name and value."}, {"name": "UploadReport", "description": "Triggers uploading of telemetry report."}, {"name": "AbortReport", "description": "Aborts the current telemetry report process."}, {"name": "SetOptOutTelemetry", "description": "Sets the opt-out status for telemetry collection."}, {"name": "IsOptOutTelemetry", "description": "Checks if telemetry collection is opted out."}, {"name": "InitializePowerManager", "description": "Initializes power management interface and notifications."}, {"name": "onPowerModeChanged", "description": "Handles power mode change events."}, {"name": "registerEventHandlers", "description": "Registers event handlers for telemetry."}, {"name": "getFileContent", "description": "Reads the content of a specified file into a string."}, {"name": "Configure", "description": "Configures the plugin with provided service interface."}, {"name": "notifyT2PrivacyMode", "description": "Handles privacy mode change notifications (RBUS-specific)."}, {"name": "onReportUploadStatus", "description": "Handles report upload status updates (RBUS-specific)."}, {"name": "getPrivacyMode", "description": "Retrieves current privacy mode (RBUS-specific)."}, {"name": "setRFCReportProfiles", "description": "Sets report profiles via RFC (RBUS-specific)."}, {"name": "dispatchEvent", "description": "Dispatches a telemetry event with parameters."}, {"name": "void Dispatch()", "description": "Dispatches the event with given parameters.", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}, {"name": "Core::ProxyType<Core::IDispatch> Create(TelemetryImplementation * telemetryImplementation,Event event,JsonValue params)", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "Job(TelemetryImplementation * TelemetryImplementation,Event event,JsonValue & params)", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnPowerModeChanged(const PowerState currentState,const PowerState newState)", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "void OnPrivacyModeChanged(const string & privacyMode)", "scope": "WPEFramework::Plugin::TelemetryImplementation::UserSettingsNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "PowerManagerNotification(TelemetryImplementation & parent)", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "UserSettingsNotification(TelemetryImplementation & parent)", "scope": "WPEFramework::Plugin::TelemetryImplementation::UserSettingsNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "T * baseInterface()", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "~Job()", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class", "description": "unavailable"}], "calls": ["TelemetryImplementation::Dispatch", "Core::IDispatch::Dispatch", "TelemetryImplementation::AddRef", "TelemetryImplementation::Release"], "search-terms": ["TelemetryImplementation", "IPowerManager", "IUserSettings", "PowerManagerNotification", "UserSettingsNotification", "UploadReport", "Configure", "OptOutTelemetry", "InitializePowerManager"], "state": 2, "file_id": 5886, "knowledge_revision": 11882, "git_revision": "", "ctags": [{"_type": "tag", "name": "Create", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            static Core::ProxyType<Core::IDispatch> Create(TelemetryImplementation* telemetryImp/", "language": "C++", "typeref": "typename:Core::ProxyType<Core::IDispatch>", "kind": "function", "signature": "(TelemetryImplementation * telemetryImplementation,Event event,JsonValue params)", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Dispatch", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            virtual void Dispatch() {$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        enum Event$/", "language": "C++", "kind": "enum", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            Job(TelemetryImplementation* TelemetryImplementation, Event event, JsonValue &params/", "language": "C++", "kind": "function", "signature": "(TelemetryImplementation * TelemetryImplementation,Event event,JsonValue & params)", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        class EXTERNAL Job : public Core::IDispatch {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "OnPowerModeChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^                void OnPowerModeChanged(const PowerState currentState, const PowerState newState/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const PowerState currentState,const PowerState newState)", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "OnPrivacyModeChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^                void OnPrivacyModeChanged(const string& privacyMode)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const string & privacyMode)", "scope": "WPEFramework::Plugin::TelemetryImplementation::UserSettingsNotification", "scopeKind": "class"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "PowerManagerNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^                explicit PowerManagerNotification(TelemetryImplementation& parent)$/", "language": "C++", "kind": "function", "signature": "(TelemetryImplementation & parent)", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "PowerManagerNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            class PowerManagerNotification : public Exchange::IPowerManager::IModeChangedNotific/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "PowerState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^using PowerState = WPEFramework::Exchange::IPowerManager::PowerState;$/", "language": "C++", "typeref": "typename:WPEFramework::Exchange::IPowerManager::PowerState", "kind": "typedef"}, {"_type": "tag", "name": "TELEMETRY_EVENT_ABORTREPORT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            TELEMETRY_EVENT_ABORTREPORT$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::TelemetryImplementation::Event", "scopeKind": "enum"}, {"_type": "tag", "name": "TELEMETRY_EVENT_ONREPORTUPLOAD", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            TELEMETRY_EVENT_ONREPORTUPLOAD,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::TelemetryImplementation::Event", "scopeKind": "enum"}, {"_type": "tag", "name": "TELEMETRY_EVENT_UPLOADREPORT", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            TELEMETRY_EVENT_UPLOADREPORT,$/", "language": "C++", "kind": "enumerator", "scope": "WPEFramework::Plugin::TelemetryImplementation::Event", "scopeKind": "enum"}, {"_type": "tag", "name": "TelemetryImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^    class TelemetryImplementation : public Exchange::ITelemetry, public Exchange::IConfiguration$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "ThermalTemperature", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^using ThermalTemperature = WPEFramework::Exchange::IPowerManager::ThermalTemperature;$/", "language": "C++", "typeref": "typename:WPEFramework::Exchange::IPowerManager::ThermalTemperature", "kind": "typedef"}, {"_type": "tag", "name": "UserSettingsNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^                explicit UserSettingsNotification(TelemetryImplementation& parent)$/", "language": "C++", "kind": "function", "signature": "(TelemetryImplementation & parent)", "scope": "WPEFramework::Plugin::TelemetryImplementation::UserSettingsNotification", "scopeKind": "class"}, {"_type": "tag", "name": "UserSettingsNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            class UserSettingsNotification : public Exchange::IUserSettings::INotification {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_adminLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        mutable Core::CriticalSection _adminLock;$/", "language": "C++", "typeref": "typename:Core::CriticalSection", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_event", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            const Event _event;$/", "language": "C++", "typeref": "typename:const Event", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_instance", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        static TelemetryImplementation* _instance;$/", "language": "C++", "typeref": "typename:TelemetryImplementation *", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_params", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            JsonValue _params;$/", "language": "C++", "typeref": "typename:JsonValue", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^                TelemetryImplementation& _parent;$/", "language": "C++", "typeref": "typename:TelemetryImplementation &", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^                TelemetryImplementation& _parent;$/", "language": "C++", "typeref": "typename:TelemetryImplementation &", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation::UserSettingsNotification", "scopeKind": "class"}, {"_type": "tag", "name": "_powerManagerPlugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        PowerManagerInterfaceRef _powerManagerPlugin;$/", "language": "C++", "typeref": "typename:PowerManagerInterfaceRef", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_pwrMgrNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        Core::Sink<PowerManagerNotification> _pwrMgrNotification;$/", "language": "C++", "typeref": "typename:Core::Sink<PowerManagerNotification>", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_registeredEventHandlers", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        bool _registeredEventHandlers;$/", "language": "C++", "typeref": "typename:bool", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_service", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        PluginHost::IShell* _service;$/", "language": "C++", "typeref": "typename:PluginHost::IShell *", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_telemetryImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            TelemetryImplementation *_telemetryImplementation;$/", "language": "C++", "typeref": "typename:TelemetryImplementation *", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}, {"_type": "tag", "name": "_telemetryNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        std::list<Exchange::ITelemetry::INotification*> _telemetryNotification;$/", "language": "C++", "typeref": "typename:std::list<Exchange::ITelemetry::INotification * >", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_userSettingsNotification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        Core::Sink<UserSettingsNotification> _userSettingsNotification;$/", "language": "C++", "typeref": "typename:Core::Sink<UserSettingsNotification>", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_userSettingsPlugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^        Exchange::IUserSettings* _userSettingsPlugin;$/", "language": "C++", "typeref": "typename:Exchange::IUserSettings *", "kind": "member", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "baseInterface", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^                T* baseInterface()$/", "language": "C++", "typeref": "typename:T *", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class"}, {"_type": "tag", "name": "~Job", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "pattern": "/^            ~Job() {$/", "language": "C++", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class"}], "hash": "949a05cffcff5b61f060dd77bf83f235", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/Telemetry/TelemetryImplementation.h", "fields": [{"name": "Core::CriticalSection _adminLock", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "const Event _event", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "TelemetryImplementation * _instance", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "JsonValue _params", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "TelemetryImplementation & _parent", "scope": "WPEFramework::Plugin::TelemetryImplementation::PowerManagerNotification", "scopeKind": "class", "description": "unavailable"}, {"name": "PowerManagerInterfaceRef _powerManagerPlugin", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::Sink<PowerManagerNotification> _pwrMgrNotification", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "bool _registeredEventHandlers", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "PluginHost::IShell * _service", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "TelemetryImplementation * _telemetryImplementation", "scope": "WPEFramework::Plugin::TelemetryImplementation::Job", "scopeKind": "class", "description": "unavailable"}, {"name": "std::list<Exchange::ITelemetry::INotification * > _telemetryNotification", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::Sink<UserSettingsNotification> _userSettingsNotification", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Exchange::IUserSettings * _userSettingsPlugin", "scope": "WPEFramework::Plugin::TelemetryImplementation", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"11882": ""}]}