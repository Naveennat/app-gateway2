{"is_source_file": true, "format": "C++ header file", "description": "This file defines a template class 'PingPongEnabled' that provides WebSocket ping-pong functionalities, including starting ping routines, handling pong responses, and managing connection states. It is intended to be inherited by other classes to add heartbeat mechanisms for WebSocket connections.", "external_files": ["websocketpp/common/connection_hdl.hpp", "websocketpp/common/functional.hpp", "websocketpp/error.hpp", "Module.h", "UtilsLogging.h"], "external_methods": ["websocketpp::lib::bind", "websocketpp::lib::placeholders::_1", "websocketpp::lib::placeholders::_2", "websocketpp::session::state::value", "connection->set_pong_handler", "connection->set_pong_timeout_handler", "connection->get_state", "connection->ping", "derived.getConnection", "derived.closeConnection", "derived.endpointImpl_.set_timer"], "published": ["WebSockets::PingPongEnabled"], "classes": [{"name": "PingPongEnabled", "description": "A template class that adds ping-pong heartbeat functionality to WebSocket connections, including methods for starting pings, handling pong responses, and managing connection state."}], "methods": [{"name": "void startPing(ConnectionHandler handler)", "description": "Initializes the ping-pong process by setting pong handlers and scheduling the first ping.", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"name": "void schedule(uint interval,const std::function<void (websocketpp::lib::error_code const &)> & cb)", "description": "Sets a timer to call a callback function after a specified interval.", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"name": "void ping(websocketpp::lib::error_code ecc)", "description": "Sends a ping message over the WebSocket connection if the connection is open.", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"name": "void onPong(ConnectionHandler hdl,std::string)", "description": "Handles the reception of a pong message and reschedules the next ping.", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"name": "void onPongTimeout(ConnectionHandler hdl,std::string)", "description": "Handles timeout events when a pong is not received in time, leading to connection closure.", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"name": "void printConnectionState(const websocketpp::session::state::value & state) const", "description": "Logs the current WebSocket connection state.", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}], "calls": ["derived.getConnection", "connection->set_pong_handler", "connection->set_pong_timeout_handler", "connection->get_state", "connection->ping", "derived.closeConnection", "derived.endpointImpl_.set_timer", "websocketpp::lib::bind", "LOGINFO", "LOGERR"], "search-terms": ["PingPongEnabled", "WebSocket heartbeat", "WebSocket ping-pong", "connection_hdl", "set_pong_handler", "set_pong_timeout_handler"], "state": 2, "file_id": 141, "knowledge_revision": 512, "git_revision": "", "ctags": [{"_type": "tag", "name": "ConnectionHandler", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^    typedef typename websocketpp::connection_hdl ConnectionHandler;$/", "language": "C++", "typeref": "typename:websocketpp::connection_hdl", "kind": "typedef", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"_type": "tag", "name": "PingPongEnabled", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^class PingPongEnabled$/", "language": "C++", "kind": "class", "scope": "WebSockets", "scopeKind": "namespace"}, {"_type": "tag", "name": "WebSockets", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^namespace WebSockets   {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "onPong", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^void PingPongEnabled<Derived>::onPong(ConnectionHandler hdl, std::string)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ConnectionHandler hdl,std::string)", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"_type": "tag", "name": "onPongTimeout", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^void PingPongEnabled<Derived>::onPongTimeout(ConnectionHandler hdl, std::string)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ConnectionHandler hdl,std::string)", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"_type": "tag", "name": "ping", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^void PingPongEnabled<Derived>::ping(websocketpp::lib::error_code ecc)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(websocketpp::lib::error_code ecc)", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"_type": "tag", "name": "pingInterval_", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^    const uint pingInterval_{5000};$/", "language": "C++", "typeref": "typename:const uint", "kind": "member", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"_type": "tag", "name": "printConnectionState", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^void PingPongEnabled<Derived>::printConnectionState(const websocketpp::session::state::value& st/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const websocketpp::session::state::value & state) const", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"_type": "tag", "name": "schedule", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^void PingPongEnabled<Derived>::schedule(uint interval, const std::function<void(websocketpp::lib/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(uint interval,const std::function<void (websocketpp::lib::error_code const &)> & cb)", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}, {"_type": "tag", "name": "startPing", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "pattern": "/^void PingPongEnabled<Derived>::startPing(ConnectionHandler handler)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(ConnectionHandler handler)", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class"}], "hash": "5e27f308fca82ff6d3af1a3992e98914", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/helpers/WebSockets/PingPong/PingPongEnabled.h", "fields": [{"name": "const uint pingInterval_", "scope": "WebSockets::PingPongEnabled", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"512": ""}]}