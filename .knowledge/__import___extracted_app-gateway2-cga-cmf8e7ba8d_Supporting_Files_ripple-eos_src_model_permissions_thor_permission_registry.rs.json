{"is_source_file": true, "format": "Rust", "description": "This source file defines the 'ThorPermissionRegistry' struct and related data types and functions for managing permission data loaded from a YAML configuration. It includes conversions to 'BadgerPermission' and 'FireboltPermission', and implements the 'FireboltPermissionRegistry' trait with methods to retrieve specific permissions and capabilities. It also contains unit tests for loading and querying permissions.", "external_files": ["crate::model::badger::{BadgerDataField, BadgerPermission}", "crate::model::permissions::firebolt::{CapabilityRole, CapabilityRoleList, FireboltApi, FireboltPermission, FireboltPermissionRegistry}", "serde::Deserialize", "thunder_ripple_sdk::ripple_sdk::api::firebolt::fb_capabilities::CapabilityRole as Role", "thunder_ripple_sdk::ripple_sdk::serde_yaml"], "external_methods": ["serde_yaml::from_str", "std::include_str"], "published": ["ThorPermissionYaml", "ThorPermissionRegistry"], "classes": [{"name": "ThorPermissionYaml", "description": "Data structure representing permissions loaded from YAML, with fields for id, description, display name, various optional capabilities and APIs."}, {"name": "ThorPermissionRegistry", "description": "Registry class managing a list of 'ThorPermissionYaml' permissions, providing methods to create instances from YAML string, and to extract specific permission types."}], "methods": [{"name": "from(the_yaml: &ThorPermissionYaml) -> Self", "description": "Converts 'ThorPermissionYaml' to 'BadgerPermission'.", "scope": "FireboltPermission", "scopeKind": "implementation"}, {"name": "from", "description": "Converts 'ThorPermissionYaml' to 'FireboltPermission'."}, {"name": "new_from(permissions_str: &str) -> Box<Self>", "description": "Creates a new 'ThorPermissionRegistry' instance from a YAML string of permissions.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "new() -> Box<Self>", "description": "Creates a new 'ThorPermissionRegistry' instance from default included YAML.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "badger_permissions(&self) -> Vec<BadgerPermission>", "description": "Returns a list of 'BadgerPermission' objects extracted from YAML permissions.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "firebolt_permissions(&self) -> Vec<FireboltPermission>", "description": "Returns a list of 'FireboltPermission' objects extracted from YAML permissions.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "permissions(&self) -> Vec<FireboltPermission>", "description": "Implements trait method to return 'FireboltPermission' list.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "box_clone(&self) -> Box<dyn FireboltPermissionRegistry>", "description": "Clones the registry as a boxed trait object.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "get_firebolt_caps_from_ref(&self, ids: Vec<String>) -> Vec<String>", "description": "Retrieves a list of capability strings from permissions matching given IDs.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "get_firebolt_permissions_from_ref(&self, ids: Vec<String>) -> Vec<CapabilityRole>", "description": "Retrieves a list of 'CapabilityRole' objects for given permission IDs, combining use and provide roles.", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"name": "test_get_firebolt_permissions_from_ref()", "scope": "tests", "scopeKind": "module", "description": "unavailable"}, {"name": "test_load()", "scope": "tests", "scopeKind": "module", "description": "unavailable"}], "calls": ["serde_yaml::from_str", "std::include_str"], "search-terms": ["ThorPermissionYaml", "ThorPermissionRegistry", "firebolt_capability", "badger_data_fields", "permissions_yaml", "load permissions from YAML", "convert YAML to permissions", "firebolt permission registry", "badger permission conversion", "permissions filtering"], "state": 2, "file_id": 1786, "knowledge_revision": 16258, "git_revision": "0f87a35b32215bc8547fb583d6c84bd51f603f69", "ctags": [{"_type": "tag", "name": "BadgerPermission", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^impl From<&ThorPermissionYaml> for BadgerPermission {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "FireboltPermission", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^impl From<&ThorPermissionYaml> for FireboltPermission {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "ThorPermissionRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^impl FireboltPermissionRegistry for ThorPermissionRegistry {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "ThorPermissionRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^impl ThorPermissionRegistry {$/", "language": "Rust", "kind": "implementation"}, {"_type": "tag", "name": "ThorPermissionRegistry", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^pub struct ThorPermissionRegistry {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "ThorPermissionYaml", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^pub struct ThorPermissionYaml {$/", "language": "Rust", "kind": "struct"}, {"_type": "tag", "name": "badger_data_fields", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    badger_data_fields: Option<Vec<String>>,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "badger_permissions", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    pub fn badger_permissions(&self) -> Vec<BadgerPermission> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Vec<BadgerPermission>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "box_clone", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    fn box_clone(&self) -> Box<dyn FireboltPermissionRegistry> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Box<dyn FireboltPermissionRegistry>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "description", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    description: String,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "display_name", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    display_name: String,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "firebolt_apis", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    firebolt_apis: Option<Vec<String>>,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "firebolt_capability", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    firebolt_capability: Option<Vec<String>>,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "firebolt_permissions", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    pub fn firebolt_permissions(&self) -> Vec<FireboltPermission> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Vec<FireboltPermission>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "firebolt_provide_capability", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    firebolt_provide_capability: Option<Vec<String>>,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "from", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    fn from(the_yaml: &ThorPermissionYaml) -> Self {$/", "language": "Rust", "kind": "method", "signature": "(the_yaml: &ThorPermissionYaml) -> Self", "scope": "BadgerPermission", "scopeKind": "implementation"}, {"_type": "tag", "name": "from", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    fn from(the_yaml: &ThorPermissionYaml) -> Self {$/", "language": "Rust", "kind": "method", "signature": "(the_yaml: &ThorPermissionYaml) -> Self", "scope": "FireboltPermission", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_firebolt_caps_from_ref", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    fn get_firebolt_caps_from_ref(&self, ids: Vec<String>) -> Vec<String> {$/", "language": "Rust", "kind": "method", "signature": "(&self, ids: Vec<String>) -> Vec<String>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "get_firebolt_permissions_from_ref", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    fn get_firebolt_permissions_from_ref(&self, ids: Vec<String>) -> Vec<CapabilityRole> {$/", "language": "Rust", "kind": "method", "signature": "(&self, ids: Vec<String>) -> Vec<CapabilityRole>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "hammer_apis", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    hammer_apis: Option<Vec<String>>,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    id: String,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionYaml", "scopeKind": "struct"}, {"_type": "tag", "name": "new", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    pub fn new() -> Box<Self> {$/", "language": "Rust", "kind": "method", "signature": "() -> Box<Self>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "new_from", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    fn new_from(permissions_str: &str) -> Box<Self> {$/", "language": "Rust", "kind": "method", "signature": "(permissions_str: &str) -> Box<Self>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "permissions", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    fn permissions(&self) -> Vec<FireboltPermission> {$/", "language": "Rust", "kind": "method", "signature": "(&self) -> Vec<FireboltPermission>", "scope": "ThorPermissionRegistry", "scopeKind": "implementation"}, {"_type": "tag", "name": "test_get_firebolt_permissions_from_ref", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    pub fn test_get_firebolt_permissions_from_ref() {$/", "language": "Rust", "kind": "function", "signature": "()", "scope": "tests", "scopeKind": "module"}, {"_type": "tag", "name": "test_load", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    pub fn test_load() {$/", "language": "Rust", "kind": "function", "signature": "()", "scope": "tests", "scopeKind": "module"}, {"_type": "tag", "name": "tests", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^pub mod tests {$/", "language": "Rust", "kind": "module"}, {"_type": "tag", "name": "yaml_permissions", "path": "/home/kavia/workspace/code-generation/app-gateway2/__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "pattern": "/^    yaml_permissions: Vec<ThorPermissionYaml>,$/", "language": "Rust", "kind": "field", "scope": "ThorPermissionRegistry", "scopeKind": "struct"}], "hash": "137fc69659e4ba915efb96e48c00c47b", "format-version": 4, "code-base-name": "app-gateway2", "filename": "__import__/extracted/app-gateway2-cga-cmf8e7ba8d/Supporting_Files/ripple-eos/src/model/permissions/thor_permission_registry.rs", "fields": [{"name": "badger_data_fields: Option<Vec<String>>,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "description: String,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "display_name: String,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "firebolt_apis: Option<Vec<String>>,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "firebolt_capability: Option<Vec<String>>,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "firebolt_provide_capability: Option<Vec<String>>,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "hammer_apis: Option<Vec<String>>,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "id: String,", "scope": "ThorPermissionYaml", "scopeKind": "struct", "description": "unavailable"}, {"name": "yaml_permissions: Vec<ThorPermissionYaml>,", "scope": "ThorPermissionRegistry", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"16258": "0f87a35b32215bc8547fb583d6c84bd51f603f69"}]}