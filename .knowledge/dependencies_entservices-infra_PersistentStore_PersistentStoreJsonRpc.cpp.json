{"is_source_file": true, "format": "C++", "description": "This file provides the implementation of the PersistentStore class, which manages key-value storage operations including CRUD functions, cache management, namespace management, and storage size limitations. It registers and unregisters RPC endpoints and handles calls to underlying storage interfaces.", "external_files": ["PersistentStore.h"], "external_methods": ["Register", "Unregister", "Core::ERROR_NONE", "Exchange::IStore2::ScopeType", "Exchange::IStoreInspector::ScopeType", "Exchange::IStoreInspector::GetKeys", "Exchange::IStoreInspector::GetNamespaces", "Exchange::IStoreInspector::GetStorageSizes", "Exchange::IStoreInspector::NamespaceSize", "Exchange::IStoreLimit::GetNamespaceStorageLimit", "Exchange::IStoreLimit::SetNamespaceStorageLimit", "RPC::IStringIterator"], "published": ["PersistentStore::RegisterAll", "PersistentStore::UnregisterAll", "PersistentStore::endpoint_setValue", "PersistentStore::endpoint_getValue", "PersistentStore::endpoint_deleteKey", "PersistentStore::endpoint_deleteNamespace", "PersistentStore::endpoint_getKeys", "PersistentStore::endpoint_getNamespaces", "PersistentStore::endpoint_getStorageSize", "PersistentStore::endpoint_getStorageSizes", "PersistentStore::endpoint_flushCache", "PersistentStore::endpoint_getNamespaceStorageLimit", "PersistentStore::endpoint_setNamespaceStorageLimit"], "classes": [{"name": "PersistentStore", "description": "A class managing persistent key-value data storage with methods for register/unregister endpoints, and CRUD operations on the data store."}], "methods": [{"name": "void RegisterAll()", "description": "Registers all the RPC endpoints for persistent store operations.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "void UnregisterAll()", "description": "Unregisters all the RPC endpoints registered by this class.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_setValue(const SetValueParamsData & params,DeleteKeyResultInfo & response)", "description": "Sets a value in the persistent store.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_getValue(const DeleteKeyParamsInfo & params,GetValueResultData & response)", "description": "Retrieves a value from the persistent store.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_deleteKey(const DeleteKeyParamsInfo & params,DeleteKeyResultInfo & response)", "description": "Deletes a key from the specified namespace.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_deleteNamespace(const DeleteNamespaceParamsInfo & params,DeleteKeyResultInfo & response)", "description": "Deletes an entire namespace.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_getKeys(const DeleteNamespaceParamsInfo & params,GetKeysResultData & response)", "description": "Retrieves all keys within a namespace.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_getNamespaces(const GetNamespacesParamsInfo & params,GetNamespacesResultData & response)", "description": "Retrieves all namespaces.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_getStorageSize(const GetNamespacesParamsInfo & params,JsonObject & response)", "description": "Deprecated: retrieves storage size information (legacy).", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_getStorageSizes(const GetNamespacesParamsInfo & params,GetStorageSizesResultData & response)", "description": "Retrieves sizes of all namespaces.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_flushCache(DeleteKeyResultInfo & response)", "description": "Flushes the cache.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_getNamespaceStorageLimit(const DeleteNamespaceParamsInfo & params,GetNamespaceStorageLimitResultData & response)", "description": "Gets storage limit for a namespace.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"name": "uint32_t endpoint_setNamespaceStorageLimit(const SetNamespaceStorageLimitParamsData & params)", "description": "Sets storage limit for a namespace.", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}], "calls": ["Register<SetValueParamsData, DeleteKeyResultInfo>", "Register<DeleteKeyParamsInfo, GetValueResultData>", "Register<DeleteKeyParamsInfo, DeleteKeyResultInfo>", "Register<DeleteNamespaceParamsInfo, DeleteKeyResultInfo>", "Register<DeleteNamespaceParamsInfo, GetKeysResultData>", "Register<GetNamespacesParamsInfo, GetNamespacesResultData>", "Register<GetNamespacesParamsInfo, JsonObject>", "Register<GetNamespacesParamsInfo, GetStorageSizesResultData>", "Register<void, DeleteKeyResultInfo>", "Register<SetNamespaceStorageLimitParamsData, void>", "Unregister", "_store2->SetValue", "_store2->GetValue", "_store2->DeleteKey", "_store2->DeleteNamespace", "_storeInspector->GetKeys", "_storeInspector->GetNamespaces", "_storeInspector->GetStorageSizes", "_storeCache->FlushCache", "_storeLimit->GetNamespaceStorageLimit", "_storeLimit->SetNamespaceStorageLimit"], "search-terms": ["PersistentStore", "endpoint_setValue", "endpoint_getValue", "DeleteKeyParamsInfo", "GetNamespacesParamsInfo", "RegisterAll"], "state": 2, "file_id": 6245, "knowledge_revision": 12607, "git_revision": "", "ctags": [{"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^namespace Plugin {$/", "file": true, "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "RegisterAll", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    void PersistentStore::RegisterAll()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "UnregisterAll", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    void PersistentStore::UnregisterAll()$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^namespace WPEFramework {$/", "file": true, "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "endpoint_deleteKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_deleteKey(const DeleteKeyParamsInfo& params, DeleteKeyRes/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const DeleteKeyParamsInfo & params,DeleteKeyResultInfo & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_deleteNamespace", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_deleteNamespace(const DeleteNamespaceParamsInfo& params, /", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const DeleteNamespaceParamsInfo & params,DeleteKeyResultInfo & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_flushCache", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_flushCache(DeleteKeyResultInfo& response)$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(DeleteKeyResultInfo & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_getKeys", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_getKeys(const DeleteNamespaceParamsInfo& params, GetKeysR/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const DeleteNamespaceParamsInfo & params,GetKeysResultData & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_getNamespaceStorageLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_getNamespaceStorageLimit(const DeleteNamespaceParamsInfo&/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const DeleteNamespaceParamsInfo & params,GetNamespaceStorageLimitResultData & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_getNamespaces", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_getNamespaces(const GetNamespacesParamsInfo& params, GetN/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const GetNamespacesParamsInfo & params,GetNamespacesResultData & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_getStorageSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_getStorageSize(const GetNamespacesParamsInfo& params, Jso/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const GetNamespacesParamsInfo & params,JsonObject & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_getStorageSizes", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_getStorageSizes(const GetNamespacesParamsInfo& params, Ge/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const GetNamespacesParamsInfo & params,GetStorageSizesResultData & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_getValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_getValue(const DeleteKeyParamsInfo& params, GetValueResul/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const DeleteKeyParamsInfo & params,GetValueResultData & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_setNamespaceStorageLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_setNamespaceStorageLimit(const SetNamespaceStorageLimitPa/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const SetNamespaceStorageLimitParamsData & params)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}, {"_type": "tag", "name": "endpoint_setValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "pattern": "/^    uint32_t PersistentStore::endpoint_setValue(const SetValueParamsData& params, DeleteKeyResul/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const SetValueParamsData & params,DeleteKeyResultInfo & response)", "scope": "WPEFramework::Plugin::PersistentStore", "scopeKind": "class"}], "hash": "251daffbc85b871744c76f2398cba0f7", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/PersistentStore/PersistentStoreJsonRpc.cpp", "revision_history": [{"12607": ""}]}