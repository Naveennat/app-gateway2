{"is_source_file": true, "format": "C++ header file (.h)", "description": "This file declares the PersistentStoreImplementation class which implements multiple interfaces related to storage operations, notifications, caching, inspection, and limits within a plugin for the WPEFramework. It includes nested classes, method implementations for register/unregister, set/get/delete operations, and internal notification handling.", "external_files": ["Module.h", "<interfaces/IStore.h>", "<interfaces/IStore2.h>", "<interfaces/IStoreCache.h>"], "external_methods": ["Core::SafeSyncType<Core::CriticalSection>::lock()", "Core::CriticalSection", "Core::ERROR_NONE", "Core::ERROR_NOT_SUPPORTED"], "published": ["PersistentStoreImplementation"], "classes": [{"name": "PersistentStoreImplementation", "description": "Implements storage, notification, cache, inspection, and limits interfaces for persistent storage within the plugin, manages clients and notifications, and provides methods to set/get/delete storage data."}, {"name": "PersistentStoreImplementation::Store2Notification", "description": "Handles notifications for changes in the store's data, invoking client callbacks when values change."}], "methods": [{"name": "uint32_t Register(IStore2::INotification * notification)", "description": "Registers a notification client to receive updates.", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"name": "uint32_t Unregister(IStore2::INotification * notification)", "description": "Unregisters a previously registered notification client.", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"name": "uint32_t SetValue(const IStore2::ScopeType,const string & ns,const string & key,const string & value,const uint32_t ttl)", "description": "Sets a value in the store for a specific namespace and key.", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"name": "uint32_t GetValue(const IStore2::ScopeType,const string & ns,const string & key,string & value,uint32_t & ttl)", "description": "Retrieves a value from the store for a specific namespace and key.", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"name": "uint32_t DeleteKey(const IStore2::ScopeType,const string & ns,const string & key)", "description": "Deletes a specific key from the store.", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"name": "uint32_t DeleteNamespace(const IStore2::ScopeType,const string & ns)", "description": "Deletes an entire namespace from the store.", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"name": "uint32_t DeleteKey(const string & ns,const string & key)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t DeleteNamespace(const string & ns)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t FlushCache()", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetKeys(const IStoreInspector::ScopeType,const string & ns,RPC::IStringIterator * & keys)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetNamespaceStorageLimit(const IStoreLimit::ScopeType,const string & ns,uint32_t & size)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetNamespaces(const IStoreInspector::ScopeType,RPC::IStringIterator * & namespaces)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetStorageSizes(const IStoreInspector::ScopeType,INamespaceSizeIterator * & storageList)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t GetValue(const string & ns,const string & key,string & value)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Register(IStore::INotification * notification)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t SetNamespaceStorageLimit(const IStoreLimit::ScopeType,const string & ns,const uint32_t size)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t SetValue(const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "Store2Notification(PersistentStoreImplementation & parent)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation::Store2Notification", "scopeKind": "class", "description": "unavailable"}, {"name": "uint32_t Unregister(IStore::INotification * notification)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "void ValueChanged(const IStore2::ScopeType scope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation::Store2Notification", "scopeKind": "class", "description": "unavailable"}], "calls": ["Core::SafeSyncType<Core::CriticalSection>::lock()", "std::find()", "notification->AddRef()", "notification->Release()", "index != _clients.end()", "_deviceStore2->Register()", "_deviceStore2->Unregister()", "_deviceStoreCache->FlushCache()", "_deviceStoreInspector->GetKeys()", "_deviceStoreInspector->GetNamespaces()", "_deviceStoreInspector->GetStorageSizes()", "_deviceStoreLimit->SetNamespaceStorageLimit()", "_deviceStoreLimit->GetNamespaceStorageLimit()"], "search-terms": ["PersistentStoreImplementation", "IStore2::INotification", "Store2Notification", "Register", "Unregister", "SetValue", "GetValue", "DeleteKey", "DeleteNamespace", "IStoreCache", "IStoreInspector", "IStoreLimit"], "state": 2, "file_id": 258, "knowledge_revision": 698, "git_revision": "", "ctags": [{"_type": "tag", "name": "DeleteKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t DeleteKey(const IStore2::ScopeType, const string& ns, const string& key) overri/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStore2::ScopeType,const string & ns,const string & key)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DeleteKey", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t DeleteKey(const string& ns, const string& key) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const string & ns,const string & key)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DeleteNamespace", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t DeleteNamespace(const IStore2::ScopeType, const string& ns) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStore2::ScopeType,const string & ns)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "DeleteNamespace", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t DeleteNamespace(const string& ns) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const string & ns)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "FlushCache", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t FlushCache() override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "()", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetKeys", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t GetKeys(const IStoreInspector::ScopeType, const string& ns, RPC::IStringIterato/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStoreInspector::ScopeType,const string & ns,RPC::IStringIterator * & keys)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetNamespaceStorageLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t GetNamespaceStorageLimit(const IStoreLimit::ScopeType, const string& ns, uint32/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStoreLimit::ScopeType,const string & ns,uint32_t & size)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetNamespaces", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t GetNamespaces(const IStoreInspector::ScopeType, RPC::IStringIterator*& namespac/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStoreInspector::ScopeType,RPC::IStringIterator * & namespaces)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetStorageSizes", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t GetStorageSizes(const IStoreInspector::ScopeType, INamespaceSizeIterator*& stor/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStoreInspector::ScopeType,INamespaceSizeIterator * & storageList)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t GetValue(const IStore2::ScopeType, const string& ns, const string& key, string&/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStore2::ScopeType,const string & ns,const string & key,string & value,uint32_t & ttl)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "GetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t GetValue(const string& ns, const string& key, string& value) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const string & ns,const string & key,string & value)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "PersistentStoreImplementation", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^    class PersistentStoreImplementation : public Exchange::IStore,$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin", "scopeKind": "namespace"}, {"_type": "tag", "name": "Plugin", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^namespace Plugin {$/", "language": "C++", "kind": "namespace", "scope": "WPEFramework", "scopeKind": "namespace"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t Register(IStore2::INotification* notification) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(IStore2::INotification * notification)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Register", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t Register(IStore::INotification* notification) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(IStore::INotification * notification)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SetNamespaceStorageLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t SetNamespaceStorageLimit(const IStoreLimit::ScopeType, const string& ns, const /", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStoreLimit::ScopeType,const string & ns,const uint32_t size)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t SetValue(const IStore2::ScopeType, const string& ns, const string& key, const s/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const IStore2::ScopeType,const string & ns,const string & key,const string & value,const uint32_t ttl)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "SetValue", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t SetValue(const string& ns, const string& key, const string& value) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Store2Notification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^            explicit Store2Notification(PersistentStoreImplementation& parent)$/", "language": "C++", "kind": "function", "signature": "(PersistentStoreImplementation & parent)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation::Store2Notification", "scopeKind": "class"}, {"_type": "tag", "name": "Store2Notification", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        class Store2Notification : public IStore2::INotification {$/", "language": "C++", "kind": "class", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t Unregister(IStore2::INotification* notification) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(IStore2::INotification * notification)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "Unregister", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        uint32_t Unregister(IStore::INotification* notification) override$/", "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(IStore::INotification * notification)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "ValueChanged", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^            void ValueChanged(const IStore2::ScopeType scope, const string& ns, const string& ke/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const IStore2::ScopeType scope,const string & ns,const string & key,const string & value)", "scope": "WPEFramework::Plugin::PersistentStoreImplementation::Store2Notification", "scopeKind": "class"}, {"_type": "tag", "name": "WPEFramework", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^namespace WPEFramework {$/", "language": "C++", "kind": "namespace"}, {"_type": "tag", "name": "_clientLock", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        Core::CriticalSection _clientLock;$/", "language": "C++", "typeref": "typename:Core::CriticalSection", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_clients", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        std::list<IStore::INotification*> _clients;$/", "language": "C++", "typeref": "typename:std::list<IStore::INotification * >", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_deviceStore2", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        IStore2* _deviceStore2;$/", "language": "C++", "typeref": "typename:IStore2 *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_deviceStoreCache", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        IStoreCache* _deviceStoreCache;$/", "language": "C++", "typeref": "typename:IStoreCache *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_deviceStoreInspector", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        IStoreInspector* _deviceStoreInspector;$/", "language": "C++", "typeref": "typename:IStoreInspector *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_deviceStoreLimit", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        IStoreLimit* _deviceStoreLimit;$/", "language": "C++", "typeref": "typename:IStoreLimit *", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}, {"_type": "tag", "name": "_parent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^            PersistentStoreImplementation& _parent;$/", "language": "C++", "typeref": "typename:PersistentStoreImplementation &", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation::Store2Notification", "scopeKind": "class"}, {"_type": "tag", "name": "_store2Sink", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "pattern": "/^        Core::Sink<Store2Notification> _store2Sink;$/", "language": "C++", "typeref": "typename:Core::Sink<Store2Notification>", "kind": "member", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class"}], "hash": "cf6a2db63c17fdcf4123fdcc2bab2bbe", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/entservices-infra/PersistentStore/PersistentStoreImplementation.h", "fields": [{"name": "Core::CriticalSection _clientLock", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "std::list<IStore::INotification * > _clients", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "IStore2 * _deviceStore2", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "IStoreCache * _deviceStoreCache", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "IStoreInspector * _deviceStoreInspector", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "IStoreLimit * _deviceStoreLimit", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}, {"name": "PersistentStoreImplementation & _parent", "scope": "WPEFramework::Plugin::PersistentStoreImplementation::Store2Notification", "scopeKind": "class", "description": "unavailable"}, {"name": "Core::Sink<Store2Notification> _store2Sink", "scope": "WPEFramework::Plugin::PersistentStoreImplementation", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"698": ""}]}