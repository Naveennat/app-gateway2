{"is_source_file": true, "format": "C++", "description": "This file contains unit tests for the core tracing system of a software project. It uses Google Test framework to test trace buffer reading, parsing, and categorization functionalities, involving classes like CyclicBuffer and TraceUnit, and external components such as DoorBell and Time.", "external_files": ["../IPTestAdministrator.h", "<gtest/gtest.h>", "<tracing/tracing.h>", "<tracing/TraceUnit.h>", "<core/Time.h>"], "external_methods": ["gtest EXPECT_TRUE", "gtest EXPECT_STREQ", "Time::Now", "Trace::TraceType::Enable", "Trace::TraceUnit::Instance", "Trace::TraceUnit::Open", "Trace::TraceUnit::Close", "Trace::TraceUnit::SetCategories", "Trace::TraceUnit::GetCategories", "Trace::TraceUnit::IsDefaultCategory"], "published": ["TEST", "EXPECT_TRUE", "EXPECT_STREQ", "ASSERT_TRUE", "ASSERT_STREQ", "Time::Now", "TRACE", "Trace::TraceType", "Trace::TraceUnit", "System::MODULE_NAME"], "classes": [{"name": "ServerCyclicBuffer01", "description": "A custom cyclic buffer class inheriting from CyclicBuffer, providing implementation for getting read size."}, {"name": "TraceHeader", "description": "A packed structure representing the header of a trace entry, containing length, clock ticks, and line number."}, {"name": "TraceData", "description": "A data structure holding trace information including header, file, module, category, class, and text details."}], "methods": [{"name": "bool ReadTraceString(const uint8_t buffer[],uint32_t length,uint32_t & offset,string & output)", "description": "Reads a null-terminated string from a byte buffer, updating the offset.", "scope": "", "scopeKind": ""}, {"name": "bool ParseTraceData(const uint8_t buffer[],uint32_t length,uint32_t & offset,TraceData & traceData,uint32_t bufferSize)", "description": "Parses trace entry data from a buffer into a TraceData structure, verifying sizes and reading strings.", "scope": "", "scopeKind": ""}, {"name": "void DebugCheckIfConsistent(const uint8_t * buffer,int length,CyclicBuffer & cycBuffer,uint32_t bufferSize)", "description": "Verifies the consistency of trace buffer entries by counting and checking entry sizes.", "scope": "", "scopeKind": ""}, {"name": "void CreateTraceBuffer(string tracePath)", "description": "Creates directory structure for trace buffer files using system commands.", "scope": "", "scopeKind": ""}, {"name": "uint32_t GetReadSize(Cursor & cursor)", "scope": "ServerCyclicBuffer01", "scopeKind": "class", "description": "unavailable"}, {"name": "ServerCyclicBuffer01(const string & fileName,uint32_t size)", "scope": "ServerCyclicBuffer01", "scopeKind": "class", "description": "unavailable"}, {"name": "TEST(Core_tracing,simpleTracing)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "TEST(Core_tracing,simpleTracingReversed)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "string ToString()", "scope": "TraceData", "scopeKind": "struct", "description": "unavailable"}, {"name": "__anon9b557fa90102(IPTestAdministrator & testAdmin)", "scope": "TEST", "scopeKind": "function", "description": "unavailable"}, {"name": "__anon9b557fa90202(IPTestAdministrator& testAdmin )", "scope": "TEST", "scopeKind": "function", "description": "unavailable"}, {"name": "__anon9b557fa90302(IPTestAdministrator & testAdmin)", "scope": "TEST", "scopeKind": "function", "description": "unavailable"}, {"name": "__anon9b557fa90402(IPTestAdministrator& testAdmin )", "scope": "TEST", "scopeKind": "function", "description": "unavailable"}], "calls": ["gtest EXPECT_TRUE", "gtest EXPECT_STREQ", "Time::Now", "Trace::TraceType::Enable", "Trace::TraceUnit::Instance", "Trace::TraceUnit::Open", "Trace::TraceUnit::Close", "Trace::TraceUnit::SetCategories", "Trace::TraceUnit::GetCategories", "Trace::TraceUnit::IsDefaultCategory", "system", "memcpy", "snprintf"], "search-terms": ["unit testing", "tracing buffer parsing", "TraceData structure", "CyclicBuffer subclass", "TraceUnit categories", "Trace string parsing", "trace buffer consistency check"], "state": 2, "file_id": 727, "knowledge_revision": 1818, "git_revision": "", "ctags": [{"_type": "tag", "name": "CreateTraceBuffer", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^void CreateTraceBuffer(string tracePath)$/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(string tracePath)"}, {"_type": "tag", "name": "DebugCheckIfConsistent", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^void DebugCheckIfConsistent(const uint8_t * buffer, int length, CyclicBuffer& cycBuffer, uint32_/", "language": "C++", "typeref": "typename:void", "kind": "function", "signature": "(const uint8_t * buffer,int length,CyclicBuffer & cycBuffer,uint32_t bufferSize)"}, {"_type": "tag", "name": "GetReadSize", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    virtual uint32_t GetReadSize(Cursor& cursor) override$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "function", "signature": "(Cursor & cursor)", "scope": "ServerCyclicBuffer01", "scopeKind": "class"}, {"_type": "tag", "name": "ParseTraceData", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^bool ParseTraceData(const uint8_t buffer[], uint32_t length, uint32_t& offset, TraceData& traceD/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint8_t buffer[],uint32_t length,uint32_t & offset,TraceData & traceData,uint32_t bufferSize)"}, {"_type": "tag", "name": "ReadTraceString", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^bool ReadTraceString(const uint8_t buffer[], uint32_t length, uint32_t& offset, string& output)$/", "language": "C++", "typeref": "typename:bool", "kind": "function", "signature": "(const uint8_t buffer[],uint32_t length,uint32_t & offset,string & output)"}, {"_type": "tag", "name": "ServerCyclicBuffer01", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    ServerCyclicBuffer01(const string& fileName, uint32_t size)$/", "file": true, "language": "C++", "kind": "function", "signature": "(const string & fileName,uint32_t size)", "scope": "ServerCyclicBuffer01", "scopeKind": "class"}, {"_type": "tag", "name": "ServerCyclicBuffer01", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^class ServerCyclicBuffer01 : public CyclicBuffer$/", "file": true, "language": "C++", "kind": "class"}, {"_type": "tag", "name": "TEST", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^TEST(Core_tracing, simpleTracing)$/", "language": "C++", "kind": "function", "signature": "(Core_tracing,simpleTracing)"}, {"_type": "tag", "name": "TEST", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^TEST(Core_tracing, simpleTracingReversed)$/", "language": "C++", "kind": "function", "signature": "(Core_tracing,simpleTracingReversed)"}, {"_type": "tag", "name": "ToString", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    string ToString()$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "function", "signature": "()", "scope": "TraceData", "scopeKind": "struct"}, {"_type": "tag", "name": "TraceData", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^struct TraceData$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "TraceHeader", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^struct TraceHeader$/", "file": true, "language": "C++", "kind": "struct"}, {"_type": "tag", "name": "_Category", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    string _Category;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "TraceData", "scopeKind": "struct"}, {"_type": "tag", "name": "_Class", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    string _Class;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "TraceData", "scopeKind": "struct"}, {"_type": "tag", "name": "_ClockTicks", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    uint64_t _ClockTicks;$/", "file": true, "language": "C++", "typeref": "typename:uint64_t", "kind": "member", "scope": "TraceHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "_File", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    string _File;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "TraceData", "scopeKind": "struct"}, {"_type": "tag", "name": "_Header", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    TraceHeader _Header;$/", "file": true, "language": "C++", "typeref": "typename:TraceHeader", "kind": "member", "scope": "TraceData", "scopeKind": "struct"}, {"_type": "tag", "name": "_Length", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    uint16_t _Length;$/", "file": true, "language": "C++", "typeref": "typename:uint16_t", "kind": "member", "scope": "TraceHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "_LineNumber", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    uint32_t _LineNumber;$/", "file": true, "language": "C++", "typeref": "typename:uint32_t", "kind": "member", "scope": "TraceHeader", "scopeKind": "struct"}, {"_type": "tag", "name": "_Module", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    string _Module;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "TraceData", "scopeKind": "struct"}, {"_type": "tag", "name": "_Text", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    string _Text;$/", "file": true, "language": "C++", "typeref": "typename:string", "kind": "member", "scope": "TraceData", "scopeKind": "struct"}, {"_type": "tag", "name": "__anon9b557fa90102", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    auto lambdaFunc = [tracePath](IPTestAdministrator & testAdmin) {$/", "file": true, "language": "C++", "kind": "function", "signature": "(IPTestAdministrator & testAdmin) ", "scope": "TEST", "scopeKind": "function"}, {"_type": "tag", "name": "__anon9b557fa90202", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    IPTestAdministrator::OtherSideMain otherSide = [](IPTestAdministrator& testAdmin ) { lambdaV/", "file": true, "language": "C++", "kind": "function", "signature": "(IPTestAdministrator& testAdmin ) ", "scope": "TEST", "scopeKind": "function"}, {"_type": "tag", "name": "__anon9b557fa90302", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    auto lambdaFunc = [&](IPTestAdministrator & testAdmin) {$/", "file": true, "language": "C++", "kind": "function", "signature": "(IPTestAdministrator & testAdmin) ", "scope": "TEST", "scopeKind": "function"}, {"_type": "tag", "name": "__anon9b557fa90402", "path": "/home/kavia/workspace/code-generation/app-gateway2/dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "pattern": "/^    IPTestAdministrator::OtherSideMain otherSide = [](IPTestAdministrator& testAdmin ) { lambdaV/", "file": true, "language": "C++", "kind": "function", "signature": "(IPTestAdministrator& testAdmin ) ", "scope": "TEST", "scopeKind": "function"}], "hash": "7682c782386279e689f0c5eb8d0b27f0", "format-version": 4, "code-base-name": "app-gateway2", "filename": "dependencies/Thunder/Tests/unit/core/test_tracing.cpp", "fields": [{"name": "string _Category", "scope": "TraceData", "scopeKind": "struct", "description": "unavailable"}, {"name": "string _Class", "scope": "TraceData", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint64_t _ClockTicks", "scope": "TraceHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "string _File", "scope": "TraceData", "scopeKind": "struct", "description": "unavailable"}, {"name": "TraceHeader _Header", "scope": "TraceData", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint16_t _Length", "scope": "TraceHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "uint32_t _LineNumber", "scope": "TraceHeader", "scopeKind": "struct", "description": "unavailable"}, {"name": "string _Module", "scope": "TraceData", "scopeKind": "struct", "description": "unavailable"}, {"name": "string _Text", "scope": "TraceData", "scopeKind": "struct", "description": "unavailable"}], "revision_history": [{"1818": ""}]}